# =============================================================================
# PAYU PAYMENT GATEWAY CONFIGURATION TEMPLATE
# =============================================================================
# Comprehensive configuration template for PayU payment gateway integration.
# Copy this file to services/.env and configure according to your environment.
#
# PAYU DOCUMENTATION: https://developer.payu.in/
# PAYU DASHBOARD: https://dashboard.pay-u.com/
#
# SECURITY CLASSIFICATION:
# [SENSITIVE] - Contains secrets, must be secured and never committed
# [CONFIG] - Configuration values, can be committed with review
# [PAYU] - PayU-specific configuration
# =============================================================================

# -----------------------------------------------------------------------------
# PAYU MERCHANT CONFIGURATION
# -----------------------------------------------------------------------------
# [SENSITIVE] PayU Merchant Key
# Get from: PayU Dashboard → Account Settings → Merchant Key
PAYU_MERCHANT_KEY=your_payu_merchant_key

# [SENSITIVE] PayU Salt Key for hash generation
# Get from: PayU Dashboard → Account Settings → Salt Key
# CRITICAL SECURITY ELEMENT - Never expose in frontend
PAYU_SALT=your_payu_salt_key

# [SENSITIVE] PayU Webhook Secret for signature validation
# Get from: PayU Dashboard → Account Settings → Webhook Secret
PAYU_WEBHOOK_SECRET=your_payu_webhook_secret

# [SENSITIVE] PayU API Key (if using API-based integration)
# Get from: PayU Dashboard → Account Settings → API Key
PAYU_API_KEY=your_payu_api_key

# -----------------------------------------------------------------------------
# PAYU ENVIRONMENT CONFIGURATION
# -----------------------------------------------------------------------------
# [CONFIG] PayU Environment
# Values: sandbox (development), production (live)
PAYU_ENVIRONMENT=test

# [CONFIG] PayU Base URLs (automatically set based on environment)
# Sandbox URL (development)
PAYU_SANDBOX_BASE_URL=https://test.payu.in/_payment

# [SENSITIVE] Production URL (uncomment for production)
# PAYU_PRODUCTION_BASE_URL=https://secure.payu.in/_payment

# [CONFIG] PayU API Base URLs
PAYU_SANDBOX_API_URL=https://info.payu.in/merchant/service/processor/form/merchantapi.html
PAYU_PRODUCTION_API_URL=https://info.payu.in/merchant/service/processor/form/merchantapi.html

# [CONFIG] PayU Inquiry API URLs
PAYU_SANDBOX_INQUIRY_URL=https://info.payu.in/merchant/service/processor/form/merchantapi.html
PAYU_PRODUCTION_INQUIRY_URL=https://info.payu.in/merchant/service/processor/form/merchantapi.html

# -----------------------------------------------------------------------------
# PAYU PAYMENT CONFIGURATION
# -----------------------------------------------------------------------------
# [CONFIG] Payment currency (INR for Indian payments)
PAYU_CURRENCY=INR

# [CONFIG] Payment country code
PAYU_COUNTRY=IND

# [CONFIG] Payment language
PAYU_LANGUAGE=en

# [CONFIG] Payment method preference
PAYU_PAYMENT_METHOD=MONEY

# [CONFIG] Auto-complete payments
PAYU_AUTO_COMPLETE=true

# -----------------------------------------------------------------------------
# PAYU TRANSACTION SETTINGS
# -----------------------------------------------------------------------------
# [CONFIG] Transaction timeout in seconds
PAYU_TRANSACTION_TIMEOUT=300

# [CONFIG] Maximum retry attempts for failed transactions
PAYU_RETRY_ATTEMPTS=3

# [CONFIG] Retry delay in milliseconds
PAYU_RETRY_DELAY=1000

# [CONFIG] Transaction status polling interval
PAYU_STATUS_POLL_INTERVAL=5000

# [CONFIG] Maximum polling attempts
PAYU_MAX_POLL_ATTEMPTS=20

# -----------------------------------------------------------------------------
# PAYU WEBHOOK CONFIGURATION
# -----------------------------------------------------------------------------
# [SENSITIVE] Webhook endpoint URL
# Set this in PayU Dashboard for transaction notifications
PAYU_WEBHOOK_URL=https://your-domain.com/webhooks/payu

# [SENSITIVE] Webhook authentication secret
PAYU_WEBHOOK_AUTH_SECRET=your_webhook_auth_secret

# [CONFIG] Enable webhook validation
PAYU_WEBHOOK_VALIDATION_ENABLED=true

# [CONFIG] Webhook timeout in seconds
PAYU_WEBHOOK_TIMEOUT=30

# [CONFIG] Webhook retry attempts
PAYU_WEBHOOK_RETRY_ATTEMPTS=3

# -----------------------------------------------------------------------------
# PAYU SUBSCRIPTION CONFIGURATION
# -----------------------------------------------------------------------------
# [CONFIG] Enable subscription payments
PAYU_SUBSCRIPTIONS_ENABLED=true

# [CONFIG] Subscription frequency options
PAYU_SUBSCRIPTION_FREQUENCY=daily,weekly,monthly,yearly

# [CONFIG] Maximum subscription billing cycles
PAYU_MAX_BILLING_CYCLES=12

# [CONFIG] Subscription trial period in days
PAYU_TRIAL_PERIOD_DAYS=7

# [CONFIG] Subscription auto-renewal
PAYU_AUTO_RENEWAL=true

# [CONFIG] Subscription cancellation policy
PAYU_CANCELLATION_POLICY=immediate

# -----------------------------------------------------------------------------
# PAYU RETURN AND CANCEL URLS
# -----------------------------------------------------------------------------
# [CONFIG] Payment success return URL
PAYU_SUCCESS_URL=https://your-domain.com/payment-success

# [CONFIG] Payment failure return URL
PAYU_FAILURE_URL=https://your-domain.com/payment-failure

# [CONFIG] Payment cancel return URL
PAYU_CANCEL_URL=https://your-domain.com/payment-cancel

# [CONFIG] Local development return URLs (for testing)
PAYU_SUCCESS_URL_LOCAL=http://localhost:8081/payment-success
PAYU_FAILURE_URL_LOCAL=http://localhost:8081/payment-failure
PAYU_CANCEL_URL_LOCAL=http://localhost:8081/payment-cancel

# -----------------------------------------------------------------------------
# PAYU SECURITY SETTINGS
# -----------------------------------------------------------------------------
# [CONFIG] Enable hash validation
PAYU_HASH_VALIDATION_ENABLED=true

# [CONFIG] Hash algorithm
PAYU_HASH_ALGORITHM=SHA-512

# [CONFIG] Enable HTTPS only
PAYU_HTTPS_ONLY=true

# [CONFIG] Enable signature verification
PAYU_SIGNATURE_VERIFICATION_ENABLED=true

# [CONFIG] Allowed IP ranges for callbacks
PAYU_ALLOWED_IP_RANGES=203.192.232.0/24,180.179.99.0/24

# -----------------------------------------------------------------------------
# PAYU FEATURE FLAGS
# -----------------------------------------------------------------------------
# [CONFIG] Enable EMI options
PAYU_EMI_ENABLED=false

# [CONFIG] Enable net banking
PAYU_NET_BANKING_ENABLED=true

# [CONFIG] Enable UPI payments
PAYU_UPI_ENABLED=true

# [CONFIG] Enable credit/debit cards
PAYU_CARD_PAYMENTS_ENABLED=true

# [CONFIG] Enable digital wallets
PAYU_WALLET_ENABLED=true

# [CONFIG] Enable BNPL (Buy Now Pay Later)
PAYU_BNPL_ENABLED=false

# -----------------------------------------------------------------------------
# PAYU TAX AND FEES CONFIGURATION
# -----------------------------------------------------------------------------
# [CONFIG] Tax calculation
PAYU_TAX_ENABLED=true

# [CONFIG] Tax percentage (18% GST for India)
PAYU_TAX_PERCENTAGE=18

# [CONFIG] Service tax calculation
PAYU_SERVICE_TAX_ENABLED=false

# [CONFIG] Convenience fee
PAYU_CONVENIENCE_FEE_ENABLED=false
PAYU_CONVENIENCE_FEE_PERCENTAGE=0

# -----------------------------------------------------------------------------
# PAYU LOGGING AND MONITORING
# -----------------------------------------------------------------------------
# [CONFIG] Enable PayU transaction logging
PAYU_LOGGING_ENABLED=true

# [CONFIG] Log level (debug, info, warn, error)
PAYU_LOG_LEVEL=info

# [CONFIG] Log payment responses (be cautious with sensitive data)
PAYU_LOG_PAYMENT_RESPONSES=false

# [CONFIG] Enable transaction monitoring
PAYU_MONITORING_ENABLED=true

# [CONFIG] Monitor transaction success rate
PAYU_MONITOR_SUCCESS_RATE=true

# [CONFIG] Alert on transaction failure rate threshold
PAYU_FAILURE_ALERT_THRESHOLD=10

# -----------------------------------------------------------------------------
# PAYU COMPLIANCE AND REGULATORY
# -----------------------------------------------------------------------------
# [CONFIG] Enable PCI compliance features
PAYU_PCI_COMPLIANCE_ENABLED=true

# [CONFIG] Mask sensitive payment data in logs
PAYU_MASK_SENSITIVE_DATA=true

# [CONFIG] Enable fraud detection
PAYU_FRAUD_DETECTION_ENABLED=true

# [CONFIG] Risk scoring threshold
PAYU_RISK_SCORE_THRESHOLD=75

# -----------------------------------------------------------------------------
# PAYU ADVANCED CONFIGURATION
# -----------------------------------------------------------------------------
# [CONFIG] Merchant identifier for multi-merchant setup
PAYU_MERCHANT_ID=

# [CONFIG] Store identifier
PAYU_STORE_ID=

# [CONFIG] Terminal identifier
PAYU_TERMINAL_ID=

# [CONFIG] Customer identifier
PAYU_CUSTOMER_ID=

# [CONFIG] Split payment configuration
PAYU_SPLIT_PAYMENT_ENABLED=false
PAYU_SPLIT_MERCHANT_IDS=

# -----------------------------------------------------------------------------
# PAYU LOCAL DEVELOPMENT SETTINGS
# -----------------------------------------------------------------------------
# [LOCAL] PayU Sandbox Credentials (safe for development)
PAYU_LOCAL_MERCHANT_KEY=l1rHEt
PAYU_LOCAL_SALT=cLjdhBis3tBvl1q3Wg3IdmDElZctuZFJ
PAYU_LOCAL_API_KEY=test_api_key

# [LOCAL] Sandbox testing parameters
PAYU_LOCAL_ENVIRONMENT=sandbox
PAYU_LOCAL_BASE_URL=https://test.payu.in/_payment

# [LOCAL] Test transaction settings
PAYU_TEST_AMOUNT=499
PAYU_TEST_EMAIL=test@payu.com
PAYU_TEST_PHONE=9876543210

# -----------------------------------------------------------------------------
# PAYU PRODUCTION SETTINGS
# -----------------------------------------------------------------------------
# [PROD] Production-specific configurations

# [PROD] Production merchant credentials
PROD_PAYU_MERCHANT_KEY=your_production_merchant_key
PROD_PAYU_SALT=your_production_salt_key
PROD_PAYU_API_KEY=your_production_api_key

# [PROD] Production environment settings
PROD_PAYU_ENVIRONMENT=production
PROD_PAYU_BASE_URL=https://secure.payu.in/_payment

# [PROD] Enhanced monitoring and compliance
PROD_PAYU_MONITORING_ENABLED=true
PROD_PAYU_PCI_COMPLIANCE_ENABLED=true
PROD_PAYU_FRAUD_DETECTION_ENABLED=true

# -----------------------------------------------------------------------------
# PAYU ENVIRONMENT-SPECIFIC VARIABLES
# -----------------------------------------------------------------------------
# LOCAL Environment Variables
PAYU_MERCHANT_KEY_LOCAL=l1rHEt
PAYU_SALT_LOCAL=cLjdhBis3tBvl1q3Wg3IdmDElZctuZFJ
PAYU_ENVIRONMENT_LOCAL=sandbox
PAYU_BASE_URL_LOCAL=https://test.payu.in/_payment

# PROD Environment Variables
PAYU_MERCHANT_KEY_PROD=your_production_merchant_key
PAYU_SALT_PROD=your_production_salt_key
PAYU_ENVIRONMENT_PROD=production
PAYU_BASE_URL_PROD=https://secure.payu.in/_payment

# -----------------------------------------------------------------------------
# PAYU INTEGRATION EXAMPLES
# -----------------------------------------------------------------------------
# Frontend Integration Variables
EXPO_PUBLIC_PAYU_MERCHANT_KEY=${PAYU_MERCHANT_KEY}
EXPO_PUBLIC_PAYU_SALT=${PAYU_SALT}
EXPO_PUBLIC_PAYU_ENVIRONMENT=${PAYU_ENVIRONMENT}
EXPO_PUBLIC_PAYU_BASE_URL=${PAYU_BASE_URL}

# Backend Integration Variables
PAYU_MERCHANT_KEY=${PAYU_MERCHANT_KEY}
PAYU_SALT=${PAYU_SALT}
PAYU_WEBHOOK_SECRET=${PAYU_WEBHOOK_SECRET}
PAYU_WEBHOOK_URL=${PAYU_WEBHOOK_URL}

# -----------------------------------------------------------------------------
# PAYU SECURITY BEST PRACTICES
# -----------------------------------------------------------------------------
#
# SECURITY GUIDELINES:
#
# 1. NEVER expose SALT key in frontend applications
# 2. Always validate PayU response signatures
# 3. Use HTTPS for all PayU communication
# 4. Implement proper webhook signature verification
# 5. Log transactions securely without sensitive data
# 6. Use PayU sandbox for all testing
# 7. Regularly rotate API keys and secrets
# 8. Monitor for suspicious transaction patterns
# 9. Implement proper error handling and retries
# 10. Comply with PCI DSS requirements
#
# FRONTEND INTEGRATION:
# - Use only PUBLIC keys (merchant key)
# - Never expose salt or API keys
# - Implement secure payment flow
# - Handle payment responses properly
# - Show appropriate error messages
#
# BACKEND INTEGRATION:
# - Use service credentials (salt, API key)
# - Validate all webhook signatures
# - Implement transaction status tracking
# - Handle refunds and reversals
# - Monitor transaction success rates
#
# ENVIRONMENT SETUP:
# 1. Register at https://developer.payu.in
# 2. Get merchant credentials from PayU dashboard
# 3. Set up webhooks for transaction notifications
# 4. Configure payment methods and features
# 5. Test integration in sandbox environment
# 6. Get approval for production deployment
# 7. Deploy with production credentials
#
# TESTING CHECKLIST:
# □ Test successful payment flow
# □ Test failed payment scenarios
# □ Test webhook notifications
# □ Test refund processing
# □ Test subscription renewals
# □ Test UPI payments
# □ Test EMI options (if enabled)
# □ Test international payments (if applicable)
#
# PRODUCTION DEPLOYMENT:
# □ Switch to production environment
# □ Update all URLs to production endpoints
# □ Enable enhanced monitoring
# □ Configure fraud detection
# □ Set up alerting for failures
# □ Test with small transactions
# □ Monitor transaction success rates
#
# MONITORING AND ALERTING:
# - Track transaction success rates
# - Monitor payment failure reasons
# - Alert on high refund rates
# - Track webhook delivery success
# - Monitor API response times
# - Set up fraud detection alerts
#
# TROUBLESHOOTING:
# - Check merchant credentials are correct
# - Verify webhook URL is accessible
# - Ensure HTTPS is properly configured
# - Check PayU service status
# - Monitor API rate limits
# - Review transaction logs for errors
#
# REGULATORY COMPLIANCE:
# - PCI DSS compliance for card data
# - RBI guidelines for payments
# - Data protection regulations
# - Audit trail requirements
# - Fraud detection and prevention
#
# =============================================================================