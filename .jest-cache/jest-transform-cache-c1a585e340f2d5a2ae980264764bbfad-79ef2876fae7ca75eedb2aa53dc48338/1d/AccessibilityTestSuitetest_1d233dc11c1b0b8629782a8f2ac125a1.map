{"version":3,"names":["_types","require","_MockFactories","_TestHelpers","_TestConstants","describe","mockFakeCallService","mockVoiceSynthesisService","beforeAll","TestSetupHelper","setupTestEnvironment","createMockFakeCallService","createMockVoiceSynthesisService","afterAll","cleanupTestEnvironment","beforeEach","jest","clearAllMocks","test","_asyncToGenerator2","default","callData","MockCallStateDataFactory","createActive","expect","config","callerInfo","displayName","toBeDefined","length","toBeGreaterThan","state","Object","values","CallState","toContain","highContrastPrefs","assign","MockFakeCallPreferencesFactory","createDefault","accessibility","screenReaderEnabled","highContrast","largeText","voiceControl","simplifiedInterface","result","updateUserPreferences","success","toBe","keyboardScenario","ACCESSIBILITY_FEATURES","KEYBOARD_NAVIGATION","TAB_ORDER","Array","isArray","ENTER_KEY_ACTIONS","SPACE_KEY_ACTIONS","announceCallState","announcements","_defineProperty2","SCHEDULED","INCOMING","ACTIVE","ENDED","FAILED","map","forEach","announcement","toBeLessThan","keyboardNav","toEqual","_default","exports","AccessibilityTestSuite"],"sources":["AccessibilityTestSuite.test.ts"],"sourcesContent":["/**\n * Accessibility Test Suite - WCAG 2.1 AA Compliance and Accessibility Tests\n * Comprehensive accessibility testing for the fake call notification system\n */\n\nimport React from 'react';\nimport { Platform } from 'react-native';\nimport {\n    FakeCallService,\n    voiceSynthesisService,\n    callerIDService\n} from '../FakeCallService';\nimport {\n    CallAction,\n    CallState\n} from '../types';\n\nimport {\n    MockCallerInfoFactory,\n    MockVoiceProfileFactory,\n    MockFakeCallConfigFactory,\n    MockCallScheduleFactory,\n    MockCallStateDataFactory,\n    MockFakeCallPreferencesFactory\n} from './MockFactories';\n\nimport {\n    TestSetupHelper,\n    AccessibilityTestHelper,\n    SecurityTestHelper\n} from './TestHelpers';\n\nimport {\n    ACCESSIBILITY_STANDARDS,\n    ACCESSIBILITY_FEATURES,\n    TEST_TIMEOUTS\n} from './TestConstants';\n\ndescribe('AccessibilityTestSuite', () => {\n    let mockFakeCallService: any;\n    let mockVoiceSynthesisService: any;\n\n    beforeAll(() => {\n        TestSetupHelper.setupTestEnvironment();\n        mockFakeCallService = TestSetupHelper.createMockFakeCallService();\n        mockVoiceSynthesisService = TestSetupHelper.createMockVoiceSynthesisService();\n    });\n\n    afterAll(() => {\n        TestSetupHelper.cleanupTestEnvironment();\n    });\n\n    beforeEach(() => {\n        jest.clearAllMocks();\n    });\n\n    // ===========================================\n    // WCAG 2.1 AA COMPLIANCE TESTS\n    // ===========================================\n\n    describe('WCAG 2.1 AA Compliance Tests', () => {\n        describe('Perceivable Tests', () => {\n            test('should provide text alternatives for non-text content', async () => {\n                const callData = MockCallStateDataFactory.createActive();\n\n                expect(callData.config.callerInfo.displayName).toBeDefined();\n                expect(callData.config.callerInfo.displayName.length).toBeGreaterThan(0);\n\n                expect(callData.state).toBeDefined();\n                expect(Object.values(CallState)).toContain(callData.state);\n            });\n\n            test('should support high contrast mode', async () => {\n                const highContrastPrefs = {\n                    ...MockFakeCallPreferencesFactory.createDefault(),\n                    accessibility: {\n                        screenReaderEnabled: false,\n                        highContrast: true,\n                        largeText: false,\n                        voiceControl: false,\n                        simplifiedInterface: false\n                    }\n                };\n\n                const result = await mockFakeCallService.updateUserPreferences('test_user', {\n                    accessibility: { highContrast: true }\n                });\n\n                expect(result.success).toBe(true);\n            });\n        });\n\n        describe('Operable Tests', () => {\n            test('should be keyboard accessible', async () => {\n                const keyboardScenario = ACCESSIBILITY_FEATURES.KEYBOARD_NAVIGATION;\n\n                expect(keyboardScenario.TAB_ORDER).toBeDefined();\n                expect(Array.isArray(keyboardScenario.TAB_ORDER)).toBe(true);\n                expect(keyboardScenario.TAB_ORDER.length).toBeGreaterThan(0);\n\n                expect(keyboardScenario.ENTER_KEY_ACTIONS).toBeDefined();\n                expect(keyboardScenario.SPACE_KEY_ACTIONS).toBeDefined();\n            });\n        });\n    });\n\n    // ===========================================\n    // SCREEN READER TESTS\n    // ===========================================\n\n    describe('Screen Reader Tests', () => {\n        test('should announce call state changes', async () => {\n            const callData = MockCallStateDataFactory.createActive();\n\n            const announceCallState = (state: CallState) => {\n                const announcements = {\n                    [CallState.SCHEDULED]: 'Call scheduled',\n                    [CallState.INCOMING]: `Incoming call from ${callData.config.callerInfo.displayName}`,\n                    [CallState.ACTIVE]: 'Call active',\n                    [CallState.ENDED]: 'Call ended',\n                    [CallState.FAILED]: 'Call failed'\n                };\n\n                return announcements[state] || 'Call state changed';\n            };\n\n            const announcements = Object.values(CallState).map(state => announceCallState(state));\n\n            announcements.forEach(announcement => {\n                expect(announcement).toBeDefined();\n                expect(announcement.length).toBeGreaterThan(0);\n                expect(announcement.length).toBeLessThan(150);\n            });\n        });\n    });\n\n    // ===========================================\n    // KEYBOARD NAVIGATION TESTS\n    // ===========================================\n\n    describe('Keyboard Navigation Tests', () => {\n        test('should support Tab navigation', async () => {\n            const keyboardNav = ACCESSIBILITY_FEATURES.KEYBOARD_NAVIGATION;\n\n            expect(keyboardNav.TAB_ORDER).toEqual([\n                'answer_button',\n                'decline_button',\n                'call_info',\n                'end_call_button'\n            ]);\n        });\n\n        test('should support Enter key actions', async () => {\n            const keyboardNav = ACCESSIBILITY_FEATURES.KEYBOARD_NAVIGATION;\n\n            expect(keyboardNav.ENTER_KEY_ACTIONS).toContain('answer_call');\n            expect(keyboardNav.ENTER_KEY_ACTIONS).toContain('decline_call');\n        });\n    });\n});\n\nexport default AccessibilityTestSuite;"],"mappings":"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","ignoreList":[]}