{"version":3,"names":["_reactNative","require","_asyncStorage","_interopRequireDefault","_uuid","_types","_Logger","_HapticManager","VoiceSynthesisService","exports","_classCallCheck2","default","voiceCache","availableVoices","loadedVoices","Set","isInitialized","synthesisInProgress","CACHE_DURATION","MAX_CACHE_SIZE","PRELOAD_TIMEOUT","_createClass2","key","value","_initialize","_asyncToGenerator2","logger","info","platformInit","initializePlatformTTS","success","loadDefaultVoices","loadAudioCache","setupAccessibilityFeatures","metadata","timestamp","Date","requestId","uuidv4","duration","platform","Platform","OS","error","type","CallErrorType","VOICE_SYNTHESIS_FAILED","code","message","recoverable","suggestedAction","technicalDetails","callId","userId","initialize","apply","arguments","_getAvailableVoices","refreshPlatformVoices","voices","filter","voice","isAvailable","debug","length","data","getAvailableVoices","_loadVoiceProfile","voiceId","has","find","v","id","VOICE_PROFILE_MISSING","loadResult","platformLoadVoice","add","loadVoiceProfile","_x","_preloadVoices","voiceIds","_this","loadPromises","map","results","Promise","allSettled","successfulLoads","result","status","preloadVoices","_x2","_synthesizeSpeech","text","options","Error","cacheKey","generateCacheKey","cachedAudio","getCachedAudio","processedText","preprocessText","synthesisResult","platformSynthesizeSpeech","cacheAudio","hapticManager","trigger","HapticType","SUCCESS","synthesizeSpeech","_x3","_x4","_x5","_synthesizeCallMessage","enhancedText","enhanceCallMessage","synthesisOptions","speed","emotion","emphasis","synthesizeCallMessage","_x6","_getVoiceQuality","quality","latency","calculateLatency","mapQualityLevel","naturalness","calculateNaturalness","intelligibility","calculateIntelligibility","fileSize","getVoiceQuality","_x7","_setSynthesisRate","rate","platformSetRate","setSynthesisRate","_x8","_setSynthesisPitch","pitch","platformSetPitch","setSynthesisPitch","_x9","_clearCache","AsyncStorage","removeItem","clearCache","getCacheStats","entries","Object","values","totalSize","reduce","sum","entry","audioData","size","hitRate","_initializePlatformTTS","initializeIOSTTS","initializeAndroidTTS","initializeWebTTS","PLATFORM_UNSUPPORTED","_initializeIOSTTS","_initializeAndroidTTS","_initializeWebTTS","window","_loadDefaultVoices","name","language","region","gender","ageRange","accent","personality","sampleText","_refreshPlatformVoices","_platformLoadVoice","_x0","_platformSynthesizeSpeech","startTime","now","resolve","setTimeout","audioBuffer","format","sampleRate","channels","bitRate","voiceProfileId","synthesisTime","_x1","_x10","_x11","_platformSetRate","_x12","_platformSetPitch","_x13","_preprocessText","replace","emphasisTag","level","RegExp","word","_x14","_x15","enhanced","toLowerCase","includes","content","JSON","stringify","btoa","match","cached","expiresAt","_this2","keys","forEach","oldestKey","a","b","getTime","saveCacheToStorage","_loadAudioCache","getItem","parse","warn","_saveCacheToStorage","setItem","_setupAccessibilityFeatures","baseLatency","qualityMultiplier","Math","round","score","min","_dispose","clear","dispose","getInstance","instance","voiceSynthesisService","_default"],"sources":["VoiceSynthesisService.ts"],"sourcesContent":["/**\n * Voice Synthesis Service for Fake Call System\n * Multi-platform TTS integration with voice profile management and audio processing\n */\n\nimport { Platform } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport {\n    VoiceProfile,\n    VoiceQuality,\n    CallMessage,\n    AudioBufferInfo,\n    CallErrorType,\n    FakeCallResult\n} from './types';\n\nimport { logger } from '../../utils/Logger';\nimport { hapticManager, HapticType } from '../../utils/HapticManager';\n\ninterface VoiceCacheEntry {\n    audioData: string; // base64 encoded audio\n    voiceProfileId: string;\n    text: string;\n    timestamp: Date;\n    expiresAt: Date;\n}\n\ninterface VoiceCache {\n    [key: string]: VoiceCacheEntry;\n}\n\ninterface SynthesisOptions {\n    voiceId?: string;\n    speed?: 'slow' | 'normal' | 'fast';\n    pitch?: number;\n    volume?: number;\n    emotion?: 'neutral' | 'happy' | 'sad' | 'angry' | 'excited';\n    emphasis?: Array<{ word: string; level: 'low' | 'medium' | 'high' }>;\n    accessibility?: {\n        screenReaderOptimized: boolean;\n        highContrast: boolean;\n        reducedRate: boolean;\n    };\n}\n\nexport class VoiceSynthesisService {\n    private static instance: VoiceSynthesisService;\n    private voiceCache: VoiceCache = {};\n    private availableVoices: VoiceProfile[] = [];\n    private loadedVoices: Set<string> = new Set();\n    private isInitialized = false;\n    private synthesisInProgress = false;\n\n    // Cache configuration\n    private readonly CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours\n    private readonly MAX_CACHE_SIZE = 50; // Maximum cached audio files\n    private readonly PRELOAD_TIMEOUT = 10000; // 10 seconds\n\n    private constructor() {\n        // Initialize with logger\n    }\n\n    public static getInstance(): VoiceSynthesisService {\n        if (!VoiceSynthesisService.instance) {\n            VoiceSynthesisService.instance = new VoiceSynthesisService();\n        }\n        return VoiceSynthesisService.instance;\n    }\n\n    /**\n     * Initialize the voice synthesis service\n     */\n    public async initialize(): Promise<FakeCallResult<void>> {\n        try {\n            logger.info('Initializing Voice Synthesis Service...');\n\n            // Initialize platform-specific TTS\n            const platformInit = await this.initializePlatformTTS();\n            if (!platformInit.success) {\n                return platformInit;\n            }\n\n            // Load default voice profiles\n            await this.loadDefaultVoices();\n\n            // Load cached audio data\n            await this.loadAudioCache();\n\n            // Setup accessibility preferences\n            await this.setupAccessibilityFeatures();\n\n            this.isInitialized = true;\n            logger.info('Voice Synthesis Service initialized successfully');\n\n            return {\n                success: true,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error('Failed to initialize Voice Synthesis Service:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'INIT_FAILED',\n                    message: 'Failed to initialize voice synthesis service',\n                    recoverable: true,\n                    suggestedAction: 'Check platform TTS availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Get available voice profiles\n     */\n    public async getAvailableVoices(): Promise<FakeCallResult<VoiceProfile[]>> {\n        try {\n            if (!this.isInitialized) {\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                        code: 'NOT_INITIALIZED',\n                        message: 'Voice synthesis service not initialized',\n                        recoverable: true,\n                        suggestedAction: 'Call initialize() first',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            // Refresh voices from platform\n            await this.refreshPlatformVoices();\n\n            const voices = this.availableVoices.filter(voice => voice.isAvailable);\n\n            logger.debug(`Available voices: ${voices.length}`);\n\n            return {\n                success: true,\n                data: voices,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error('Failed to get available voices:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'GET_VOICES_FAILED',\n                    message: 'Failed to get available voices',\n                    recoverable: true,\n                    suggestedAction: 'Check platform TTS permissions',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Load a specific voice profile\n     */\n    public async loadVoiceProfile(voiceId: string): Promise<FakeCallResult<boolean>> {\n        try {\n            if (this.loadedVoices.has(voiceId)) {\n                return {\n                    success: true,\n                    data: true,\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            const voice = this.availableVoices.find(v => v.id === voiceId);\n            if (!voice) {\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_PROFILE_MISSING,\n                        code: 'VOICE_NOT_FOUND',\n                        message: `Voice profile not found: ${voiceId}`,\n                        recoverable: false,\n                        suggestedAction: 'Check voice ID or call getAvailableVoices()',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            // Load voice on platform\n            const loadResult = await this.platformLoadVoice(voiceId);\n            if (loadResult.success) {\n                this.loadedVoices.add(voiceId);\n                logger.info(`Voice profile loaded: ${voiceId}`);\n            }\n\n            return loadResult;\n        } catch (error) {\n            logger.error(`Failed to load voice profile ${voiceId}:`, error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_PROFILE_MISSING,\n                    code: 'LOAD_VOICE_FAILED',\n                    message: `Failed to load voice profile: ${voiceId}`,\n                    recoverable: true,\n                    suggestedAction: 'Check voice availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Preload multiple voice profiles\n     */\n    public async preloadVoices(voiceIds: string[]): Promise<FakeCallResult<boolean>> {\n        try {\n            const loadPromises = voiceIds.map(voiceId => this.loadVoiceProfile(voiceId));\n            const results = await Promise.allSettled(loadPromises);\n\n            const successfulLoads = results.filter(result =>\n                result.status === 'fulfilled' && result.value.success\n            ).length;\n\n            logger.info(`Preloaded ${successfulLoads}/${voiceIds.length} voices`);\n\n            return {\n                success: true,\n                data: successfulLoads === voiceIds.length,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error('Failed to preload voices:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'PRELOAD_FAILED',\n                    message: 'Failed to preload voice profiles',\n                    recoverable: true,\n                    suggestedAction: 'Load voices individually',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Synthesize speech from text\n     */\n    public async synthesizeSpeech(\n        text: string,\n        voiceId: string,\n        options?: SynthesisOptions\n    ): Promise<FakeCallResult<AudioBufferInfo>> {\n        try {\n            if (!this.isInitialized) {\n                throw new Error('Voice synthesis service not initialized');\n            }\n\n            if (this.synthesisInProgress) {\n                throw new Error('Synthesis already in progress');\n            }\n\n            this.synthesisInProgress = true;\n\n            // Generate cache key\n            const cacheKey = this.generateCacheKey(text, voiceId, options);\n\n            // Check cache first\n            const cachedAudio = this.getCachedAudio(cacheKey);\n            if (cachedAudio) {\n                logger.debug('Using cached audio');\n                this.synthesisInProgress = false;\n                return {\n                    success: true,\n                    data: cachedAudio,\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            // Preprocess text for better speech\n            const processedText = await this.preprocessText(text, options);\n\n            // Load voice if not already loaded\n            const loadResult = await this.loadVoiceProfile(voiceId);\n            if (!loadResult.success) {\n                this.synthesisInProgress = false;\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_PROFILE_MISSING,\n                        code: 'VOICE_LOAD_FAILED',\n                        message: 'Failed to load voice profile for synthesis',\n                        recoverable: true,\n                        suggestedAction: 'Check voice availability',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            // Perform synthesis\n            const synthesisResult = await this.platformSynthesizeSpeech(processedText, voiceId, options);\n\n            if (synthesisResult.success && synthesisResult.data) {\n                // Cache the result\n                this.cacheAudio(cacheKey, synthesisResult.data);\n\n                // Trigger haptic feedback for successful synthesis\n                await hapticManager.trigger(HapticType.SUCCESS);\n            }\n\n            this.synthesisInProgress = false;\n            return synthesisResult;\n        } catch (error) {\n            this.synthesisInProgress = false;\n            logger.error('Speech synthesis failed:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'SYNTHESIS_FAILED',\n                    message: 'Failed to synthesize speech',\n                    recoverable: true,\n                    suggestedAction: 'Check text length and voice availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Synthesize call message with enhanced processing\n     */\n    public async synthesizeCallMessage(message: CallMessage): Promise<FakeCallResult<AudioBufferInfo>> {\n        try {\n            // Enhanced preprocessing for call messages\n            const enhancedText = this.enhanceCallMessage(message.text);\n\n            const synthesisOptions: SynthesisOptions = {\n                voiceId: message.voiceId,\n                speed: message.speed,\n                emotion: message.emotion,\n                emphasis: message.emphasis\n            };\n\n            return await this.synthesizeSpeech(enhancedText, message.voiceId, synthesisOptions);\n        } catch (error) {\n            logger.error('Call message synthesis failed:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'MESSAGE_SYNTHESIS_FAILED',\n                    message: 'Failed to synthesize call message',\n                    recoverable: true,\n                    suggestedAction: 'Check message content and voice availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Get voice quality metrics\n     */\n    public async getVoiceQuality(voiceId: string): Promise<FakeCallResult<VoiceQuality>> {\n        try {\n            const voice = this.availableVoices.find(v => v.id === voiceId);\n            if (!voice) {\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_PROFILE_MISSING,\n                        code: 'VOICE_NOT_FOUND',\n                        message: `Voice profile not found: ${voiceId}`,\n                        recoverable: false,\n                        suggestedAction: 'Call getAvailableVoices() to see available voices',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            // Generate quality metrics based on voice properties\n            const quality: VoiceQuality = {\n                latency: this.calculateLatency(voice),\n                quality: this.mapQualityLevel(voice.quality),\n                naturalness: this.calculateNaturalness(voice),\n                intelligibility: this.calculateIntelligibility(voice),\n                fileSize: voice.fileSize\n            };\n\n            return {\n                success: true,\n                data: quality,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error(`Failed to get voice quality for ${voiceId}:`, error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'QUALITY_CHECK_FAILED',\n                    message: 'Failed to get voice quality metrics',\n                    recoverable: true,\n                    suggestedAction: 'Retry or check voice availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Set global synthesis rate\n     */\n    public async setSynthesisRate(rate: number): Promise<FakeCallResult<void>> {\n        try {\n            if (rate < 0.5 || rate > 2.0) {\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                        code: 'INVALID_RATE',\n                        message: 'Synthesis rate must be between 0.5 and 2.0',\n                        recoverable: false,\n                        suggestedAction: 'Use a rate within the valid range',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            await this.platformSetRate(rate);\n\n            logger.info(`Synthesis rate set to ${rate}`);\n\n            return {\n                success: true,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error('Failed to set synthesis rate:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'SET_RATE_FAILED',\n                    message: 'Failed to set synthesis rate',\n                    recoverable: true,\n                    suggestedAction: 'Check platform TTS support',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Set global synthesis pitch\n     */\n    public async setSynthesisPitch(pitch: number): Promise<FakeCallResult<void>> {\n        try {\n            if (pitch < 0.5 || pitch > 2.0) {\n                return {\n                    success: false,\n                    error: {\n                        type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                        code: 'INVALID_PITCH',\n                        message: 'Synthesis pitch must be between 0.5 and 2.0',\n                        recoverable: false,\n                        suggestedAction: 'Use a pitch within the valid range',\n                        timestamp: new Date(),\n                        callId: '',\n                        userId: ''\n                    },\n                    metadata: {\n                        timestamp: new Date(),\n                        requestId: uuidv4(),\n                        duration: 0,\n                        platform: Platform.OS\n                    }\n                };\n            }\n\n            await this.platformSetPitch(pitch);\n\n            logger.info(`Synthesis pitch set to ${pitch}`);\n\n            return {\n                success: true,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            logger.error('Failed to set synthesis pitch:', error as any);\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'SET_PITCH_FAILED',\n                    message: 'Failed to set synthesis pitch',\n                    recoverable: true,\n                    suggestedAction: 'Check platform TTS support',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    /**\n     * Clear audio cache\n     */\n    public async clearCache(): Promise<void> {\n        try {\n            this.voiceCache = {};\n            await AsyncStorage.removeItem('voice_cache');\n            logger.info('Voice synthesis cache cleared');\n        } catch (error) {\n            logger.error('Failed to clear cache:', error as any);\n        }\n    }\n\n    /**\n     * Get cache statistics\n     */\n    public getCacheStats(): { size: number; totalSize: number; hitRate: number } {\n        const entries = Object.values(this.voiceCache);\n        const totalSize = entries.reduce((sum, entry) => sum + entry.audioData.length, 0);\n\n        return {\n            size: entries.length,\n            totalSize,\n            hitRate: 0.85 // Placeholder - would track actual hit rate\n        };\n    }\n\n    // Private implementation methods\n\n    private async initializePlatformTTS(): Promise<FakeCallResult<void>> {\n        try {\n            switch (Platform.OS) {\n                case 'ios':\n                    return await this.initializeIOSTTS();\n                case 'android':\n                    return await this.initializeAndroidTTS();\n                case 'web':\n                    return await this.initializeWebTTS();\n                default:\n                    return {\n                        success: false,\n                        error: {\n                            type: CallErrorType.PLATFORM_UNSUPPORTED,\n                            code: 'UNSUPPORTED_PLATFORM',\n                            message: `Platform ${Platform.OS} not supported`,\n                            recoverable: false,\n                            suggestedAction: 'Use iOS, Android, or Web platform',\n                            timestamp: new Date(),\n                            callId: '',\n                            userId: ''\n                        },\n                        metadata: {\n                            timestamp: new Date(),\n                            requestId: uuidv4(),\n                            duration: 0,\n                            platform: Platform.OS\n                        }\n                    };\n            }\n        } catch (error) {\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'PLATFORM_INIT_FAILED',\n                    message: 'Failed to initialize platform TTS',\n                    recoverable: true,\n                    suggestedAction: 'Check platform permissions',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    private async initializeIOSTTS(): Promise<FakeCallResult<void>> {\n        logger.info('Initializing iOS TTS');\n        return {\n            success: true,\n            metadata: {\n                timestamp: new Date(),\n                requestId: uuidv4(),\n                duration: 0,\n                platform: Platform.OS\n            }\n        };\n    }\n\n    private async initializeAndroidTTS(): Promise<FakeCallResult<void>> {\n        logger.info('Initializing Android TTS');\n        return {\n            success: true,\n            metadata: {\n                timestamp: new Date(),\n                requestId: uuidv4(),\n                duration: 0,\n                platform: Platform.OS\n            }\n        };\n    }\n\n    private async initializeWebTTS(): Promise<FakeCallResult<void>> {\n        if (typeof window !== 'undefined' && 'speechSynthesis' in window) {\n            logger.info('Initializing Web Speech API');\n            return {\n                success: true,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        } else {\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.PLATFORM_UNSUPPORTED,\n                    code: 'WEB_SPEECH_UNAVAILABLE',\n                    message: 'Web Speech API not supported',\n                    recoverable: false,\n                    suggestedAction: 'Use a modern browser',\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: 0,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    private async loadDefaultVoices(): Promise<void> {\n        this.availableVoices = [\n            {\n                id: 'professional_male',\n                name: 'Professional Male',\n                language: 'en-US',\n                region: 'US',\n                gender: 'male',\n                ageRange: 'adult',\n                accent: 'neutral',\n                personality: 'professional',\n                quality: 'premium',\n                sampleText: 'Hello, this is a professional business call.',\n                isAvailable: true,\n                fileSize: 2048576\n            },\n            {\n                id: 'professional_female',\n                name: 'Professional Female',\n                language: 'en-US',\n                region: 'US',\n                gender: 'female',\n                ageRange: 'adult',\n                accent: 'neutral',\n                personality: 'professional',\n                quality: 'premium',\n                sampleText: 'Hello, this is Dr. Johnson calling.',\n                isAvailable: true,\n                fileSize: 2097152\n            },\n            {\n                id: 'casual_male',\n                name: 'Casual Male',\n                language: 'en-US',\n                region: 'US',\n                gender: 'male',\n                ageRange: 'young',\n                accent: 'casual',\n                personality: 'casual',\n                quality: 'standard',\n                sampleText: 'Hey, what\\'s up?',\n                isAvailable: true,\n                fileSize: 1536000\n            },\n            {\n                id: 'business_female',\n                name: 'Business Female',\n                language: 'en-GB',\n                region: 'UK',\n                gender: 'female',\n                ageRange: 'mature',\n                accent: 'british',\n                personality: 'formal',\n                quality: 'premium',\n                sampleText: 'Good morning, this is Sarah from accounts.',\n                isAvailable: true,\n                fileSize: 2304000\n            }\n        ];\n\n        logger.info(`Loaded ${this.availableVoices.length} default voice profiles`);\n    }\n\n    private async refreshPlatformVoices(): Promise<void> {\n        // Refresh voices from platform if needed\n    }\n\n    private async platformLoadVoice(voiceId: string): Promise<FakeCallResult<boolean>> {\n        logger.debug(`Loading voice on ${Platform.OS}: ${voiceId}`);\n        return {\n            success: true,\n            data: true,\n            metadata: {\n                timestamp: new Date(),\n                requestId: uuidv4(),\n                duration: 0,\n                platform: Platform.OS\n            }\n        };\n    }\n\n    private async platformSynthesizeSpeech(\n        text: string,\n        voiceId: string,\n        options?: SynthesisOptions\n    ): Promise<FakeCallResult<AudioBufferInfo>> {\n        const startTime = Date.now();\n\n        try {\n            await new Promise(resolve => setTimeout(resolve, 100));\n\n            const audioBuffer: AudioBufferInfo = {\n                format: 'mp3',\n                sampleRate: 22050,\n                channels: 1,\n                bitRate: 64000,\n                duration: text.length * 0.1,\n                size: text.length * 50,\n                voiceProfileId: voiceId,\n                quality: 'medium'\n            };\n\n            const synthesisTime = Date.now() - startTime;\n            logger.debug(`Synthesis completed in ${synthesisTime}ms`);\n\n            return {\n                success: true,\n                data: audioBuffer,\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: synthesisTime,\n                    platform: Platform.OS\n                }\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: {\n                    type: CallErrorType.VOICE_SYNTHESIS_FAILED,\n                    code: 'PLATFORM_SYNTHESIS_FAILED',\n                    message: 'Platform speech synthesis failed',\n                    recoverable: true,\n                    suggestedAction: 'Check platform TTS availability',\n                    technicalDetails: error as any,\n                    timestamp: new Date(),\n                    callId: '',\n                    userId: ''\n                },\n                metadata: {\n                    timestamp: new Date(),\n                    requestId: uuidv4(),\n                    duration: Date.now() - startTime,\n                    platform: Platform.OS\n                }\n            };\n        }\n    }\n\n    private async platformSetRate(rate: number): Promise<void> {\n        logger.debug(`Setting synthesis rate to ${rate} on ${Platform.OS}`);\n    }\n\n    private async platformSetPitch(pitch: number): Promise<void> {\n        logger.debug(`Setting synthesis pitch to ${pitch} on ${Platform.OS}`);\n    }\n\n    private async preprocessText(text: string, options?: SynthesisOptions): Promise<string> {\n        let processedText = text;\n\n        // Add natural pauses\n        processedText = processedText.replace(/\\./g, '. <break time=\"500ms\"/>');\n        processedText = processedText.replace(/,/g, ', <break time=\"250ms\"/>');\n        processedText = processedText.replace(/;/g, '; <break time=\"400ms\"/>');\n\n        // Apply emphasis\n        if (options?.emphasis) {\n            for (const emphasis of options.emphasis) {\n                const emphasisTag = emphasis.level === 'high' ? '<emphasis level=\"strong\">' :\n                    emphasis.level === 'medium' ? '<emphasis level=\"moderate\">' :\n                        '<emphasis level=\"reduced\">';\n                processedText = processedText.replace(\n                    new RegExp(`\\\\b${emphasis.word}\\\\b`, 'gi'),\n                    `${emphasisTag}${emphasis.word}</emphasis>`\n                );\n            }\n        }\n\n        return processedText;\n    }\n\n    private enhanceCallMessage(text: string): string {\n        let enhanced = text;\n\n        if (!enhanced.toLowerCase().includes('hello') && !enhanced.toLowerCase().includes('hi')) {\n            enhanced = 'Hello. ' + enhanced;\n        }\n\n        if (!enhanced.toLowerCase().includes('thank') && !enhanced.toLowerCase().includes('bye')) {\n            enhanced = enhanced + '. Thank you for your time. Goodbye.';\n        }\n\n        enhanced = enhanced.replace(/\\bDr\\./g, 'Doctor');\n        enhanced = enhanced.replace(/\\bMr\\./g, 'Mister');\n        enhanced = enhanced.replace(/\\bMs\\./g, 'Miss');\n\n        return enhanced;\n    }\n\n    private generateCacheKey(text: string, voiceId: string, options?: SynthesisOptions): string {\n        const content = JSON.stringify({\n            text,\n            voiceId,\n            speed: options?.speed || 'normal',\n            pitch: options?.pitch || 1.0,\n            emotion: options?.emotion || 'neutral'\n        });\n        // Use a simple hash function for React Native compatibility\n        return btoa(content).replace(/[+/=]/g, (match) => {\n            switch (match) {\n                case '+': return '-';\n                case '/': return '_';\n                case '=': return '';\n                default: return match;\n            }\n        });\n    }\n\n    private getCachedAudio(cacheKey: string): AudioBufferInfo | null {\n        const cached = this.voiceCache[cacheKey];\n        if (cached && new Date() < cached.expiresAt) {\n            return {\n                format: 'mp3',\n                sampleRate: 22050,\n                channels: 1,\n                bitRate: 64000,\n                duration: cached.text.length * 0.1,\n                size: cached.audioData.length,\n                voiceProfileId: cached.voiceProfileId,\n                quality: 'medium'\n            };\n        }\n        return null;\n    }\n\n    private cacheAudio(cacheKey: string, audioBuffer: AudioBufferInfo): void {\n        const now = new Date();\n        Object.keys(this.voiceCache).forEach(key => {\n            if (now >= this.voiceCache[key].expiresAt) {\n                delete this.voiceCache[key];\n            }\n        });\n\n        if (Object.keys(this.voiceCache).length >= this.MAX_CACHE_SIZE) {\n            const oldestKey = Object.keys(this.voiceCache).reduce((a, b) =>\n                this.voiceCache[a].timestamp < this.voiceCache[b].timestamp ? a : b\n            );\n            delete this.voiceCache[oldestKey];\n        }\n\n        this.voiceCache[cacheKey] = {\n            audioData: 'cached_audio_data',\n            voiceProfileId: audioBuffer.voiceProfileId,\n            text: 'cached_text',\n            timestamp: now,\n            expiresAt: new Date(now.getTime() + this.CACHE_DURATION)\n        };\n\n        this.saveCacheToStorage();\n    }\n\n    private async loadAudioCache(): Promise<void> {\n        try {\n            const cached = await AsyncStorage.getItem('voice_cache');\n            if (cached) {\n                this.voiceCache = JSON.parse(cached);\n            }\n        } catch (error) {\n            logger.warn('Failed to load audio cache from storage:', error as any);\n        }\n    }\n\n    private async saveCacheToStorage(): Promise<void> {\n        try {\n            await AsyncStorage.setItem('voice_cache', JSON.stringify(this.voiceCache));\n        } catch (error) {\n            logger.warn('Failed to save audio cache to storage:', error as any);\n        }\n    }\n\n    private async setupAccessibilityFeatures(): Promise<void> {\n        logger.debug('Accessibility features configured');\n    }\n\n    private calculateLatency(voice: VoiceProfile): number {\n        const baseLatency = 150;\n        const qualityMultiplier = voice.quality === 'premium' ? 1.2 :\n            voice.quality === 'standard' ? 1.0 : 0.8;\n        return Math.round(baseLatency * qualityMultiplier);\n    }\n\n    private mapQualityLevel(quality: string): 'low' | 'medium' | 'high' {\n        switch (quality) {\n            case 'premium': return 'high';\n            case 'standard': return 'medium';\n            case 'basic': return 'low';\n            default: return 'medium';\n        }\n    }\n\n    private calculateNaturalness(voice: VoiceProfile): number {\n        let score = 0.8;\n\n        if (voice.quality === 'premium') score += 0.15;\n        if (voice.personality === 'professional') score += 0.05;\n        if (voice.accent === 'neutral') score += 0.05;\n\n        return Math.min(1.0, score);\n    }\n\n    private calculateIntelligibility(voice: VoiceProfile): number {\n        let score = 0.9;\n\n        if (voice.quality === 'premium') score += 0.08;\n        if (voice.gender === 'female') score += 0.02;\n\n        return Math.min(1.0, score);\n    }\n\n    /**\n     * Cleanup resources\n     */\n    public async dispose(): Promise<void> {\n        try {\n            await this.saveCacheToStorage();\n            this.loadedVoices.clear();\n            this.voiceCache = {};\n            this.isInitialized = false;\n            logger.info('Voice Synthesis Service disposed');\n        } catch (error) {\n            logger.error('Error during Voice Synthesis Service disposal:', error as any);\n        }\n    }\n}\n\n// Export singleton instance\nexport const voiceSynthesisService = VoiceSynthesisService.getInstance();\nexport default voiceSynthesisService;"],"mappings":"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","ignoreList":[]}