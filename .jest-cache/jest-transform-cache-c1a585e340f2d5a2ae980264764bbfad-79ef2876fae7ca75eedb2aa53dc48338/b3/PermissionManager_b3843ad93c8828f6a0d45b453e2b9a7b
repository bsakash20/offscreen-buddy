73a0684b6b572f271bc0c9237f76c008
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fakeCallPermissionManager = exports.FakeCallPermissionManager = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _SecurityMonitor = require("../security/SecurityMonitor");
var _types = require("./types");
var FakeCallPermissionManager = exports.FakeCallPermissionManager = function () {
  function FakeCallPermissionManager(config) {
    (0, _classCallCheck2.default)(this, FakeCallPermissionManager);
    this.permissionStates = new Map();
    this.educationShown = new Set();
    this.permissionHistory = new Map();
    this.isInitialized = false;
    this.config = Object.assign({
      enableProgressiveRequests: true,
      enableUserEducation: true,
      enablePermissionRecovery: true,
      enableAccessibilityIntegration: true,
      enableBackgroundPermissions: true,
      requestTimeout: 30000,
      maxRetries: 3,
      educationDelay: 2000
    }, config);
  }
  return (0, _createClass2.default)(FakeCallPermissionManager, [{
    key: "initialize",
    value: (function () {
      var _initialize = (0, _asyncToGenerator2.default)(function* () {
        try {
          yield this.loadPermissionStates();
          yield this.loadPermissionHistory();
          yield this.initializePlatformPermissions();
          this.startPermissionMonitoring();
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_permission_manager_initialized', {
            config: this.config,
            initialStates: Object.fromEntries(this.permissionStates)
          });
          this.isInitialized = true;
          console.log('ðŸ“± FakeCall Permission Manager initialized');
        } catch (error) {
          console.error('Failed to initialize FakeCall Permission Manager:', error);
          throw error;
        }
      });
      function initialize() {
        return _initialize.apply(this, arguments);
      }
      return initialize;
    }())
  }, {
    key: "requestAllPermissions",
    value: (function () {
      var _requestAllPermissions = (0, _asyncToGenerator2.default)(function* (userId) {
        var _this = this;
        try {
          if (!this.isInitialized) {
            yield this.initialize();
          }
          var context = yield this.buildPermissionContext(userId);
          var requiredPermissions = [{
            permission: 'microphone',
            reason: 'Voice synthesis for realistic call audio',
            educationalMessage: 'Microphone access allows the app to play realistic voice messages during fake calls, creating an authentic calling experience.'
          }, {
            permission: 'notifications',
            reason: 'Display incoming call notifications and manage call scheduling',
            educationalMessage: 'Notifications are essential for receiving incoming fake calls, call reminders, and scheduling updates.'
          }, {
            permission: 'calls',
            reason: 'Display native call interface and manage call lifecycle',
            educationalMessage: 'Call permission enables the native call interface for more realistic fake call experiences.'
          }];
          if (_reactNative.Platform.OS === 'android') {
            requiredPermissions.push({
              permission: 'overlay',
              reason: 'Display call interface over other apps',
              educationalMessage: 'Display over other apps allows the fake call interface to appear on top of any other application.'
            });
          }
          if (_reactNative.Platform.OS === 'ios') {
            requiredPermissions.push({
              permission: 'criticalAlerts',
              reason: 'Bypass Do Not Disturb for important fake calls',
              educationalMessage: 'Critical alerts allow important fake calls to break through Do Not Disturb settings.'
            });
          }
          if (this.config.enableBackgroundPermissions) {
            requiredPermissions.push({
              permission: 'background',
              reason: 'Background call scheduling and notification delivery',
              educationalMessage: 'Background access enables scheduling fake calls and receiving notifications even when the app is closed.'
            });
          }
          if (this.config.enableAccessibilityIntegration) {
            requiredPermissions.push({
              permission: 'accessibility',
              reason: 'Enhanced accessibility features and voice control',
              educationalMessage: 'Accessibility permissions enable advanced features like voice control and screen reader support.',
              critical: false
            });
          }
          var results = [];
          if (this.config.enableProgressiveRequests) {
            for (var request of requiredPermissions) {
              var result = yield this.requestPermission(request, context);
              results.push(result);
              if (request.critical && !result.granted) {
                break;
              }
            }
          } else {
            var promises = requiredPermissions.map(function (request) {
              return _this.requestPermission(request, context);
            });
            var permissionResults = yield Promise.all(promises);
            results.push.apply(results, (0, _toConsumableArray2.default)(permissionResults));
          }
          var finalStatus = {
            microphone: 'undetermined',
            notifications: 'undetermined',
            calls: 'undetermined',
            background: 'undetermined',
            accessibility: 'undetermined',
            overlay: 'undetermined',
            criticalAlerts: 'undetermined'
          };
          for (var _result of results) {
            finalStatus[_result.permission] = _result.state;
          }
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_permissions_requested', {
            userId: userId,
            results: results.map(function (r) {
              return {
                permission: r.permission,
                state: r.state,
                granted: r.granted
              };
            }),
            context: {
              isFirstRequest: context.isFirstRequest,
              previousDenials: context.previousDenials
            }
          });
          return {
            success: true,
            data: finalStatus,
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: 0,
              platform: _reactNative.Platform.OS
            }
          };
        } catch (error) {
          console.error('Failed to request permissions:', error);
          return {
            success: false,
            error: this.createCallError(_types.CallErrorType.ACCESS_DENIED, 'Permission request failed'),
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: 0,
              platform: _reactNative.Platform.OS
            }
          };
        }
      });
      function requestAllPermissions(_x) {
        return _requestAllPermissions.apply(this, arguments);
      }
      return requestAllPermissions;
    }())
  }, {
    key: "requestPermission",
    value: (function () {
      var _requestPermission = (0, _asyncToGenerator2.default)(function* (request, context) {
        try {
          var permissionKey = `${context.userId}_${request.permission}`;
          var hasBeenDenied = context.deviceContext.permissionHistory.some(function (entry) {
            return entry.permission === request.permission && entry.state === 'denied';
          });
          var shouldEducate = this.shouldShowEducation(request, context, hasBeenDenied);
          if (shouldEducate && this.config.enableUserEducation) {
            yield this.showPermissionEducation(request, context);
          }
          var state = yield this.performPermissionRequest(request.permission);
          yield this.recordPermissionRequest(request.permission, state, context);
          this.permissionStates.set(permissionKey, state);
          var shouldEducateUser = state === 'denied' && !hasBeenDenied;
          var canRetry = state === 'denied' && context.deviceContext.permissionHistory.filter(function (h) {
            return h.permission === request.permission;
          }).length < this.config.maxRetries;
          var result = {
            permission: request.permission,
            state: state,
            granted: state === 'granted',
            shouldEducateUser: shouldEducateUser,
            canRetry: canRetry,
            nextAction: this.getNextAction(state, request),
            educationalContent: shouldEducateUser ? this.getEducationalContent(request) : undefined
          };
          yield this.savePermissionStates();
          return result;
        } catch (error) {
          console.error(`Failed to request permission ${request.permission}:`, error);
          return {
            permission: request.permission,
            state: 'unavailable',
            granted: false,
            shouldEducateUser: true,
            canRetry: false,
            nextAction: 'Contact support'
          };
        }
      });
      function requestPermission(_x2, _x3) {
        return _requestPermission.apply(this, arguments);
      }
      return requestPermission;
    }())
  }, {
    key: "getPermissionStatus",
    value: (function () {
      var _getPermissionStatus = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var status = {
            microphone: yield this.checkPermission('microphone'),
            notifications: yield this.checkPermission('notifications'),
            calls: yield this.checkPermission('calls'),
            background: yield this.checkPermission('background'),
            accessibility: yield this.checkPermission('accessibility'),
            overlay: yield this.checkPermission('overlay'),
            criticalAlerts: yield this.checkPermission('criticalAlerts')
          };
          return status;
        } catch (error) {
          console.error('Failed to get permission status:', error);
          return {
            microphone: 'undetermined',
            notifications: 'undetermined',
            calls: 'undetermined',
            background: 'undetermined',
            accessibility: 'undetermined',
            overlay: 'undetermined',
            criticalAlerts: 'undetermined'
          };
        }
      });
      function getPermissionStatus(_x4) {
        return _getPermissionStatus.apply(this, arguments);
      }
      return getPermissionStatus;
    }())
  }, {
    key: "recoverFromDenial",
    value: (function () {
      var _recoverFromDenial = (0, _asyncToGenerator2.default)(function* (userId, permission) {
        try {
          var context = yield this.buildPermissionContext(userId);
          var history = context.deviceContext.permissionHistory.filter(function (h) {
            return h.permission === permission;
          });
          if (history.length === 0) {
            throw new Error('No denial history found for permission recovery');
          }
          var denialCount = history.filter(function (h) {
            return h.state === 'denied';
          }).length;
          var request = {
            permission: permission,
            reason: `Recover permission for ${permission}`,
            educationalMessage: `Let's help you enable ${permission} permissions for the best fake call experience.`,
            critical: true
          };
          var educationalContent = this.getRecoveryEducationalContent(permission, denialCount);
          request.educationalMessage = educationalContent.message;
          if (this.config.enableUserEducation) {
            yield this.showRecoveryEducation(request, educationalContent);
          }
          var result = yield this.requestPermission(request, context);
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_permission_recovery_attempted', {
            userId: userId,
            permission: permission,
            denialCount: denialCount,
            recoveryResult: result.state
          });
          return result;
        } catch (error) {
          console.error('Permission recovery failed:', error);
          throw error;
        }
      });
      function recoverFromDenial(_x5, _x6) {
        return _recoverFromDenial.apply(this, arguments);
      }
      return recoverFromDenial;
    }())
  }, {
    key: "getFeaturePermissions",
    value: (function () {
      var _getFeaturePermissions = (0, _asyncToGenerator2.default)(function* (feature) {
        switch (feature) {
          case 'basic_calls':
            return {
              required: ['microphone', 'notifications'],
              optional: ['calls', 'accessibility'],
              description: 'Basic fake call functionality requires microphone and notification permissions'
            };
          case 'advanced_scheduling':
            return {
              required: ['notifications', 'background'],
              optional: ['calls', 'accessibility'],
              description: 'Advanced scheduling requires background notifications and background execution'
            };
          case 'background_execution':
            return {
              required: ['background', 'notifications'],
              optional: ['microphone', 'calls'],
              description: 'Background execution requires background app refresh and notification permissions'
            };
          case 'accessibility_features':
            return {
              required: ['accessibility'],
              optional: ['microphone', 'notifications'],
              description: 'Accessibility features require accessibility service permissions'
            };
          default:
            return {
              required: [],
              optional: [],
              description: 'Unknown feature'
            };
        }
      });
      function getFeaturePermissions(_x7) {
        return _getFeaturePermissions.apply(this, arguments);
      }
      return getFeaturePermissions;
    }())
  }, {
    key: "checkFeatureAccess",
    value: (function () {
      var _checkFeatureAccess = (0, _asyncToGenerator2.default)(function* (userId, feature) {
        try {
          var featurePerms = yield this.getFeaturePermissions(feature);
          var currentStatus = yield this.getPermissionStatus(userId);
          var missingPermissions = [];
          for (var permission of featurePerms.required) {
            if (currentStatus[permission] !== 'granted') {
              missingPermissions.push(permission);
            }
          }
          var optionalMissing = featurePerms.optional.filter(function (permission) {
            return currentStatus[permission] !== 'granted';
          });
          var hasAccess = missingPermissions.length === 0;
          var canRequestMissing = missingPermissions.length > 0;
          var suggestions = [].concat((0, _toConsumableArray2.default)(missingPermissions.length > 0 ? [`Grant ${missingPermissions.join(', ')} permissions for ${feature} features`] : []), (0, _toConsumableArray2.default)(optionalMissing.length > 0 ? [`Consider granting ${optionalMissing.join(', ')} permissions for enhanced ${feature} experience`] : []));
          return {
            hasAccess: hasAccess,
            missingPermissions: missingPermissions,
            canRequestMissing: canRequestMissing,
            suggestions: suggestions
          };
        } catch (error) {
          console.error('Failed to check feature access:', error);
          return {
            hasAccess: false,
            missingPermissions: [],
            canRequestMissing: false,
            suggestions: ['Contact support to resolve permission issues']
          };
        }
      });
      function checkFeatureAccess(_x8, _x9) {
        return _checkFeatureAccess.apply(this, arguments);
      }
      return checkFeatureAccess;
    }())
  }, {
    key: "buildPermissionContext",
    value: (function () {
      var _buildPermissionContext = (0, _asyncToGenerator2.default)(function* (userId) {
        var permissionHistory = this.permissionHistory.get(userId) || [];
        var previousDenials = permissionHistory.filter(function (h) {
          return h.state === 'denied';
        }).length;
        var preferences = yield this.getUserPreferences(userId);
        return {
          isFirstRequest: permissionHistory.length === 0,
          previousDenials: previousDenials,
          userPreferences: preferences,
          deviceContext: {
            platform: _reactNative.Platform.OS,
            osVersion: yield this.getOSVersion(),
            hasRequestedBefore: permissionHistory.length > 0,
            permissionHistory: permissionHistory
          }
        };
      });
      function buildPermissionContext(_x0) {
        return _buildPermissionContext.apply(this, arguments);
      }
      return buildPermissionContext;
    }())
  }, {
    key: "shouldShowEducation",
    value: function shouldShowEducation(request, context, hasBeenDenied) {
      if (context.userPreferences.skipEducation) {
        return false;
      }
      if (context.isFirstRequest || hasBeenDenied) {
        return this.config.enableUserEducation;
      }
      if (request.critical) {
        return this.config.enableUserEducation;
      }
      return false;
    }
  }, {
    key: "showPermissionEducation",
    value: function () {
      var _showPermissionEducation = (0, _asyncToGenerator2.default)(function* (request, context) {
        var _this2 = this;
        var educationalContent = this.getEducationalContent(request);
        return new Promise(function (resolve) {
          setTimeout(function () {
            _reactNative.Alert.alert(educationalContent.title, educationalContent.message, [{
              text: educationalContent.secondaryAction || 'Skip',
              style: 'default',
              onPress: resolve
            }, {
              text: educationalContent.primaryAction,
              style: 'default',
              onPress: resolve
            }]);
          }, _this2.config.educationDelay);
        });
      });
      function showPermissionEducation(_x1, _x10) {
        return _showPermissionEducation.apply(this, arguments);
      }
      return showPermissionEducation;
    }()
  }, {
    key: "showRecoveryEducation",
    value: function () {
      var _showRecoveryEducation = (0, _asyncToGenerator2.default)(function* (request, content) {
        return new Promise(function (resolve) {
          _reactNative.Alert.alert(content.title, content.message, [{
            text: 'Maybe Later',
            style: 'default',
            onPress: resolve
          }, {
            text: 'Enable Now',
            style: 'default',
            onPress: resolve
          }]);
        });
      });
      function showRecoveryEducation(_x11, _x12) {
        return _showRecoveryEducation.apply(this, arguments);
      }
      return showRecoveryEducation;
    }()
  }, {
    key: "performPermissionRequest",
    value: function () {
      var _performPermissionRequest = (0, _asyncToGenerator2.default)(function* (permission) {
        switch (permission) {
          case 'microphone':
            return yield this.requestMicrophonePermission();
          case 'notifications':
            return yield this.requestNotificationPermission();
          case 'calls':
            return yield this.requestCallPermission();
          case 'background':
            return yield this.requestBackgroundPermission();
          case 'accessibility':
            return yield this.requestAccessibilityPermission();
          case 'overlay':
            return _reactNative.Platform.OS === 'android' ? yield this.requestOverlayPermission() : 'unavailable';
          case 'criticalAlerts':
            return _reactNative.Platform.OS === 'ios' ? yield this.requestCriticalAlertsPermission() : 'unavailable';
          default:
            return 'unavailable';
        }
      });
      function performPermissionRequest(_x13) {
        return _performPermissionRequest.apply(this, arguments);
      }
      return performPermissionRequest;
    }()
  }, {
    key: "requestMicrophonePermission",
    value: function () {
      var _requestMicrophonePermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'ios') {
            return 'granted';
          } else if (_reactNative.Platform.OS === 'android') {
            var granted = yield _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO, {
              title: 'Microphone Permission',
              message: 'Microphone access is needed for voice synthesis during fake calls',
              buttonNeutral: 'Ask Me Later',
              buttonNegative: 'Cancel',
              buttonPositive: 'OK'
            });
            return granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED ? 'granted' : 'denied';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Microphone permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestMicrophonePermission() {
        return _requestMicrophonePermission.apply(this, arguments);
      }
      return requestMicrophonePermission;
    }()
  }, {
    key: "requestNotificationPermission",
    value: function () {
      var _requestNotificationPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'ios') {
            return 'granted';
          } else if (_reactNative.Platform.OS === 'android') {
            if (_reactNative.Platform.Version >= 33) {
              var granted = yield _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.POST_NOTIFICATIONS, {
                title: 'Notification Permission',
                message: 'Notifications are needed to show incoming fake calls',
                buttonNeutral: 'Ask Me Later',
                buttonNegative: 'Cancel',
                buttonPositive: 'OK'
              });
              return granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED ? 'granted' : 'denied';
            }
            return 'granted';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Notification permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestNotificationPermission() {
        return _requestNotificationPermission.apply(this, arguments);
      }
      return requestNotificationPermission;
    }()
  }, {
    key: "requestCallPermission",
    value: function () {
      var _requestCallPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'android') {
            var granted = yield _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.CALL_PHONE, {
              title: 'Call Permission',
              message: 'Call permission enables the native call interface',
              buttonNeutral: 'Ask Me Later',
              buttonNegative: 'Cancel',
              buttonPositive: 'OK'
            });
            return granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED ? 'granted' : 'denied';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Call permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestCallPermission() {
        return _requestCallPermission.apply(this, arguments);
      }
      return requestCallPermission;
    }()
  }, {
    key: "requestBackgroundPermission",
    value: function () {
      var _requestBackgroundPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'ios') {
            return 'granted';
          } else if (_reactNative.Platform.OS === 'android') {
            return 'granted';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Background permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestBackgroundPermission() {
        return _requestBackgroundPermission.apply(this, arguments);
      }
      return requestBackgroundPermission;
    }()
  }, {
    key: "requestAccessibilityPermission",
    value: function () {
      var _requestAccessibilityPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'android') {
            return 'granted';
          } else if (_reactNative.Platform.OS === 'ios') {
            return 'granted';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Accessibility permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestAccessibilityPermission() {
        return _requestAccessibilityPermission.apply(this, arguments);
      }
      return requestAccessibilityPermission;
    }()
  }, {
    key: "requestOverlayPermission",
    value: function () {
      var _requestOverlayPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'android') {
            var granted = yield _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.SYSTEM_ALERT_WINDOW, {
              title: 'Display Over Other Apps',
              message: 'This permission allows fake calls to appear over other apps',
              buttonNeutral: 'Ask Me Later',
              buttonNegative: 'Cancel',
              buttonPositive: 'OK'
            });
            return granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED ? 'granted' : 'denied';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Overlay permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestOverlayPermission() {
        return _requestOverlayPermission.apply(this, arguments);
      }
      return requestOverlayPermission;
    }()
  }, {
    key: "requestCriticalAlertsPermission",
    value: function () {
      var _requestCriticalAlertsPermission = (0, _asyncToGenerator2.default)(function* () {
        try {
          if (_reactNative.Platform.OS === 'ios') {
            return 'granted';
          }
          return 'unavailable';
        } catch (error) {
          console.error('Critical alerts permission request failed:', error);
          return 'unavailable';
        }
      });
      function requestCriticalAlertsPermission() {
        return _requestCriticalAlertsPermission.apply(this, arguments);
      }
      return requestCriticalAlertsPermission;
    }()
  }, {
    key: "checkPermission",
    value: function () {
      var _checkPermission = (0, _asyncToGenerator2.default)(function* (permission) {
        return this.permissionStates.get(permission) || 'undetermined';
      });
      function checkPermission(_x14) {
        return _checkPermission.apply(this, arguments);
      }
      return checkPermission;
    }()
  }, {
    key: "recordPermissionRequest",
    value: function () {
      var _recordPermissionRequest = (0, _asyncToGenerator2.default)(function* (permission, state, context) {
        var entry = {
          permission: permission,
          timestamp: new Date(),
          state: state,
          userAction: state === 'granted' ? 'granted' : state === 'denied' ? 'denied' : 'retry',
          context: context.isFirstRequest ? 'first_request' : 'subsequent_request'
        };
        var userId = 'current_user';
        var history = this.permissionHistory.get(userId) || [];
        history.push(entry);
        if (history.length > 50) {
          history.splice(0, history.length - 50);
        }
        this.permissionHistory.set(userId, history);
        yield this.savePermissionHistory();
      });
      function recordPermissionRequest(_x15, _x16, _x17) {
        return _recordPermissionRequest.apply(this, arguments);
      }
      return recordPermissionRequest;
    }()
  }, {
    key: "getNextAction",
    value: function getNextAction(state, request) {
      switch (state) {
        case 'granted':
          return 'Permission granted successfully';
        case 'denied':
          return request.critical ? 'Critical permission denied - some features may not work' : 'Permission denied - features may be limited';
        case 'limited':
          return 'Permission granted with limitations';
        case 'unavailable':
          return 'Permission not available on this device';
        default:
          return 'Permission status unknown';
      }
    }
  }, {
    key: "getEducationalContent",
    value: function getEducationalContent(request) {
      var permissionTitles = {
        microphone: 'Microphone Access',
        notifications: 'Notification Access',
        calls: 'Call Interface Access',
        background: 'Background Execution',
        accessibility: 'Accessibility Features',
        overlay: 'Display Over Apps',
        criticalAlerts: 'Critical Alerts'
      };
      var permissionMessages = {
        microphone: request.educationalMessage || 'Microphone access enables realistic voice synthesis for fake calls.',
        notifications: request.educationalMessage || 'Notifications allow you to receive incoming fake calls and reminders.',
        calls: request.educationalMessage || 'Call access enables the native call interface for realistic fake calls.',
        background: request.educationalMessage || 'Background access enables scheduled fake calls even when the app is closed.',
        accessibility: request.educationalMessage || 'Accessibility features provide enhanced control and compatibility.',
        overlay: request.educationalMessage || 'Display over apps allows fake calls to appear on top of other applications.',
        criticalAlerts: request.educationalMessage || 'Critical alerts allow important fake calls to break through Do Not Disturb.'
      };
      return {
        title: permissionTitles[request.permission],
        message: permissionMessages[request.permission],
        benefits: ['Enhanced user experience', 'More realistic fake call features', 'Better integration with device capabilities'],
        steps: ['Tap "Enable" when prompted', 'Grant the requested permission', 'Enjoy enhanced fake call features'],
        primaryAction: 'Enable Now',
        secondaryAction: 'Maybe Later'
      };
    }
  }, {
    key: "getRecoveryEducationalContent",
    value: function getRecoveryEducationalContent(permission, denialCount) {
      var titles = {
        microphone: 'Enable Microphone Access',
        notifications: 'Enable Notifications',
        calls: 'Enable Call Interface',
        background: 'Enable Background Access',
        accessibility: 'Enable Accessibility',
        overlay: 'Enable Display Over Apps',
        criticalAlerts: 'Enable Critical Alerts'
      };
      var messages = {
        microphone: denialCount > 1 ? 'Microphone access is needed for realistic voice synthesis. Please enable it to continue.' : 'Enable microphone access to unlock voice synthesis features.',
        notifications: denialCount > 1 ? 'Notifications are essential for receiving fake calls. Please enable them.' : 'Enable notifications to receive incoming fake calls.',
        calls: denialCount > 1 ? 'Call interface access provides a more realistic experience. Please enable it.' : 'Enable call interface for native fake call functionality.',
        background: denialCount > 1 ? 'Background access enables scheduled calls. Please enable it.' : 'Enable background access for scheduled fake calls.',
        accessibility: denialCount > 1 ? 'Accessibility features enhance usability. Please enable them.' : 'Enable accessibility for enhanced features.',
        overlay: denialCount > 1 ? 'Display over apps is needed for seamless fake calls. Please enable it.' : 'Enable display over apps for better fake call integration.',
        criticalAlerts: denialCount > 1 ? 'Critical alerts ensure important fake calls are delivered. Please enable them.' : 'Enable critical alerts for priority fake calls.'
      };
      return {
        title: titles[permission],
        message: messages[permission],
        denialCount: denialCount
      };
    }
  }, {
    key: "initializePlatformPermissions",
    value: function () {
      var _initializePlatformPermissions = (0, _asyncToGenerator2.default)(function* () {
        if (_reactNative.Platform.OS === 'android') {
          console.log('ðŸ“± Initializing Android permissions...');
        } else if (_reactNative.Platform.OS === 'ios') {
          console.log('ðŸ“± Initializing iOS permissions...');
        }
      });
      function initializePlatformPermissions() {
        return _initializePlatformPermissions.apply(this, arguments);
      }
      return initializePlatformPermissions;
    }()
  }, {
    key: "startPermissionMonitoring",
    value: function startPermissionMonitoring() {
      var _this3 = this;
      setInterval((0, _asyncToGenerator2.default)(function* () {
        yield _this3.checkPermissionChanges();
      }), 30000);
    }
  }, {
    key: "checkPermissionChanges",
    value: function () {
      var _checkPermissionChanges = (0, _asyncToGenerator2.default)(function* () {});
      function checkPermissionChanges() {
        return _checkPermissionChanges.apply(this, arguments);
      }
      return checkPermissionChanges;
    }()
  }, {
    key: "loadPermissionStates",
    value: function () {
      var _loadPermissionStates = (0, _asyncToGenerator2.default)(function* () {
        try {
          var stored = yield _asyncStorage.default.getItem('fake_call_permission_states');
          if (stored) {
            var parsed = JSON.parse(stored);
            this.permissionStates = new Map(Object.entries(parsed));
          }
        } catch (error) {
          console.error('Failed to load permission states:', error);
        }
      });
      function loadPermissionStates() {
        return _loadPermissionStates.apply(this, arguments);
      }
      return loadPermissionStates;
    }()
  }, {
    key: "savePermissionStates",
    value: function () {
      var _savePermissionStates = (0, _asyncToGenerator2.default)(function* () {
        try {
          var states = Object.fromEntries(this.permissionStates);
          yield _asyncStorage.default.setItem('fake_call_permission_states', JSON.stringify(states));
        } catch (error) {
          console.error('Failed to save permission states:', error);
        }
      });
      function savePermissionStates() {
        return _savePermissionStates.apply(this, arguments);
      }
      return savePermissionStates;
    }()
  }, {
    key: "loadPermissionHistory",
    value: function () {
      var _loadPermissionHistory = (0, _asyncToGenerator2.default)(function* () {
        try {
          var stored = yield _asyncStorage.default.getItem('fake_call_permission_history');
          if (stored) {
            var parsed = JSON.parse(stored);
            this.permissionHistory = new Map(Object.entries(parsed).map(function (_ref2) {
              var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
                userId = _ref3[0],
                history = _ref3[1];
              return [userId, history.map(function (entry) {
                return Object.assign({}, entry, {
                  timestamp: new Date(entry.timestamp)
                });
              })];
            }));
          }
        } catch (error) {
          console.error('Failed to load permission history:', error);
        }
      });
      function loadPermissionHistory() {
        return _loadPermissionHistory.apply(this, arguments);
      }
      return loadPermissionHistory;
    }()
  }, {
    key: "savePermissionHistory",
    value: function () {
      var _savePermissionHistory = (0, _asyncToGenerator2.default)(function* () {
        try {
          var history = Object.fromEntries(Array.from(this.permissionHistory.entries()).map(function (_ref4) {
            var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),
              userId = _ref5[0],
              entries = _ref5[1];
            return [userId, entries.map(function (entry) {
              return Object.assign({}, entry, {
                timestamp: entry.timestamp.toISOString()
              });
            })];
          }));
          yield _asyncStorage.default.setItem('fake_call_permission_history', JSON.stringify(history));
        } catch (error) {
          console.error('Failed to save permission history:', error);
        }
      });
      function savePermissionHistory() {
        return _savePermissionHistory.apply(this, arguments);
      }
      return savePermissionHistory;
    }()
  }, {
    key: "getUserPreferences",
    value: function () {
      var _getUserPreferences = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var key = `user_prefs_${userId}`;
          var stored = yield _asyncStorage.default.getItem(key);
          if (stored) {
            return JSON.parse(stored);
          }
        } catch (error) {
          console.error('Failed to load user preferences:', error);
        }
        return {
          skipEducation: false,
          autoRequest: false,
          silentMode: false
        };
      });
      function getUserPreferences(_x18) {
        return _getUserPreferences.apply(this, arguments);
      }
      return getUserPreferences;
    }()
  }, {
    key: "getOSVersion",
    value: function () {
      var _getOSVersion = (0, _asyncToGenerator2.default)(function* () {
        var _Platform$Version;
        return ((_Platform$Version = _reactNative.Platform.Version) == null ? void 0 : _Platform$Version.toString()) || 'unknown';
      });
      function getOSVersion() {
        return _getOSVersion.apply(this, arguments);
      }
      return getOSVersion;
    }()
  }, {
    key: "generateRequestId",
    value: function generateRequestId() {
      return `perm_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;
    }
  }, {
    key: "createCallError",
    value: function createCallError(type, message) {
      return {
        type: type,
        code: type,
        message: message,
        recoverable: false,
        suggestedAction: 'Check app permissions in system settings',
        timestamp: new Date(),
        callId: '',
        userId: ''
      };
    }
  }, {
    key: "dispose",
    value: (function () {
      var _dispose = (0, _asyncToGenerator2.default)(function* () {
        try {
          yield this.savePermissionStates();
          yield this.savePermissionHistory();
          this.permissionStates.clear();
          this.educationShown.clear();
          this.permissionHistory.clear();
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_permission_manager_disposed', {
            statesCleared: this.permissionStates.size,
            historyCleared: this.permissionHistory.size
          });
          console.log('ðŸ“± FakeCall Permission Manager disposed');
        } catch (error) {
          console.error('Error disposing FakeCall Permission Manager:', error);
        }
      });
      function dispose() {
        return _dispose.apply(this, arguments);
      }
      return dispose;
    }())
  }]);
}();
var fakeCallPermissionManager = exports.fakeCallPermissionManager = new FakeCallPermissionManager();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfU2VjdXJpdHlNb25pdG9yIiwiX3R5cGVzIiwiRmFrZUNhbGxQZXJtaXNzaW9uTWFuYWdlciIsImV4cG9ydHMiLCJjb25maWciLCJfY2xhc3NDYWxsQ2hlY2syIiwiZGVmYXVsdCIsInBlcm1pc3Npb25TdGF0ZXMiLCJNYXAiLCJlZHVjYXRpb25TaG93biIsIlNldCIsInBlcm1pc3Npb25IaXN0b3J5IiwiaXNJbml0aWFsaXplZCIsIk9iamVjdCIsImFzc2lnbiIsImVuYWJsZVByb2dyZXNzaXZlUmVxdWVzdHMiLCJlbmFibGVVc2VyRWR1Y2F0aW9uIiwiZW5hYmxlUGVybWlzc2lvblJlY292ZXJ5IiwiZW5hYmxlQWNjZXNzaWJpbGl0eUludGVncmF0aW9uIiwiZW5hYmxlQmFja2dyb3VuZFBlcm1pc3Npb25zIiwicmVxdWVzdFRpbWVvdXQiLCJtYXhSZXRyaWVzIiwiZWR1Y2F0aW9uRGVsYXkiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJfaW5pdGlhbGl6ZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImxvYWRQZXJtaXNzaW9uU3RhdGVzIiwibG9hZFBlcm1pc3Npb25IaXN0b3J5IiwiaW5pdGlhbGl6ZVBsYXRmb3JtUGVybWlzc2lvbnMiLCJzdGFydFBlcm1pc3Npb25Nb25pdG9yaW5nIiwic2VjdXJpdHlNb25pdG9yIiwibG9nU2VjdXJpdHlFdmVudCIsImluaXRpYWxTdGF0ZXMiLCJmcm9tRW50cmllcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9yZXF1ZXN0QWxsUGVybWlzc2lvbnMiLCJ1c2VySWQiLCJfdGhpcyIsImNvbnRleHQiLCJidWlsZFBlcm1pc3Npb25Db250ZXh0IiwicmVxdWlyZWRQZXJtaXNzaW9ucyIsInBlcm1pc3Npb24iLCJyZWFzb24iLCJlZHVjYXRpb25hbE1lc3NhZ2UiLCJQbGF0Zm9ybSIsIk9TIiwicHVzaCIsImNyaXRpY2FsIiwicmVzdWx0cyIsInJlcXVlc3QiLCJyZXN1bHQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsImdyYW50ZWQiLCJwcm9taXNlcyIsIm1hcCIsInBlcm1pc3Npb25SZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJmaW5hbFN0YXR1cyIsIm1pY3JvcGhvbmUiLCJub3RpZmljYXRpb25zIiwiY2FsbHMiLCJiYWNrZ3JvdW5kIiwiYWNjZXNzaWJpbGl0eSIsIm92ZXJsYXkiLCJjcml0aWNhbEFsZXJ0cyIsInN0YXRlIiwiciIsImlzRmlyc3RSZXF1ZXN0IiwicHJldmlvdXNEZW5pYWxzIiwic3VjY2VzcyIsImRhdGEiLCJtZXRhZGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJyZXF1ZXN0SWQiLCJnZW5lcmF0ZVJlcXVlc3RJZCIsImR1cmF0aW9uIiwicGxhdGZvcm0iLCJjcmVhdGVDYWxsRXJyb3IiLCJDYWxsRXJyb3JUeXBlIiwiQUNDRVNTX0RFTklFRCIsInJlcXVlc3RBbGxQZXJtaXNzaW9ucyIsIl94IiwiX3JlcXVlc3RQZXJtaXNzaW9uIiwicGVybWlzc2lvbktleSIsImhhc0JlZW5EZW5pZWQiLCJkZXZpY2VDb250ZXh0Iiwic29tZSIsImVudHJ5Iiwic2hvdWxkRWR1Y2F0ZSIsInNob3VsZFNob3dFZHVjYXRpb24iLCJzaG93UGVybWlzc2lvbkVkdWNhdGlvbiIsInBlcmZvcm1QZXJtaXNzaW9uUmVxdWVzdCIsInJlY29yZFBlcm1pc3Npb25SZXF1ZXN0Iiwic2V0Iiwic2hvdWxkRWR1Y2F0ZVVzZXIiLCJjYW5SZXRyeSIsImZpbHRlciIsImgiLCJsZW5ndGgiLCJuZXh0QWN0aW9uIiwiZ2V0TmV4dEFjdGlvbiIsImVkdWNhdGlvbmFsQ29udGVudCIsImdldEVkdWNhdGlvbmFsQ29udGVudCIsInVuZGVmaW5lZCIsInNhdmVQZXJtaXNzaW9uU3RhdGVzIiwiX3gyIiwiX3gzIiwiX2dldFBlcm1pc3Npb25TdGF0dXMiLCJzdGF0dXMiLCJjaGVja1Blcm1pc3Npb24iLCJnZXRQZXJtaXNzaW9uU3RhdHVzIiwiX3g0IiwiX3JlY292ZXJGcm9tRGVuaWFsIiwiaGlzdG9yeSIsIkVycm9yIiwiZGVuaWFsQ291bnQiLCJnZXRSZWNvdmVyeUVkdWNhdGlvbmFsQ29udGVudCIsIm1lc3NhZ2UiLCJzaG93UmVjb3ZlcnlFZHVjYXRpb24iLCJyZWNvdmVyeVJlc3VsdCIsInJlY292ZXJGcm9tRGVuaWFsIiwiX3g1IiwiX3g2IiwiX2dldEZlYXR1cmVQZXJtaXNzaW9ucyIsImZlYXR1cmUiLCJyZXF1aXJlZCIsIm9wdGlvbmFsIiwiZGVzY3JpcHRpb24iLCJnZXRGZWF0dXJlUGVybWlzc2lvbnMiLCJfeDciLCJfY2hlY2tGZWF0dXJlQWNjZXNzIiwiZmVhdHVyZVBlcm1zIiwiY3VycmVudFN0YXR1cyIsIm1pc3NpbmdQZXJtaXNzaW9ucyIsIm9wdGlvbmFsTWlzc2luZyIsImhhc0FjY2VzcyIsImNhblJlcXVlc3RNaXNzaW5nIiwic3VnZ2VzdGlvbnMiLCJjb25jYXQiLCJqb2luIiwiY2hlY2tGZWF0dXJlQWNjZXNzIiwiX3g4IiwiX3g5IiwiX2J1aWxkUGVybWlzc2lvbkNvbnRleHQiLCJnZXQiLCJwcmVmZXJlbmNlcyIsImdldFVzZXJQcmVmZXJlbmNlcyIsInVzZXJQcmVmZXJlbmNlcyIsIm9zVmVyc2lvbiIsImdldE9TVmVyc2lvbiIsImhhc1JlcXVlc3RlZEJlZm9yZSIsIl94MCIsInNraXBFZHVjYXRpb24iLCJfc2hvd1Blcm1pc3Npb25FZHVjYXRpb24iLCJfdGhpczIiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIkFsZXJ0IiwiYWxlcnQiLCJ0aXRsZSIsInRleHQiLCJzZWNvbmRhcnlBY3Rpb24iLCJzdHlsZSIsIm9uUHJlc3MiLCJwcmltYXJ5QWN0aW9uIiwiX3gxIiwiX3gxMCIsIl9zaG93UmVjb3ZlcnlFZHVjYXRpb24iLCJjb250ZW50IiwiX3gxMSIsIl94MTIiLCJfcGVyZm9ybVBlcm1pc3Npb25SZXF1ZXN0IiwicmVxdWVzdE1pY3JvcGhvbmVQZXJtaXNzaW9uIiwicmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJyZXF1ZXN0Q2FsbFBlcm1pc3Npb24iLCJyZXF1ZXN0QmFja2dyb3VuZFBlcm1pc3Npb24iLCJyZXF1ZXN0QWNjZXNzaWJpbGl0eVBlcm1pc3Npb24iLCJyZXF1ZXN0T3ZlcmxheVBlcm1pc3Npb24iLCJyZXF1ZXN0Q3JpdGljYWxBbGVydHNQZXJtaXNzaW9uIiwiX3gxMyIsIl9yZXF1ZXN0TWljcm9waG9uZVBlcm1pc3Npb24iLCJQZXJtaXNzaW9uc0FuZHJvaWQiLCJQRVJNSVNTSU9OUyIsIlJFQ09SRF9BVURJTyIsImJ1dHRvbk5ldXRyYWwiLCJidXR0b25OZWdhdGl2ZSIsImJ1dHRvblBvc2l0aXZlIiwiUkVTVUxUUyIsIkdSQU5URUQiLCJfcmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJWZXJzaW9uIiwiUE9TVF9OT1RJRklDQVRJT05TIiwiX3JlcXVlc3RDYWxsUGVybWlzc2lvbiIsIkNBTExfUEhPTkUiLCJfcmVxdWVzdEJhY2tncm91bmRQZXJtaXNzaW9uIiwiX3JlcXVlc3RBY2Nlc3NpYmlsaXR5UGVybWlzc2lvbiIsIl9yZXF1ZXN0T3ZlcmxheVBlcm1pc3Npb24iLCJTWVNURU1fQUxFUlRfV0lORE9XIiwiX3JlcXVlc3RDcml0aWNhbEFsZXJ0c1Blcm1pc3Npb24iLCJfY2hlY2tQZXJtaXNzaW9uIiwiX3gxNCIsIl9yZWNvcmRQZXJtaXNzaW9uUmVxdWVzdCIsInVzZXJBY3Rpb24iLCJzcGxpY2UiLCJzYXZlUGVybWlzc2lvbkhpc3RvcnkiLCJfeDE1IiwiX3gxNiIsIl94MTciLCJwZXJtaXNzaW9uVGl0bGVzIiwicGVybWlzc2lvbk1lc3NhZ2VzIiwiYmVuZWZpdHMiLCJzdGVwcyIsInRpdGxlcyIsIm1lc3NhZ2VzIiwiX2luaXRpYWxpemVQbGF0Zm9ybVBlcm1pc3Npb25zIiwiX3RoaXMzIiwic2V0SW50ZXJ2YWwiLCJjaGVja1Blcm1pc3Npb25DaGFuZ2VzIiwiX2NoZWNrUGVybWlzc2lvbkNoYW5nZXMiLCJfbG9hZFBlcm1pc3Npb25TdGF0ZXMiLCJzdG9yZWQiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZW50cmllcyIsIl9zYXZlUGVybWlzc2lvblN0YXRlcyIsInN0YXRlcyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJfbG9hZFBlcm1pc3Npb25IaXN0b3J5IiwiX3JlZjIiLCJfcmVmMyIsIl9zbGljZWRUb0FycmF5MiIsIl9zYXZlUGVybWlzc2lvbkhpc3RvcnkiLCJBcnJheSIsImZyb20iLCJfcmVmNCIsIl9yZWY1IiwidG9JU09TdHJpbmciLCJfZ2V0VXNlclByZWZlcmVuY2VzIiwiYXV0b1JlcXVlc3QiLCJzaWxlbnRNb2RlIiwiX3gxOCIsIl9nZXRPU1ZlcnNpb24iLCJfUGxhdGZvcm0kVmVyc2lvbiIsInRvU3RyaW5nIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsInR5cGUiLCJjb2RlIiwicmVjb3ZlcmFibGUiLCJzdWdnZXN0ZWRBY3Rpb24iLCJjYWxsSWQiLCJfZGlzcG9zZSIsImNsZWFyIiwic3RhdGVzQ2xlYXJlZCIsInNpemUiLCJoaXN0b3J5Q2xlYXJlZCIsImRpc3Bvc2UiLCJmYWtlQ2FsbFBlcm1pc3Npb25NYW5hZ2VyIl0sInNvdXJjZXMiOlsiUGVybWlzc2lvbk1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYWtlIENhbGwgUGVybWlzc2lvbiBNYW5hZ2VyXG4gKiBQbGF0Zm9ybS1zcGVjaWZpYyBwZXJtaXNzaW9uIGhhbmRsaW5nIGZvciBmYWtlIGNhbGwgbm90aWZpY2F0aW9uIHN5c3RlbVxuICogXG4gKiBNYW5hZ2VzIG1pY3JvcGhvbmUsIGNhbGxzLCBub3RpZmljYXRpb25zLCBiYWNrZ3JvdW5kIG9wZXJhdGlvbnMsIGFuZCBhY2Nlc3NpYmlsaXR5IHBlcm1pc3Npb25zXG4gKiB3aXRoIHByb2dyZXNzaXZlIHBlcm1pc3Npb24gcmVxdWVzdHMgYW5kIHVzZXIgZWR1Y2F0aW9uXG4gKi9cblxuaW1wb3J0IHsgUGxhdGZvcm0sIFBlcm1pc3Npb25zQW5kcm9pZCwgQWxlcnQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgeyBzZWN1cml0eU1vbml0b3IgfSBmcm9tICcuLi9zZWN1cml0eS9TZWN1cml0eU1vbml0b3InO1xuaW1wb3J0IHsgcHJpdmFjeU1hbmFnZXIgfSBmcm9tICcuLi9zZWN1cml0eS9Qcml2YWN5TWFuYWdlcic7XG5pbXBvcnQgeyBGYWtlQ2FsbENvbmZpZywgQ2FsbEVycm9yLCBDYWxsRXJyb3JUeXBlLCBGYWtlQ2FsbFJlc3VsdCB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25Db25maWcge1xuICAgIGVuYWJsZVByb2dyZXNzaXZlUmVxdWVzdHM6IGJvb2xlYW47XG4gICAgZW5hYmxlVXNlckVkdWNhdGlvbjogYm9vbGVhbjtcbiAgICBlbmFibGVQZXJtaXNzaW9uUmVjb3Zlcnk6IGJvb2xlYW47XG4gICAgZW5hYmxlQWNjZXNzaWJpbGl0eUludGVncmF0aW9uOiBib29sZWFuO1xuICAgIGVuYWJsZUJhY2tncm91bmRQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICByZXF1ZXN0VGltZW91dDogbnVtYmVyOyAvLyBtc1xuICAgIG1heFJldHJpZXM6IG51bWJlcjtcbiAgICBlZHVjYXRpb25EZWxheTogbnVtYmVyOyAvLyBtc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25TdGF0dXMge1xuICAgIG1pY3JvcGhvbmU6IFBlcm1pc3Npb25TdGF0ZTtcbiAgICBub3RpZmljYXRpb25zOiBQZXJtaXNzaW9uU3RhdGU7XG4gICAgY2FsbHM6IFBlcm1pc3Npb25TdGF0ZTtcbiAgICBiYWNrZ3JvdW5kOiBQZXJtaXNzaW9uU3RhdGU7XG4gICAgYWNjZXNzaWJpbGl0eTogUGVybWlzc2lvblN0YXRlO1xuICAgIG92ZXJsYXk6IFBlcm1pc3Npb25TdGF0ZTsgLy8gQW5kcm9pZCBvbmx5XG4gICAgY3JpdGljYWxBbGVydHM6IFBlcm1pc3Npb25TdGF0ZTsgLy8gaU9TIG9ubHlcbn1cblxuZXhwb3J0IHR5cGUgUGVybWlzc2lvblN0YXRlID0gJ2dyYW50ZWQnIHwgJ2RlbmllZCcgfCAnbGltaXRlZCcgfCAndW5hdmFpbGFibGUnIHwgJ3VuZGV0ZXJtaW5lZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvblJlcXVlc3Qge1xuICAgIHBlcm1pc3Npb246IGtleW9mIFBlcm1pc3Npb25TdGF0dXM7XG4gICAgcmVhc29uOiBzdHJpbmc7XG4gICAgZWR1Y2F0aW9uYWxNZXNzYWdlPzogc3RyaW5nO1xuICAgIGZhbGxiYWNrTWVzc2FnZT86IHN0cmluZztcbiAgICBjcml0aWNhbD86IGJvb2xlYW47XG4gICAgYmVuZWZpdHM/OiBzdHJpbmdbXTtcbiAgICBzdGVwcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25SZXN1bHQge1xuICAgIHBlcm1pc3Npb246IGtleW9mIFBlcm1pc3Npb25TdGF0dXM7XG4gICAgc3RhdGU6IFBlcm1pc3Npb25TdGF0ZTtcbiAgICBncmFudGVkOiBib29sZWFuO1xuICAgIHNob3VsZEVkdWNhdGVVc2VyOiBib29sZWFuO1xuICAgIGNhblJldHJ5OiBib29sZWFuO1xuICAgIG5leHRBY3Rpb24/OiBzdHJpbmc7XG4gICAgZWR1Y2F0aW9uYWxDb250ZW50PzogUGVybWlzc2lvbkVkdWNhdGlvbkNvbnRlbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvbkVkdWNhdGlvbkNvbnRlbnQge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGJlbmVmaXRzOiBzdHJpbmdbXTtcbiAgICBzdGVwczogc3RyaW5nW107XG4gICAgaWNvbj86IHN0cmluZztcbiAgICBwcmltYXJ5QWN0aW9uOiBzdHJpbmc7XG4gICAgc2Vjb25kYXJ5QWN0aW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25Db250ZXh0IHtcbiAgICB1c2VySWQ6IHN0cmluZztcbiAgICBpc0ZpcnN0UmVxdWVzdDogYm9vbGVhbjtcbiAgICBwcmV2aW91c0RlbmlhbHM6IG51bWJlcjtcbiAgICB1c2VyUHJlZmVyZW5jZXM6IHtcbiAgICAgICAgc2tpcEVkdWNhdGlvbjogYm9vbGVhbjtcbiAgICAgICAgYXV0b1JlcXVlc3Q6IGJvb2xlYW47XG4gICAgICAgIHNpbGVudE1vZGU6IGJvb2xlYW47XG4gICAgfTtcbiAgICBkZXZpY2VDb250ZXh0OiB7XG4gICAgICAgIHBsYXRmb3JtOiBQbGF0Zm9ybTtcbiAgICAgICAgb3NWZXJzaW9uOiBzdHJpbmc7XG4gICAgICAgIGhhc1JlcXVlc3RlZEJlZm9yZTogYm9vbGVhbjtcbiAgICAgICAgcGVybWlzc2lvbkhpc3Rvcnk6IFBlcm1pc3Npb25IaXN0b3J5RW50cnlbXTtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25IaXN0b3J5RW50cnkge1xuICAgIHBlcm1pc3Npb246IGtleW9mIFBlcm1pc3Npb25TdGF0dXM7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIHN0YXRlOiBQZXJtaXNzaW9uU3RhdGU7XG4gICAgdXNlckFjdGlvbjogJ2dyYW50ZWQnIHwgJ2RlbmllZCcgfCAnbGltaXRlZCcgfCAncmV0cnknO1xuICAgIGNvbnRleHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFja2dyb3VuZFBlcm1pc3Npb25Db25maWcge1xuICAgIGFsbG93V2hpbGVJblVzZTogYm9vbGVhbjtcbiAgICBhbGxvd0Fsd2F5czogYm9vbGVhbjtcbiAgICBmcmVxdWVuY3k6ICdpbW1lZGlhdGUnIHwgJ2RlbGF5ZWQnIHwgJ3NjaGVkdWxlZCc7XG4gICAgYmF0dGVyeU9wdGltaXphdGlvbjogYm9vbGVhbjtcbiAgICBkYXRhVXNhZ2U6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCc7XG59XG5cbmV4cG9ydCBjbGFzcyBGYWtlQ2FsbFBlcm1pc3Npb25NYW5hZ2VyIHtcbiAgICBwcml2YXRlIGNvbmZpZzogUGVybWlzc2lvbkNvbmZpZztcbiAgICBwcml2YXRlIHBlcm1pc3Npb25TdGF0ZXM6IE1hcDxzdHJpbmcsIFBlcm1pc3Npb25TdGF0ZT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBlZHVjYXRpb25TaG93bjogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gICAgcHJpdmF0ZSBwZXJtaXNzaW9uSGlzdG9yeTogTWFwPHN0cmluZywgUGVybWlzc2lvbkhpc3RvcnlFbnRyeVtdPiA9IG5ldyBNYXAoKTtcbiAgICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IFBhcnRpYWw8UGVybWlzc2lvbkNvbmZpZz4pIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBlbmFibGVQcm9ncmVzc2l2ZVJlcXVlc3RzOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlVXNlckVkdWNhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZVBlcm1pc3Npb25SZWNvdmVyeTogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZUFjY2Vzc2liaWxpdHlJbnRlZ3JhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZUJhY2tncm91bmRQZXJtaXNzaW9uczogdHJ1ZSxcbiAgICAgICAgICAgIHJlcXVlc3RUaW1lb3V0OiAzMDAwMCwgLy8gMzAgc2Vjb25kc1xuICAgICAgICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgICAgICAgIGVkdWNhdGlvbkRlbGF5OiAyMDAwLCAvLyAyIHNlY29uZHNcbiAgICAgICAgICAgIC4uLmNvbmZpZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgcGVybWlzc2lvbiBtYW5hZ2VyXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIExvYWQgZXhpc3RpbmcgcGVybWlzc2lvbiBzdGF0ZXNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBlcm1pc3Npb25TdGF0ZXMoKTtcblxuICAgICAgICAgICAgLy8gTG9hZCBwZXJtaXNzaW9uIGhpc3RvcnlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFBlcm1pc3Npb25IaXN0b3J5KCk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgcGxhdGZvcm0tc3BlY2lmaWMgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVBsYXRmb3JtUGVybWlzc2lvbnMoKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgcGVybWlzc2lvbiBtb25pdG9yaW5nXG4gICAgICAgICAgICB0aGlzLnN0YXJ0UGVybWlzc2lvbk1vbml0b3JpbmcoKTtcblxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9wZXJtaXNzaW9uX21hbmFnZXJfaW5pdGlhbGl6ZWQnLCB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgICAgICBpbml0aWFsU3RhdGVzOiBPYmplY3QuZnJvbUVudHJpZXModGhpcy5wZXJtaXNzaW9uU3RhdGVzKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TsSBGYWtlQ2FsbCBQZXJtaXNzaW9uIE1hbmFnZXIgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIEZha2VDYWxsIFBlcm1pc3Npb24gTWFuYWdlcjonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYWxsIG5lY2Vzc2FyeSBwZXJtaXNzaW9ucyBmb3IgZmFrZSBjYWxsIGZ1bmN0aW9uYWxpdHlcbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0QWxsUGVybWlzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEZha2VDYWxsUmVzdWx0PFBlcm1pc3Npb25TdGF0dXM+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5idWlsZFBlcm1pc3Npb25Db250ZXh0KHVzZXJJZCk7XG4gICAgICAgICAgICBjb25zdCByZXF1aXJlZFBlcm1pc3Npb25zOiBQZXJtaXNzaW9uUmVxdWVzdFtdID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ21pY3JvcGhvbmUnLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdWb2ljZSBzeW50aGVzaXMgZm9yIHJlYWxpc3RpYyBjYWxsIGF1ZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxNZXNzYWdlOiAnTWljcm9waG9uZSBhY2Nlc3MgYWxsb3dzIHRoZSBhcHAgdG8gcGxheSByZWFsaXN0aWMgdm9pY2UgbWVzc2FnZXMgZHVyaW5nIGZha2UgY2FsbHMsIGNyZWF0aW5nIGFuIGF1dGhlbnRpYyBjYWxsaW5nIGV4cGVyaWVuY2UuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnbm90aWZpY2F0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ0Rpc3BsYXkgaW5jb21pbmcgY2FsbCBub3RpZmljYXRpb25zIGFuZCBtYW5hZ2UgY2FsbCBzY2hlZHVsaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxNZXNzYWdlOiAnTm90aWZpY2F0aW9ucyBhcmUgZXNzZW50aWFsIGZvciByZWNlaXZpbmcgaW5jb21pbmcgZmFrZSBjYWxscywgY2FsbCByZW1pbmRlcnMsIGFuZCBzY2hlZHVsaW5nIHVwZGF0ZXMuJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY2FsbHMnLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEaXNwbGF5IG5hdGl2ZSBjYWxsIGludGVyZmFjZSBhbmQgbWFuYWdlIGNhbGwgbGlmZWN5Y2xlJyxcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxNZXNzYWdlOiAnQ2FsbCBwZXJtaXNzaW9uIGVuYWJsZXMgdGhlIG5hdGl2ZSBjYWxsIGludGVyZmFjZSBmb3IgbW9yZSByZWFsaXN0aWMgZmFrZSBjYWxsIGV4cGVyaWVuY2VzLidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAvLyBBZGQgcGxhdGZvcm0tc3BlY2lmaWMgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRQZXJtaXNzaW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ292ZXJsYXknLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEaXNwbGF5IGNhbGwgaW50ZXJmYWNlIG92ZXIgb3RoZXIgYXBwcycsXG4gICAgICAgICAgICAgICAgICAgIGVkdWNhdGlvbmFsTWVzc2FnZTogJ0Rpc3BsYXkgb3ZlciBvdGhlciBhcHBzIGFsbG93cyB0aGUgZmFrZSBjYWxsIGludGVyZmFjZSB0byBhcHBlYXIgb24gdG9wIG9mIGFueSBvdGhlciBhcHBsaWNhdGlvbi4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZFBlcm1pc3Npb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY3JpdGljYWxBbGVydHMnLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdCeXBhc3MgRG8gTm90IERpc3R1cmIgZm9yIGltcG9ydGFudCBmYWtlIGNhbGxzJyxcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxNZXNzYWdlOiAnQ3JpdGljYWwgYWxlcnRzIGFsbG93IGltcG9ydGFudCBmYWtlIGNhbGxzIHRvIGJyZWFrIHRocm91Z2ggRG8gTm90IERpc3R1cmIgc2V0dGluZ3MuJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgYmFja2dyb3VuZCBwZXJtaXNzaW9ucyBmb3IgYWR2YW5jZWQgZmVhdHVyZXNcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVCYWNrZ3JvdW5kUGVybWlzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZFBlcm1pc3Npb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnYmFja2dyb3VuZCcsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ0JhY2tncm91bmQgY2FsbCBzY2hlZHVsaW5nIGFuZCBub3RpZmljYXRpb24gZGVsaXZlcnknLFxuICAgICAgICAgICAgICAgICAgICBlZHVjYXRpb25hbE1lc3NhZ2U6ICdCYWNrZ3JvdW5kIGFjY2VzcyBlbmFibGVzIHNjaGVkdWxpbmcgZmFrZSBjYWxscyBhbmQgcmVjZWl2aW5nIG5vdGlmaWNhdGlvbnMgZXZlbiB3aGVuIHRoZSBhcHAgaXMgY2xvc2VkLidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGFjY2Vzc2liaWxpdHkgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBY2Nlc3NpYmlsaXR5SW50ZWdyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZFBlcm1pc3Npb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnYWNjZXNzaWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ0VuaGFuY2VkIGFjY2Vzc2liaWxpdHkgZmVhdHVyZXMgYW5kIHZvaWNlIGNvbnRyb2wnLFxuICAgICAgICAgICAgICAgICAgICBlZHVjYXRpb25hbE1lc3NhZ2U6ICdBY2Nlc3NpYmlsaXR5IHBlcm1pc3Npb25zIGVuYWJsZSBhZHZhbmNlZCBmZWF0dXJlcyBsaWtlIHZvaWNlIGNvbnRyb2wgYW5kIHNjcmVlbiByZWFkZXIgc3VwcG9ydC4nLFxuICAgICAgICAgICAgICAgICAgICBjcml0aWNhbDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0czogUGVybWlzc2lvblJlc3VsdFtdID0gW107XG5cbiAgICAgICAgICAgIC8vIFJlcXVlc3QgcGVybWlzc2lvbnMgcHJvZ3Jlc3NpdmVseSBpZiBlbmFibGVkXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlUHJvZ3Jlc3NpdmVSZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVxdWVzdCBvZiByZXF1aXJlZFBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdFBlcm1pc3Npb24ocmVxdWVzdCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgZGVuaWVzIGNyaXRpY2FsIHBlcm1pc3Npb24sIHN0b3AgcHJvZ3Jlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuY3JpdGljYWwgJiYgIXJlc3VsdC5ncmFudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBhbGwgcGVybWlzc2lvbnMgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHJlcXVpcmVkUGVybWlzc2lvbnMubWFwKHJlcXVlc3QgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0UGVybWlzc2lvbihyZXF1ZXN0LCBjb250ZXh0KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvblJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKC4uLnBlcm1pc3Npb25SZXN1bHRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQnVpbGQgZmluYWwgcGVybWlzc2lvbiBzdGF0dXNcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsU3RhdHVzOiBQZXJtaXNzaW9uU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgIG1pY3JvcGhvbmU6ICd1bmRldGVybWluZWQnLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6ICd1bmRldGVybWluZWQnLFxuICAgICAgICAgICAgICAgIGNhbGxzOiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBvdmVybGF5OiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBjcml0aWNhbEFsZXJ0czogJ3VuZGV0ZXJtaW5lZCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFN0YXR1c1tyZXN1bHQucGVybWlzc2lvbl0gPSByZXN1bHQuc3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvZyBwZXJtaXNzaW9uIHJlcXVlc3QgcmVzdWx0c1xuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9wZXJtaXNzaW9uc19yZXF1ZXN0ZWQnLCB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMubWFwKHIgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogci5wZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogci5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhbnRlZDogci5ncmFudGVkXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFJlcXVlc3Q6IGNvbnRleHQuaXNGaXJzdFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRGVuaWFsczogY29udGV4dC5wcmV2aW91c0RlbmlhbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGZpbmFsU3RhdHVzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLmdlbmVyYXRlUmVxdWVzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogUGxhdGZvcm0uT1NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uczonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmNyZWF0ZUNhbGxFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQ2FsbEVycm9yVHlwZS5BQ0NFU1NfREVOSUVELFxuICAgICAgICAgICAgICAgICAgICAnUGVybWlzc2lvbiByZXF1ZXN0IGZhaWxlZCdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLmdlbmVyYXRlUmVxdWVzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogUGxhdGZvcm0uT1NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBhIHNpbmdsZSBwZXJtaXNzaW9uIHdpdGggdXNlciBlZHVjYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0UGVybWlzc2lvbihyZXF1ZXN0OiBQZXJtaXNzaW9uUmVxdWVzdCwgY29udGV4dDogUGVybWlzc2lvbkNvbnRleHQpOiBQcm9taXNlPFBlcm1pc3Npb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25LZXkgPSBgJHtjb250ZXh0LnVzZXJJZH1fJHtyZXF1ZXN0LnBlcm1pc3Npb259YDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0JlZW5EZW5pZWQgPSBjb250ZXh0LmRldmljZUNvbnRleHQucGVybWlzc2lvbkhpc3RvcnlcbiAgICAgICAgICAgICAgICAuc29tZShlbnRyeSA9PiBlbnRyeS5wZXJtaXNzaW9uID09PSByZXF1ZXN0LnBlcm1pc3Npb24gJiYgZW50cnkuc3RhdGUgPT09ICdkZW5pZWQnKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHNob3cgdXNlciBlZHVjYXRpb25cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEVkdWNhdGUgPSB0aGlzLnNob3VsZFNob3dFZHVjYXRpb24ocmVxdWVzdCwgY29udGV4dCwgaGFzQmVlbkRlbmllZCk7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRFZHVjYXRlICYmIHRoaXMuY29uZmlnLmVuYWJsZVVzZXJFZHVjYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dQZXJtaXNzaW9uRWR1Y2F0aW9uKHJlcXVlc3QsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSBhY3R1YWwgcGVybWlzc2lvbiByZXF1ZXN0XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHRoaXMucGVyZm9ybVBlcm1pc3Npb25SZXF1ZXN0KHJlcXVlc3QucGVybWlzc2lvbik7XG5cbiAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgcGVybWlzc2lvbiByZXF1ZXN0IGluIGhpc3RvcnlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb3JkUGVybWlzc2lvblJlcXVlc3QocmVxdWVzdC5wZXJtaXNzaW9uLCBzdGF0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbnRlcm5hbCBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uU3RhdGVzLnNldChwZXJtaXNzaW9uS2V5LCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB1c2VyIHNob3VsZCBiZSBlZHVjYXRlZCBmb3IgZnV0dXJlIHJlcXVlc3RzXG4gICAgICAgICAgICBjb25zdCBzaG91bGRFZHVjYXRlVXNlciA9IHN0YXRlID09PSAnZGVuaWVkJyAmJiAhaGFzQmVlbkRlbmllZDtcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHBlcm1pc3Npb24gY2FuIGJlIHJldHJpZWRcbiAgICAgICAgICAgIGNvbnN0IGNhblJldHJ5ID0gc3RhdGUgPT09ICdkZW5pZWQnICYmXG4gICAgICAgICAgICAgICAgY29udGV4dC5kZXZpY2VDb250ZXh0LnBlcm1pc3Npb25IaXN0b3J5LmZpbHRlcihoID0+IGgucGVybWlzc2lvbiA9PT0gcmVxdWVzdC5wZXJtaXNzaW9uKS5sZW5ndGggPCB0aGlzLmNvbmZpZy5tYXhSZXRyaWVzO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFBlcm1pc3Npb25SZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogcmVxdWVzdC5wZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIGdyYW50ZWQ6IHN0YXRlID09PSAnZ3JhbnRlZCcsXG4gICAgICAgICAgICAgICAgc2hvdWxkRWR1Y2F0ZVVzZXIsXG4gICAgICAgICAgICAgICAgY2FuUmV0cnksXG4gICAgICAgICAgICAgICAgbmV4dEFjdGlvbjogdGhpcy5nZXROZXh0QWN0aW9uKHN0YXRlLCByZXF1ZXN0KSxcbiAgICAgICAgICAgICAgICBlZHVjYXRpb25hbENvbnRlbnQ6IHNob3VsZEVkdWNhdGVVc2VyID8gdGhpcy5nZXRFZHVjYXRpb25hbENvbnRlbnQocmVxdWVzdCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFNhdmUgdXBkYXRlZCBzdGF0ZXNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVBlcm1pc3Npb25TdGF0ZXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlcXVlc3QgcGVybWlzc2lvbiAke3JlcXVlc3QucGVybWlzc2lvbn06YCwgZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IHJlcXVlc3QucGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3VuYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICBncmFudGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG91bGRFZHVjYXRlVXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5SZXRyeTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmV4dEFjdGlvbjogJ0NvbnRhY3Qgc3VwcG9ydCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBjdXJyZW50IHBlcm1pc3Npb24gc3RhdHVzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0UGVybWlzc2lvblN0YXR1cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8UGVybWlzc2lvblN0YXR1cz4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzOiBQZXJtaXNzaW9uU3RhdHVzID0ge1xuICAgICAgICAgICAgICAgIG1pY3JvcGhvbmU6IGF3YWl0IHRoaXMuY2hlY2tQZXJtaXNzaW9uKCdtaWNyb3Bob25lJyksXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uczogYXdhaXQgdGhpcy5jaGVja1Blcm1pc3Npb24oJ25vdGlmaWNhdGlvbnMnKSxcbiAgICAgICAgICAgICAgICBjYWxsczogYXdhaXQgdGhpcy5jaGVja1Blcm1pc3Npb24oJ2NhbGxzJyksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYXdhaXQgdGhpcy5jaGVja1Blcm1pc3Npb24oJ2JhY2tncm91bmQnKSxcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhd2FpdCB0aGlzLmNoZWNrUGVybWlzc2lvbignYWNjZXNzaWJpbGl0eScpLFxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IGF3YWl0IHRoaXMuY2hlY2tQZXJtaXNzaW9uKCdvdmVybGF5JyksXG4gICAgICAgICAgICAgICAgY3JpdGljYWxBbGVydHM6IGF3YWl0IHRoaXMuY2hlY2tQZXJtaXNzaW9uKCdjcml0aWNhbEFsZXJ0cycpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBwZXJtaXNzaW9uIHN0YXR1czonLCBlcnJvcik7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBkZWZhdWx0IHN0YXR1cyBvbiBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaWNyb3Bob25lOiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgICAgICBjYWxsczogJ3VuZGV0ZXJtaW5lZCcsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3VuZGV0ZXJtaW5lZCcsXG4gICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogJ3VuZGV0ZXJtaW5lZCcsXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogJ3VuZGV0ZXJtaW5lZCcsXG4gICAgICAgICAgICAgICAgY3JpdGljYWxBbGVydHM6ICd1bmRldGVybWluZWQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjb3ZlciBmcm9tIHBlcm1pc3Npb24gZGVuaWFsIHdpdGggZWR1Y2F0aW9uYWwgcHJvbXB0c1xuICAgICAqL1xuICAgIGFzeW5jIHJlY292ZXJGcm9tRGVuaWFsKHVzZXJJZDogc3RyaW5nLCBwZXJtaXNzaW9uOiBrZXlvZiBQZXJtaXNzaW9uU3RhdHVzKTogUHJvbWlzZTxQZXJtaXNzaW9uUmVzdWx0PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5idWlsZFBlcm1pc3Npb25Db250ZXh0KHVzZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBoaXN0b3J5ID0gY29udGV4dC5kZXZpY2VDb250ZXh0LnBlcm1pc3Npb25IaXN0b3J5LmZpbHRlcihoID0+IGgucGVybWlzc2lvbiA9PT0gcGVybWlzc2lvbik7XG5cbiAgICAgICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGVuaWFsIGhpc3RvcnkgZm91bmQgZm9yIHBlcm1pc3Npb24gcmVjb3ZlcnknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGVuaWFsQ291bnQgPSBoaXN0b3J5LmZpbHRlcihoID0+IGguc3RhdGUgPT09ICdkZW5pZWQnKS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0OiBQZXJtaXNzaW9uUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogYFJlY292ZXIgcGVybWlzc2lvbiBmb3IgJHtwZXJtaXNzaW9ufWAsXG4gICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxNZXNzYWdlOiBgTGV0J3MgaGVscCB5b3UgZW5hYmxlICR7cGVybWlzc2lvbn0gcGVybWlzc2lvbnMgZm9yIHRoZSBiZXN0IGZha2UgY2FsbCBleHBlcmllbmNlLmAsXG4gICAgICAgICAgICAgICAgY3JpdGljYWw6IHRydWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFVzZSBwcm9ncmVzc2l2ZWx5IHN0cm9uZ2VyIGVkdWNhdGlvbiBtZXNzYWdlc1xuICAgICAgICAgICAgY29uc3QgZWR1Y2F0aW9uYWxDb250ZW50ID0gdGhpcy5nZXRSZWNvdmVyeUVkdWNhdGlvbmFsQ29udGVudChwZXJtaXNzaW9uLCBkZW5pYWxDb3VudCk7XG4gICAgICAgICAgICByZXF1ZXN0LmVkdWNhdGlvbmFsTWVzc2FnZSA9IGVkdWNhdGlvbmFsQ29udGVudC5tZXNzYWdlO1xuXG4gICAgICAgICAgICAvLyBTaG93IHJlY292ZXJ5IGVkdWNhdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVVzZXJFZHVjYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dSZWNvdmVyeUVkdWNhdGlvbihyZXF1ZXN0LCBlZHVjYXRpb25hbENvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXRyeSBwZXJtaXNzaW9uIHJlcXVlc3RcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdFBlcm1pc3Npb24ocmVxdWVzdCwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHNlY3VyaXR5TW9uaXRvci5sb2dTZWN1cml0eUV2ZW50KCdmYWtlX2NhbGxfcGVybWlzc2lvbl9yZWNvdmVyeV9hdHRlbXB0ZWQnLCB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgZGVuaWFsQ291bnQsXG4gICAgICAgICAgICAgICAgcmVjb3ZlcnlSZXN1bHQ6IHJlc3VsdC5zdGF0ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Blcm1pc3Npb24gcmVjb3ZlcnkgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBlcm1pc3Npb24gcmVxdWlyZW1lbnRzIGZvciBzcGVjaWZpYyBmYWtlIGNhbGwgZmVhdHVyZXNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRGZWF0dXJlUGVybWlzc2lvbnMoZmVhdHVyZTogJ2Jhc2ljX2NhbGxzJyB8ICdhZHZhbmNlZF9zY2hlZHVsaW5nJyB8ICdiYWNrZ3JvdW5kX2V4ZWN1dGlvbicgfCAnYWNjZXNzaWJpbGl0eV9mZWF0dXJlcycpOiBQcm9taXNlPHtcbiAgICAgICAgcmVxdWlyZWQ6IChrZXlvZiBQZXJtaXNzaW9uU3RhdHVzKVtdO1xuICAgICAgICBvcHRpb25hbDogKGtleW9mIFBlcm1pc3Npb25TdGF0dXMpW107XG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgfT4ge1xuICAgICAgICBzd2l0Y2ggKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Jhc2ljX2NhbGxzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogWydtaWNyb3Bob25lJywgJ25vdGlmaWNhdGlvbnMnXSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWw6IFsnY2FsbHMnLCAnYWNjZXNzaWJpbGl0eSddLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Jhc2ljIGZha2UgY2FsbCBmdW5jdGlvbmFsaXR5IHJlcXVpcmVzIG1pY3JvcGhvbmUgYW5kIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9ucydcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYXNlICdhZHZhbmNlZF9zY2hlZHVsaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogWydub3RpZmljYXRpb25zJywgJ2JhY2tncm91bmQnXSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWw6IFsnY2FsbHMnLCAnYWNjZXNzaWJpbGl0eSddLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FkdmFuY2VkIHNjaGVkdWxpbmcgcmVxdWlyZXMgYmFja2dyb3VuZCBub3RpZmljYXRpb25zIGFuZCBiYWNrZ3JvdW5kIGV4ZWN1dGlvbidcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYXNlICdiYWNrZ3JvdW5kX2V4ZWN1dGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFsnYmFja2dyb3VuZCcsICdub3RpZmljYXRpb25zJ10sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsOiBbJ21pY3JvcGhvbmUnLCAnY2FsbHMnXSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdCYWNrZ3JvdW5kIGV4ZWN1dGlvbiByZXF1aXJlcyBiYWNrZ3JvdW5kIGFwcCByZWZyZXNoIGFuZCBub3RpZmljYXRpb24gcGVybWlzc2lvbnMnXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2FzZSAnYWNjZXNzaWJpbGl0eV9mZWF0dXJlcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFsnYWNjZXNzaWJpbGl0eSddLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogWydtaWNyb3Bob25lJywgJ25vdGlmaWNhdGlvbnMnXSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBY2Nlc3NpYmlsaXR5IGZlYXR1cmVzIHJlcXVpcmUgYWNjZXNzaWJpbGl0eSBzZXJ2aWNlIHBlcm1pc3Npb25zJ1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogW10sXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVW5rbm93biBmZWF0dXJlJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB1c2VyIGhhcyBncmFudGVkIGFsbCByZXF1aXJlZCBwZXJtaXNzaW9ucyBmb3IgYSBmZWF0dXJlXG4gICAgICovXG4gICAgYXN5bmMgY2hlY2tGZWF0dXJlQWNjZXNzKHVzZXJJZDogc3RyaW5nLCBmZWF0dXJlOiAnYmFzaWNfY2FsbHMnIHwgJ2FkdmFuY2VkX3NjaGVkdWxpbmcnIHwgJ2JhY2tncm91bmRfZXhlY3V0aW9uJyB8ICdhY2Nlc3NpYmlsaXR5X2ZlYXR1cmVzJyk6IFByb21pc2U8e1xuICAgICAgICBoYXNBY2Nlc3M6IGJvb2xlYW47XG4gICAgICAgIG1pc3NpbmdQZXJtaXNzaW9uczogKGtleW9mIFBlcm1pc3Npb25TdGF0dXMpW107XG4gICAgICAgIGNhblJlcXVlc3RNaXNzaW5nOiBib29sZWFuO1xuICAgICAgICBzdWdnZXN0aW9uczogc3RyaW5nW107XG4gICAgfT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZVBlcm1zID0gYXdhaXQgdGhpcy5nZXRGZWF0dXJlUGVybWlzc2lvbnMoZmVhdHVyZSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdHVzID0gYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9uU3RhdHVzKHVzZXJJZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdQZXJtaXNzaW9uczogKGtleW9mIFBlcm1pc3Npb25TdGF0dXMpW10gPSBbXTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgcmVxdWlyZWQgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGVybWlzc2lvbiBvZiBmZWF0dXJlUGVybXMucmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXR1c1twZXJtaXNzaW9uXSAhPT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pc3NpbmdQZXJtaXNzaW9ucy5wdXNoKHBlcm1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgb3B0aW9uYWwgcGVybWlzc2lvbnMgKHdhcm4gaWYgbWlzc2luZyBidXQgZG9uJ3QgYmxvY2spXG4gICAgICAgICAgICBjb25zdCBvcHRpb25hbE1pc3NpbmcgPSBmZWF0dXJlUGVybXMub3B0aW9uYWwuZmlsdGVyKHBlcm1pc3Npb24gPT5cbiAgICAgICAgICAgICAgICBjdXJyZW50U3RhdHVzW3Blcm1pc3Npb25dICE9PSAnZ3JhbnRlZCdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc0FjY2VzcyA9IG1pc3NpbmdQZXJtaXNzaW9ucy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICBjb25zdCBjYW5SZXF1ZXN0TWlzc2luZyA9IG1pc3NpbmdQZXJtaXNzaW9ucy5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAuLi4obWlzc2luZ1Blcm1pc3Npb25zLmxlbmd0aCA+IDAgPyBbXG4gICAgICAgICAgICAgICAgICAgIGBHcmFudCAke21pc3NpbmdQZXJtaXNzaW9ucy5qb2luKCcsICcpfSBwZXJtaXNzaW9ucyBmb3IgJHtmZWF0dXJlfSBmZWF0dXJlc2BcbiAgICAgICAgICAgICAgICBdIDogW10pLFxuICAgICAgICAgICAgICAgIC4uLihvcHRpb25hbE1pc3NpbmcubGVuZ3RoID4gMCA/IFtcbiAgICAgICAgICAgICAgICAgICAgYENvbnNpZGVyIGdyYW50aW5nICR7b3B0aW9uYWxNaXNzaW5nLmpvaW4oJywgJyl9IHBlcm1pc3Npb25zIGZvciBlbmhhbmNlZCAke2ZlYXR1cmV9IGV4cGVyaWVuY2VgXG4gICAgICAgICAgICAgICAgXSA6IFtdKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoYXNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgbWlzc2luZ1Blcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIGNhblJlcXVlc3RNaXNzaW5nLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgZmVhdHVyZSBhY2Nlc3M6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoYXNBY2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1pc3NpbmdQZXJtaXNzaW9uczogW10sXG4gICAgICAgICAgICAgICAgY2FuUmVxdWVzdE1pc3Npbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbJ0NvbnRhY3Qgc3VwcG9ydCB0byByZXNvbHZlIHBlcm1pc3Npb24gaXNzdWVzJ11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIGhlbHBlciBtZXRob2RzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBidWlsZFBlcm1pc3Npb25Db250ZXh0KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxQZXJtaXNzaW9uQ29udGV4dD4ge1xuICAgICAgICBjb25zdCBwZXJtaXNzaW9uSGlzdG9yeSA9IHRoaXMucGVybWlzc2lvbkhpc3RvcnkuZ2V0KHVzZXJJZCkgfHwgW107XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRGVuaWFscyA9IHBlcm1pc3Npb25IaXN0b3J5LmZpbHRlcihoID0+IGguc3RhdGUgPT09ICdkZW5pZWQnKS5sZW5ndGg7XG5cbiAgICAgICAgLy8gTG9hZCB1c2VyIHByZWZlcmVuY2VzXG4gICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gYXdhaXQgdGhpcy5nZXRVc2VyUHJlZmVyZW5jZXModXNlcklkKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNGaXJzdFJlcXVlc3Q6IHBlcm1pc3Npb25IaXN0b3J5Lmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICAgIHByZXZpb3VzRGVuaWFscyxcbiAgICAgICAgICAgIHVzZXJQcmVmZXJlbmNlczogcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICBkZXZpY2VDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IFBsYXRmb3JtLk9TLFxuICAgICAgICAgICAgICAgIG9zVmVyc2lvbjogYXdhaXQgdGhpcy5nZXRPU1ZlcnNpb24oKSxcbiAgICAgICAgICAgICAgICBoYXNSZXF1ZXN0ZWRCZWZvcmU6IHBlcm1pc3Npb25IaXN0b3J5Lmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbkhpc3RvcnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZFNob3dFZHVjYXRpb24ocmVxdWVzdDogUGVybWlzc2lvblJlcXVlc3QsIGNvbnRleHQ6IFBlcm1pc3Npb25Db250ZXh0LCBoYXNCZWVuRGVuaWVkOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIERvbid0IHNob3cgZWR1Y2F0aW9uIGlmIHVzZXIgaGFzIG9wdGVkIG91dFxuICAgICAgICBpZiAoY29udGV4dC51c2VyUHJlZmVyZW5jZXMuc2tpcEVkdWNhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBlZHVjYXRpb24gZm9yIGZpcnN0LXRpbWUgcmVxdWVzdHMgb3IgZGVuaWFsc1xuICAgICAgICBpZiAoY29udGV4dC5pc0ZpcnN0UmVxdWVzdCB8fCBoYXNCZWVuRGVuaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZW5hYmxlVXNlckVkdWNhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgZWR1Y2F0aW9uIGZvciBjcml0aWNhbCBwZXJtaXNzaW9uc1xuICAgICAgICBpZiAocmVxdWVzdC5jcml0aWNhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmVuYWJsZVVzZXJFZHVjYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzaG93UGVybWlzc2lvbkVkdWNhdGlvbihyZXF1ZXN0OiBQZXJtaXNzaW9uUmVxdWVzdCwgY29udGV4dDogUGVybWlzc2lvbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZWR1Y2F0aW9uYWxDb250ZW50ID0gdGhpcy5nZXRFZHVjYXRpb25hbENvbnRlbnQocmVxdWVzdCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBBbGVydC5hbGVydChcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uYWxDb250ZW50LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBlZHVjYXRpb25hbENvbnRlbnQubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGVkdWNhdGlvbmFsQ29udGVudC5zZWNvbmRhcnlBY3Rpb24gfHwgJ1NraXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QcmVzczogcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBlZHVjYXRpb25hbENvbnRlbnQucHJpbWFyeUFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJlc3M6IHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LCB0aGlzLmNvbmZpZy5lZHVjYXRpb25EZWxheSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2hvd1JlY292ZXJ5RWR1Y2F0aW9uKHJlcXVlc3Q6IFBlcm1pc3Npb25SZXF1ZXN0LCBjb250ZW50OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBBbGVydC5hbGVydChcbiAgICAgICAgICAgICAgICBjb250ZW50LnRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdNYXliZSBMYXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25QcmVzczogcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnRW5hYmxlIE5vdycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25QcmVzczogcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtUGVybWlzc2lvblJlcXVlc3QocGVybWlzc2lvbjoga2V5b2YgUGVybWlzc2lvblN0YXR1cyk6IFByb21pc2U8UGVybWlzc2lvblN0YXRlPiB7XG4gICAgICAgIHN3aXRjaCAocGVybWlzc2lvbikge1xuICAgICAgICAgICAgY2FzZSAnbWljcm9waG9uZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdE1pY3JvcGhvbmVQZXJtaXNzaW9uKCk7XG4gICAgICAgICAgICBjYXNlICdub3RpZmljYXRpb25zJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpO1xuICAgICAgICAgICAgY2FzZSAnY2FsbHMnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJlcXVlc3RDYWxsUGVybWlzc2lvbigpO1xuICAgICAgICAgICAgY2FzZSAnYmFja2dyb3VuZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdEJhY2tncm91bmRQZXJtaXNzaW9uKCk7XG4gICAgICAgICAgICBjYXNlICdhY2Nlc3NpYmlsaXR5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXF1ZXN0QWNjZXNzaWJpbGl0eVBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgIGNhc2UgJ292ZXJsYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnID8gYXdhaXQgdGhpcy5yZXF1ZXN0T3ZlcmxheVBlcm1pc3Npb24oKSA6ICd1bmF2YWlsYWJsZSc7XG4gICAgICAgICAgICBjYXNlICdjcml0aWNhbEFsZXJ0cyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsYXRmb3JtLk9TID09PSAnaW9zJyA/IGF3YWl0IHRoaXMucmVxdWVzdENyaXRpY2FsQWxlcnRzUGVybWlzc2lvbigpIDogJ3VuYXZhaWxhYmxlJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd1bmF2YWlsYWJsZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlcXVlc3RNaWNyb3Bob25lUGVybWlzc2lvbigpOiBQcm9taXNlPFBlcm1pc3Npb25TdGF0ZT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAgICAgICAgIC8vIGlPUyBoYW5kbGVzIG1pY3JvcGhvbmUgcGVybWlzc2lvbnMgdGhyb3VnaCBuYXRpdmUgYXVkaW8gc2Vzc2lvblxuICAgICAgICAgICAgICAgIHJldHVybiAnZ3JhbnRlZCc7IC8vIFNpbXBsaWZpZWQgLSB3b3VsZCBjaGVjayBhY3R1YWwgc3RhdHVzXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFudGVkID0gYXdhaXQgUGVybWlzc2lvbnNBbmRyb2lkLnJlcXVlc3QoXG4gICAgICAgICAgICAgICAgICAgIFBlcm1pc3Npb25zQW5kcm9pZC5QRVJNSVNTSU9OUy5SRUNPUkRfQVVESU8sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWljcm9waG9uZSBQZXJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNaWNyb3Bob25lIGFjY2VzcyBpcyBuZWVkZWQgZm9yIHZvaWNlIHN5bnRoZXNpcyBkdXJpbmcgZmFrZSBjYWxscycsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25OZXV0cmFsOiAnQXNrIE1lIExhdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbk5lZ2F0aXZlOiAnQ2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblBvc2l0aXZlOiAnT0snXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyYW50ZWQgPT09IFBlcm1pc3Npb25zQW5kcm9pZC5SRVNVTFRTLkdSQU5URUQgPyAnZ3JhbnRlZCcgOiAnZGVuaWVkJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICd1bmF2YWlsYWJsZSc7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaWNyb3Bob25lIHBlcm1pc3Npb24gcmVxdWVzdCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuICd1bmF2YWlsYWJsZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uKCk6IFByb21pc2U8UGVybWlzc2lvblN0YXRlPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gaU9TIG5vdGlmaWNhdGlvbnMgYXJlIGhhbmRsZWQgdGhyb3VnaCBuYXRpdmUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gJ2dyYW50ZWQnOyAvLyBTaW1wbGlmaWVkIC0gd291bGQgY2hlY2sgYWN0dWFsIHN0YXR1c1xuICAgICAgICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gQW5kcm9pZCBBUEkgMzMrIHJlcXVpcmVzIFBPU1RfTk9USUZJQ0FUSU9OUyBwZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgaWYgKFBsYXRmb3JtLlZlcnNpb24gPj0gMzMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhbnRlZCA9IGF3YWl0IFBlcm1pc3Npb25zQW5kcm9pZC5yZXF1ZXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgUGVybWlzc2lvbnNBbmRyb2lkLlBFUk1JU1NJT05TLlBPU1RfTk9USUZJQ0FUSU9OUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05vdGlmaWNhdGlvbiBQZXJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTm90aWZpY2F0aW9ucyBhcmUgbmVlZGVkIHRvIHNob3cgaW5jb21pbmcgZmFrZSBjYWxscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uTmV1dHJhbDogJ0FzayBNZSBMYXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uTmVnYXRpdmU6ICdDYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblBvc2l0aXZlOiAnT0snXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyYW50ZWQgPT09IFBlcm1pc3Npb25zQW5kcm9pZC5SRVNVTFRTLkdSQU5URUQgPyAnZ3JhbnRlZCcgOiAnZGVuaWVkJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJ2dyYW50ZWQnOyAvLyBPbGRlciBBbmRyb2lkIHZlcnNpb25zIGRvbid0IG5lZWQgZXhwbGljaXQgcGVybWlzc2lvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJ3VuYXZhaWxhYmxlJztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0Q2FsbFBlcm1pc3Npb24oKTogUHJvbWlzZTxQZXJtaXNzaW9uU3RhdGU+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gQW5kcm9pZCBjYWxsIHBlcm1pc3Npb25zXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbnRlZCA9IGF3YWl0IFBlcm1pc3Npb25zQW5kcm9pZC5yZXF1ZXN0KFxuICAgICAgICAgICAgICAgICAgICBQZXJtaXNzaW9uc0FuZHJvaWQuUEVSTUlTU0lPTlMuQ0FMTF9QSE9ORSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYWxsIFBlcm1pc3Npb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0NhbGwgcGVybWlzc2lvbiBlbmFibGVzIHRoZSBuYXRpdmUgY2FsbCBpbnRlcmZhY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uTmV1dHJhbDogJ0FzayBNZSBMYXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25OZWdhdGl2ZTogJ0NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25Qb3NpdGl2ZTogJ09LJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBncmFudGVkID09PSBQZXJtaXNzaW9uc0FuZHJvaWQuUkVTVUxUUy5HUkFOVEVEID8gJ2dyYW50ZWQnIDogJ2RlbmllZCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FsbCBwZXJtaXNzaW9uIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0QmFja2dyb3VuZFBlcm1pc3Npb24oKTogUHJvbWlzZTxQZXJtaXNzaW9uU3RhdGU+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgICAgICAvLyBpT1MgYmFja2dyb3VuZCBhcHAgcmVmcmVzaFxuICAgICAgICAgICAgICAgIHJldHVybiAnZ3JhbnRlZCc7IC8vIFNpbXBsaWZpZWQgLSB3b3VsZCBjaGVjayBhY3R1YWwgc3RhdHVzXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBBbmRyb2lkIGJhY2tncm91bmQgbG9jYXRpb24vYWNjZXNzXG4gICAgICAgICAgICAgICAgcmV0dXJuICdncmFudGVkJzsgLy8gU2ltcGxpZmllZCAtIHdvdWxkIHJlcXVlc3Qgc3BlY2lmaWMgYmFja2dyb3VuZCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJ3VuYXZhaWxhYmxlJztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0JhY2tncm91bmQgcGVybWlzc2lvbiByZXF1ZXN0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gJ3VuYXZhaWxhYmxlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVxdWVzdEFjY2Vzc2liaWxpdHlQZXJtaXNzaW9uKCk6IFByb21pc2U8UGVybWlzc2lvblN0YXRlPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQgYWNjZXNzaWJpbGl0eSBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgcmV0dXJuICdncmFudGVkJzsgLy8gU2ltcGxpZmllZCAtIHdvdWxkIG9wZW4gYWNjZXNzaWJpbGl0eSBzZXR0aW5nc1xuICAgICAgICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgICAgICAvLyBpT1MgYWNjZXNzaWJpbGl0eSBmZWF0dXJlc1xuICAgICAgICAgICAgICAgIHJldHVybiAnZ3JhbnRlZCc7IC8vIFNpbXBsaWZpZWQgLSB3b3VsZCBjaGVjayBhc3Npc3RpdmUgYWNjZXNzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQWNjZXNzaWJpbGl0eSBwZXJtaXNzaW9uIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0T3ZlcmxheVBlcm1pc3Npb24oKTogUHJvbWlzZTxQZXJtaXNzaW9uU3RhdGU+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbnRlZCA9IGF3YWl0IFBlcm1pc3Npb25zQW5kcm9pZC5yZXF1ZXN0KFxuICAgICAgICAgICAgICAgICAgICBQZXJtaXNzaW9uc0FuZHJvaWQuUEVSTUlTU0lPTlMuU1lTVEVNX0FMRVJUX1dJTkRPVyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEaXNwbGF5IE92ZXIgT3RoZXIgQXBwcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhpcyBwZXJtaXNzaW9uIGFsbG93cyBmYWtlIGNhbGxzIHRvIGFwcGVhciBvdmVyIG90aGVyIGFwcHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uTmV1dHJhbDogJ0FzayBNZSBMYXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25OZWdhdGl2ZTogJ0NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25Qb3NpdGl2ZTogJ09LJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBncmFudGVkID09PSBQZXJtaXNzaW9uc0FuZHJvaWQuUkVTVUxUUy5HUkFOVEVEID8gJ2dyYW50ZWQnIDogJ2RlbmllZCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignT3ZlcmxheSBwZXJtaXNzaW9uIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0Q3JpdGljYWxBbGVydHNQZXJtaXNzaW9uKCk6IFByb21pc2U8UGVybWlzc2lvblN0YXRlPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgICAgICAgICAgLy8gaU9TIGNyaXRpY2FsIGFsZXJ0cyByZXF1aXJlIHNwZWNpYWwgc2V0dXBcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2dyYW50ZWQnOyAvLyBTaW1wbGlmaWVkIC0gd291bGQgdXNlIG5hdGl2ZSBjcml0aWNhbCBhbGVydHMgQVBJXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ3JpdGljYWwgYWxlcnRzIHBlcm1pc3Npb24gcmVxdWVzdCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuICd1bmF2YWlsYWJsZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNoZWNrUGVybWlzc2lvbihwZXJtaXNzaW9uOiBrZXlvZiBQZXJtaXNzaW9uU3RhdHVzKTogUHJvbWlzZTxQZXJtaXNzaW9uU3RhdGU+IHtcbiAgICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGNoZWNrIHRoZSBhY3R1YWwgcGVybWlzc2lvbiBzdGF0dXNcbiAgICAgICAgLy8gRm9yIG5vdywgcmV0dXJuIGNhY2hlZCBzdGF0ZSBvciBkZWZhdWx0XG4gICAgICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25TdGF0ZXMuZ2V0KHBlcm1pc3Npb24pIHx8ICd1bmRldGVybWluZWQnO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVjb3JkUGVybWlzc2lvblJlcXVlc3QoXG4gICAgICAgIHBlcm1pc3Npb246IGtleW9mIFBlcm1pc3Npb25TdGF0dXMsXG4gICAgICAgIHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUsXG4gICAgICAgIGNvbnRleHQ6IFBlcm1pc3Npb25Db250ZXh0XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGVudHJ5OiBQZXJtaXNzaW9uSGlzdG9yeUVudHJ5ID0ge1xuICAgICAgICAgICAgcGVybWlzc2lvbixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgdXNlckFjdGlvbjogc3RhdGUgPT09ICdncmFudGVkJyA/ICdncmFudGVkJyA6XG4gICAgICAgICAgICAgICAgc3RhdGUgPT09ICdkZW5pZWQnID8gJ2RlbmllZCcgOiAncmV0cnknLFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dC5pc0ZpcnN0UmVxdWVzdCA/ICdmaXJzdF9yZXF1ZXN0JyA6ICdzdWJzZXF1ZW50X3JlcXVlc3QnXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXNlcklkID0gJ2N1cnJlbnRfdXNlcic7IC8vIFRoaXMgd291bGQgY29tZSBmcm9tIGNvbnRleHQgaW4gcmVhbCBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBoaXN0b3J5ID0gdGhpcy5wZXJtaXNzaW9uSGlzdG9yeS5nZXQodXNlcklkKSB8fCBbXTtcbiAgICAgICAgaGlzdG9yeS5wdXNoKGVudHJ5KTtcblxuICAgICAgICAvLyBLZWVwIG9ubHkgbGFzdCA1MCBlbnRyaWVzIHBlciB1c2VyXG4gICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICBoaXN0b3J5LnNwbGljZSgwLCBoaXN0b3J5Lmxlbmd0aCAtIDUwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGVybWlzc2lvbkhpc3Rvcnkuc2V0KHVzZXJJZCwgaGlzdG9yeSk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVBlcm1pc3Npb25IaXN0b3J5KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROZXh0QWN0aW9uKHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUsIHJlcXVlc3Q6IFBlcm1pc3Npb25SZXF1ZXN0KTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnZ3JhbnRlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdQZXJtaXNzaW9uIGdyYW50ZWQgc3VjY2Vzc2Z1bGx5JztcbiAgICAgICAgICAgIGNhc2UgJ2RlbmllZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuY3JpdGljYWwgP1xuICAgICAgICAgICAgICAgICAgICAnQ3JpdGljYWwgcGVybWlzc2lvbiBkZW5pZWQgLSBzb21lIGZlYXR1cmVzIG1heSBub3Qgd29yaycgOlxuICAgICAgICAgICAgICAgICAgICAnUGVybWlzc2lvbiBkZW5pZWQgLSBmZWF0dXJlcyBtYXkgYmUgbGltaXRlZCc7XG4gICAgICAgICAgICBjYXNlICdsaW1pdGVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Blcm1pc3Npb24gZ3JhbnRlZCB3aXRoIGxpbWl0YXRpb25zJztcbiAgICAgICAgICAgIGNhc2UgJ3VuYXZhaWxhYmxlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Blcm1pc3Npb24gbm90IGF2YWlsYWJsZSBvbiB0aGlzIGRldmljZSc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnUGVybWlzc2lvbiBzdGF0dXMgdW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEVkdWNhdGlvbmFsQ29udGVudChyZXF1ZXN0OiBQZXJtaXNzaW9uUmVxdWVzdCk6IFBlcm1pc3Npb25FZHVjYXRpb25Db250ZW50IHtcbiAgICAgICAgY29uc3QgcGVybWlzc2lvblRpdGxlcyA9IHtcbiAgICAgICAgICAgIG1pY3JvcGhvbmU6ICdNaWNyb3Bob25lIEFjY2VzcycsXG4gICAgICAgICAgICBub3RpZmljYXRpb25zOiAnTm90aWZpY2F0aW9uIEFjY2VzcycsXG4gICAgICAgICAgICBjYWxsczogJ0NhbGwgSW50ZXJmYWNlIEFjY2VzcycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAnQmFja2dyb3VuZCBFeGVjdXRpb24nLFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogJ0FjY2Vzc2liaWxpdHkgRmVhdHVyZXMnLFxuICAgICAgICAgICAgb3ZlcmxheTogJ0Rpc3BsYXkgT3ZlciBBcHBzJyxcbiAgICAgICAgICAgIGNyaXRpY2FsQWxlcnRzOiAnQ3JpdGljYWwgQWxlcnRzJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25NZXNzYWdlcyA9IHtcbiAgICAgICAgICAgIG1pY3JvcGhvbmU6IHJlcXVlc3QuZWR1Y2F0aW9uYWxNZXNzYWdlIHx8ICdNaWNyb3Bob25lIGFjY2VzcyBlbmFibGVzIHJlYWxpc3RpYyB2b2ljZSBzeW50aGVzaXMgZm9yIGZha2UgY2FsbHMuJyxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHJlcXVlc3QuZWR1Y2F0aW9uYWxNZXNzYWdlIHx8ICdOb3RpZmljYXRpb25zIGFsbG93IHlvdSB0byByZWNlaXZlIGluY29taW5nIGZha2UgY2FsbHMgYW5kIHJlbWluZGVycy4nLFxuICAgICAgICAgICAgY2FsbHM6IHJlcXVlc3QuZWR1Y2F0aW9uYWxNZXNzYWdlIHx8ICdDYWxsIGFjY2VzcyBlbmFibGVzIHRoZSBuYXRpdmUgY2FsbCBpbnRlcmZhY2UgZm9yIHJlYWxpc3RpYyBmYWtlIGNhbGxzLicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZXF1ZXN0LmVkdWNhdGlvbmFsTWVzc2FnZSB8fCAnQmFja2dyb3VuZCBhY2Nlc3MgZW5hYmxlcyBzY2hlZHVsZWQgZmFrZSBjYWxscyBldmVuIHdoZW4gdGhlIGFwcCBpcyBjbG9zZWQuJyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHJlcXVlc3QuZWR1Y2F0aW9uYWxNZXNzYWdlIHx8ICdBY2Nlc3NpYmlsaXR5IGZlYXR1cmVzIHByb3ZpZGUgZW5oYW5jZWQgY29udHJvbCBhbmQgY29tcGF0aWJpbGl0eS4nLFxuICAgICAgICAgICAgb3ZlcmxheTogcmVxdWVzdC5lZHVjYXRpb25hbE1lc3NhZ2UgfHwgJ0Rpc3BsYXkgb3ZlciBhcHBzIGFsbG93cyBmYWtlIGNhbGxzIHRvIGFwcGVhciBvbiB0b3Agb2Ygb3RoZXIgYXBwbGljYXRpb25zLicsXG4gICAgICAgICAgICBjcml0aWNhbEFsZXJ0czogcmVxdWVzdC5lZHVjYXRpb25hbE1lc3NhZ2UgfHwgJ0NyaXRpY2FsIGFsZXJ0cyBhbGxvdyBpbXBvcnRhbnQgZmFrZSBjYWxscyB0byBicmVhayB0aHJvdWdoIERvIE5vdCBEaXN0dXJiLidcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHBlcm1pc3Npb25UaXRsZXNbcmVxdWVzdC5wZXJtaXNzaW9uXSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHBlcm1pc3Npb25NZXNzYWdlc1tyZXF1ZXN0LnBlcm1pc3Npb25dLFxuICAgICAgICAgICAgYmVuZWZpdHM6IFtcbiAgICAgICAgICAgICAgICAnRW5oYW5jZWQgdXNlciBleHBlcmllbmNlJyxcbiAgICAgICAgICAgICAgICAnTW9yZSByZWFsaXN0aWMgZmFrZSBjYWxsIGZlYXR1cmVzJyxcbiAgICAgICAgICAgICAgICAnQmV0dGVyIGludGVncmF0aW9uIHdpdGggZGV2aWNlIGNhcGFiaWxpdGllcydcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzdGVwczogW1xuICAgICAgICAgICAgICAgICdUYXAgXCJFbmFibGVcIiB3aGVuIHByb21wdGVkJyxcbiAgICAgICAgICAgICAgICAnR3JhbnQgdGhlIHJlcXVlc3RlZCBwZXJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAnRW5qb3kgZW5oYW5jZWQgZmFrZSBjYWxsIGZlYXR1cmVzJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHByaW1hcnlBY3Rpb246ICdFbmFibGUgTm93JyxcbiAgICAgICAgICAgIHNlY29uZGFyeUFjdGlvbjogJ01heWJlIExhdGVyJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVjb3ZlcnlFZHVjYXRpb25hbENvbnRlbnQocGVybWlzc2lvbjoga2V5b2YgUGVybWlzc2lvblN0YXR1cywgZGVuaWFsQ291bnQ6IG51bWJlcik6IGFueSB7XG4gICAgICAgIGNvbnN0IHRpdGxlcyA9IHtcbiAgICAgICAgICAgIG1pY3JvcGhvbmU6ICdFbmFibGUgTWljcm9waG9uZSBBY2Nlc3MnLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uczogJ0VuYWJsZSBOb3RpZmljYXRpb25zJyxcbiAgICAgICAgICAgIGNhbGxzOiAnRW5hYmxlIENhbGwgSW50ZXJmYWNlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdFbmFibGUgQmFja2dyb3VuZCBBY2Nlc3MnLFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogJ0VuYWJsZSBBY2Nlc3NpYmlsaXR5JyxcbiAgICAgICAgICAgIG92ZXJsYXk6ICdFbmFibGUgRGlzcGxheSBPdmVyIEFwcHMnLFxuICAgICAgICAgICAgY3JpdGljYWxBbGVydHM6ICdFbmFibGUgQ3JpdGljYWwgQWxlcnRzJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0ge1xuICAgICAgICAgICAgbWljcm9waG9uZTogZGVuaWFsQ291bnQgPiAxID9cbiAgICAgICAgICAgICAgICAnTWljcm9waG9uZSBhY2Nlc3MgaXMgbmVlZGVkIGZvciByZWFsaXN0aWMgdm9pY2Ugc3ludGhlc2lzLiBQbGVhc2UgZW5hYmxlIGl0IHRvIGNvbnRpbnVlLicgOlxuICAgICAgICAgICAgICAgICdFbmFibGUgbWljcm9waG9uZSBhY2Nlc3MgdG8gdW5sb2NrIHZvaWNlIHN5bnRoZXNpcyBmZWF0dXJlcy4nLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uczogZGVuaWFsQ291bnQgPiAxID9cbiAgICAgICAgICAgICAgICAnTm90aWZpY2F0aW9ucyBhcmUgZXNzZW50aWFsIGZvciByZWNlaXZpbmcgZmFrZSBjYWxscy4gUGxlYXNlIGVuYWJsZSB0aGVtLicgOlxuICAgICAgICAgICAgICAgICdFbmFibGUgbm90aWZpY2F0aW9ucyB0byByZWNlaXZlIGluY29taW5nIGZha2UgY2FsbHMuJyxcbiAgICAgICAgICAgIGNhbGxzOiBkZW5pYWxDb3VudCA+IDEgP1xuICAgICAgICAgICAgICAgICdDYWxsIGludGVyZmFjZSBhY2Nlc3MgcHJvdmlkZXMgYSBtb3JlIHJlYWxpc3RpYyBleHBlcmllbmNlLiBQbGVhc2UgZW5hYmxlIGl0LicgOlxuICAgICAgICAgICAgICAgICdFbmFibGUgY2FsbCBpbnRlcmZhY2UgZm9yIG5hdGl2ZSBmYWtlIGNhbGwgZnVuY3Rpb25hbGl0eS4nLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogZGVuaWFsQ291bnQgPiAxID9cbiAgICAgICAgICAgICAgICAnQmFja2dyb3VuZCBhY2Nlc3MgZW5hYmxlcyBzY2hlZHVsZWQgY2FsbHMuIFBsZWFzZSBlbmFibGUgaXQuJyA6XG4gICAgICAgICAgICAgICAgJ0VuYWJsZSBiYWNrZ3JvdW5kIGFjY2VzcyBmb3Igc2NoZWR1bGVkIGZha2UgY2FsbHMuJyxcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IGRlbmlhbENvdW50ID4gMSA/XG4gICAgICAgICAgICAgICAgJ0FjY2Vzc2liaWxpdHkgZmVhdHVyZXMgZW5oYW5jZSB1c2FiaWxpdHkuIFBsZWFzZSBlbmFibGUgdGhlbS4nIDpcbiAgICAgICAgICAgICAgICAnRW5hYmxlIGFjY2Vzc2liaWxpdHkgZm9yIGVuaGFuY2VkIGZlYXR1cmVzLicsXG4gICAgICAgICAgICBvdmVybGF5OiBkZW5pYWxDb3VudCA+IDEgP1xuICAgICAgICAgICAgICAgICdEaXNwbGF5IG92ZXIgYXBwcyBpcyBuZWVkZWQgZm9yIHNlYW1sZXNzIGZha2UgY2FsbHMuIFBsZWFzZSBlbmFibGUgaXQuJyA6XG4gICAgICAgICAgICAgICAgJ0VuYWJsZSBkaXNwbGF5IG92ZXIgYXBwcyBmb3IgYmV0dGVyIGZha2UgY2FsbCBpbnRlZ3JhdGlvbi4nLFxuICAgICAgICAgICAgY3JpdGljYWxBbGVydHM6IGRlbmlhbENvdW50ID4gMSA/XG4gICAgICAgICAgICAgICAgJ0NyaXRpY2FsIGFsZXJ0cyBlbnN1cmUgaW1wb3J0YW50IGZha2UgY2FsbHMgYXJlIGRlbGl2ZXJlZC4gUGxlYXNlIGVuYWJsZSB0aGVtLicgOlxuICAgICAgICAgICAgICAgICdFbmFibGUgY3JpdGljYWwgYWxlcnRzIGZvciBwcmlvcml0eSBmYWtlIGNhbGxzLidcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlc1twZXJtaXNzaW9uXSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VzW3Blcm1pc3Npb25dLFxuICAgICAgICAgICAgZGVuaWFsQ291bnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVQbGF0Zm9ybVBlcm1pc3Npb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBQbGF0Zm9ybS1zcGVjaWZpYyBpbml0aWFsaXphdGlvblxuICAgICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRhbmdlcm91cyBwZXJtaXNzaW9ucyB0aGF0IG5lZWQgcnVudGltZSByZXF1ZXN0c1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk7EgSW5pdGlhbGl6aW5nIEFuZHJvaWQgcGVybWlzc2lvbnMuLi4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgaU9TIHBlcm1pc3Npb25zXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TsSBJbml0aWFsaXppbmcgaU9TIHBlcm1pc3Npb25zLi4uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0UGVybWlzc2lvbk1vbml0b3JpbmcoKTogdm9pZCB7XG4gICAgICAgIC8vIE1vbml0b3IgcGVybWlzc2lvbiBjaGFuZ2VzXG4gICAgICAgIHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tQZXJtaXNzaW9uQ2hhbmdlcygpO1xuICAgICAgICB9LCAzMDAwMCk7IC8vIENoZWNrIGV2ZXJ5IDMwIHNlY29uZHNcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNoZWNrUGVybWlzc2lvbkNoYW5nZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBwZXJtaXNzaW9ucyBoYXZlIGNoYW5nZWQgc3RhdGVcbiAgICAgICAgLy8gVGhpcyB3b3VsZCBiZSBpbXBsZW1lbnRlZCB0byBtb25pdG9yIHBlcm1pc3Npb24gY2hhbmdlcyBmcm9tIHN5c3RlbSBzZXR0aW5nc1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZFBlcm1pc3Npb25TdGF0ZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnZmFrZV9jYWxsX3Blcm1pc3Npb25fc3RhdGVzJyk7XG4gICAgICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMocGFyc2VkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBwZXJtaXNzaW9uIHN0YXRlczonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHNhdmVQZXJtaXNzaW9uU3RhdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMucGVybWlzc2lvblN0YXRlcyk7XG4gICAgICAgICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbSgnZmFrZV9jYWxsX3Blcm1pc3Npb25fc3RhdGVzJywgSlNPTi5zdHJpbmdpZnkoc3RhdGVzKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBwZXJtaXNzaW9uIHN0YXRlczonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRQZXJtaXNzaW9uSGlzdG9yeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKCdmYWtlX2NhbGxfcGVybWlzc2lvbl9oaXN0b3J5Jyk7XG4gICAgICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbkhpc3RvcnkgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHBhcnNlZCkubWFwKChbdXNlcklkLCBoaXN0b3J5XTogW3N0cmluZywgYW55XSkgPT4gW1xuICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkubWFwKChlbnRyeTogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKGVudHJ5LnRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcGVybWlzc2lvbiBoaXN0b3J5OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2F2ZVBlcm1pc3Npb25IaXN0b3J5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaGlzdG9yeSA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKHRoaXMucGVybWlzc2lvbkhpc3RvcnkuZW50cmllcygpKS5tYXAoKFt1c2VySWQsIGVudHJpZXNdKSA9PiBbXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgZW50cmllcy5tYXAoZW50cnkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lc3RhbXAudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5zZXRJdGVtKCdmYWtlX2NhbGxfcGVybWlzc2lvbl9oaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkoaGlzdG9yeSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgcGVybWlzc2lvbiBoaXN0b3J5OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0VXNlclByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgICAgIHNraXBFZHVjYXRpb246IGJvb2xlYW47XG4gICAgICAgIGF1dG9SZXF1ZXN0OiBib29sZWFuO1xuICAgICAgICBzaWxlbnRNb2RlOiBib29sZWFuO1xuICAgIH0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGB1c2VyX3ByZWZzXyR7dXNlcklkfWA7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBza2lwRWR1Y2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9SZXF1ZXN0OiBmYWxzZSxcbiAgICAgICAgICAgIHNpbGVudE1vZGU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRPU1ZlcnNpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIFBsYXRmb3JtLlZlcnNpb24/LnRvU3RyaW5nKCkgfHwgJ3Vua25vd24nO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVSZXF1ZXN0SWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBwZXJtXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNhbGxFcnJvcih0eXBlOiBDYWxsRXJyb3JUeXBlLCBtZXNzYWdlOiBzdHJpbmcpOiBDYWxsRXJyb3Ige1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGNvZGU6IHR5cGUsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgcmVjb3ZlcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uOiAnQ2hlY2sgYXBwIHBlcm1pc3Npb25zIGluIHN5c3RlbSBzZXR0aW5ncycsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBjYWxsSWQ6ICcnLFxuICAgICAgICAgICAgdXNlcklkOiAnJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgcGVybWlzc2lvbiBtYW5hZ2VyXG4gICAgICovXG4gICAgYXN5bmMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlUGVybWlzc2lvblN0YXRlcygpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlUGVybWlzc2lvbkhpc3RvcnkoKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgbWVtb3J5XG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25TdGF0ZXMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWR1Y2F0aW9uU2hvd24uY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbkhpc3RvcnkuY2xlYXIoKTtcblxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9wZXJtaXNzaW9uX21hbmFnZXJfZGlzcG9zZWQnLCB7XG4gICAgICAgICAgICAgICAgc3RhdGVzQ2xlYXJlZDogdGhpcy5wZXJtaXNzaW9uU3RhdGVzLnNpemUsXG4gICAgICAgICAgICAgICAgaGlzdG9yeUNsZWFyZWQ6IHRoaXMucGVybWlzc2lvbkhpc3Rvcnkuc2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OxIEZha2VDYWxsIFBlcm1pc3Npb24gTWFuYWdlciBkaXNwb3NlZCcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGlzcG9zaW5nIEZha2VDYWxsIFBlcm1pc3Npb24gTWFuYWdlcjonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBmYWtlQ2FsbFBlcm1pc3Npb25NYW5hZ2VyID0gbmV3IEZha2VDYWxsUGVybWlzc2lvbk1hbmFnZXIoKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFRQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxnQkFBQSxHQUFBSCxPQUFBO0FBRUEsSUFBQUksTUFBQSxHQUFBSixPQUFBO0FBQW1GLElBd0Z0RUsseUJBQXlCLEdBQUFDLE9BQUEsQ0FBQUQseUJBQUE7RUFPbEMsU0FBQUEsMEJBQVlFLE1BQWtDLEVBQUU7SUFBQSxJQUFBQyxnQkFBQSxDQUFBQyxPQUFBLFFBQUFKLHlCQUFBO0lBQUEsS0FMeENLLGdCQUFnQixHQUFpQyxJQUFJQyxHQUFHLENBQUMsQ0FBQztJQUFBLEtBQzFEQyxjQUFjLEdBQWdCLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQUEsS0FDdkNDLGlCQUFpQixHQUEwQyxJQUFJSCxHQUFHLENBQUMsQ0FBQztJQUFBLEtBQ3BFSSxhQUFhLEdBQVksS0FBSztJQUdsQyxJQUFJLENBQUNSLE1BQU0sR0FBQVMsTUFBQSxDQUFBQyxNQUFBO01BQ1BDLHlCQUF5QixFQUFFLElBQUk7TUFDL0JDLG1CQUFtQixFQUFFLElBQUk7TUFDekJDLHdCQUF3QixFQUFFLElBQUk7TUFDOUJDLDhCQUE4QixFQUFF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QUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDN0U7RUFBQztJQUFBN08sR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBUThELGVBQWVBLENBQUMrSyxJQUFtQixFQUFFdkksT0FBZSxFQUFhO01BQ3JFLE9BQU87UUFDSHVJLElBQUksRUFBSkEsSUFBSTtRQUNKQyxJQUFJLEVBQUVELElBQUk7UUFDVnZJLE9BQU8sRUFBUEEsT0FBTztRQUNQeUksV0FBVyxFQUFFLEtBQUs7UUFDbEJDLGVBQWUsRUFBRSwwQ0FBMEM7UUFDM0R4TCxTQUFTLEVBQUUsSUFBSUMsSUFBSSxDQUFDLENBQUM7UUFDckJ3TCxNQUFNLEVBQUUsRUFBRTtRQUNWL04sTUFBTSxFQUFFO01BQ1osQ0FBQztJQUNMO0VBQUM7SUFBQW5CLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFrUCxRQUFBLE9BQUFoUCxrQkFBQSxDQUFBckIsT0FBQSxFQUtELGFBQStCO1FBQzNCLElBQUk7VUFFQSxNQUFNLElBQUksQ0FBQzRHLG9CQUFvQixDQUFDLENBQUM7VUFDakMsTUFBTSxJQUFJLENBQUNvRyxxQkFBcUIsQ0FBQyxDQUFDO1VBR2xDLElBQUksQ0FBQy9NLGdCQUFnQixDQUFDcVEsS0FBSyxDQUFDLENBQUM7VUFDN0IsSUFBSSxDQUFDblEsY0FBYyxDQUFDbVEsS0FBSyxDQUFDLENBQUM7VUFDM0IsSUFBSSxDQUFDalEsaUJBQWlCLENBQUNpUSxLQUFLLENBQUMsQ0FBQztVQUU5QixNQUFNNU8sZ0NBQWUsQ0FBQ0MsZ0JBQWdCLENBQUMsdUNBQXVDLEVBQUU7WUFDNUU0TyxhQUFhLEVBQUUsSUFBSSxDQUFDdFEsZ0JBQWdCLENBQUN1USxJQUFJO1lBQ3pDQyxjQUFjLEVBQUUsSUFBSSxDQUFDcFEsaUJBQWlCLENBQUNtUTtVQUMzQyxDQUFDLENBQUM7VUFFRjFPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHlDQUF5QyxDQUFDO1FBQzFELENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7VUFDWkYsT0FBTyxDQUFDRSxLQUFLLENBQUMsOENBQThDLEVBQUVBLEtBQUssQ0FBQztRQUN4RTtNQUNKLENBQUM7TUFBQSxTQXBCSzBPLE9BQU9BLENBQUE7UUFBQSxPQUFBTCxRQUFBLENBQUFuTyxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQVB1TyxPQUFPO0lBQUE7RUFBQTtBQUFBO0FBd0JWLElBQU1DLHlCQUF5QixHQUFBOVEsT0FBQSxDQUFBOFEseUJBQUEsR0FBRyxJQUFJL1EseUJBQXlCLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==