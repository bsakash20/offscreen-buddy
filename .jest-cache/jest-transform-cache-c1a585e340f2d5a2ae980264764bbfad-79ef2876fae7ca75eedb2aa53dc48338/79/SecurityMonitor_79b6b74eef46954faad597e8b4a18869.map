{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_EncryptionService","SecurityMonitor","exports","_classCallCheck2","default","events","maxEvents","isInitialized","encryptionService","EncryptionService","initializeMonitor","_createClass2","key","value","_initializeMonitor","_asyncToGenerator2","loadEventsFromStorage","setupPeriodicCleanup","console","log","logSecurityEvent","timestamp","Date","error","apply","arguments","_logSecurityEvent","eventType","details","length","undefined","options","event","id","generateEventId","severity","determineSeverity","sanitizeDetails","userId","deviceId","riskScore","calculateRiskScore","ipAddress","getDeviceInfo","userAgent","sessionId","push","slice","storeEventLocally","uploadEventToBackend","handleImmediateThreat","toUpperCase","_x","_getSecurityEvents","filteredEvents","_toConsumableArray2","filter","e","since","sort","a","b","getTime","limit","getSecurityEvents","_getSecurityMetrics","now","twentyFourHoursAgo","lastHour","recentEvents","lastHourEvents","criticalEvents","validRiskScores","map","averageRiskScore","reduce","threatCounts","acc","topThreatTypes","Object","entries","_ref","_ref2","_ref3","_slicedToArray2","_ref4","_ref5","_ref6","type","totalEvents","Math","round","lastUpdated","getSecurityMetrics","_detectSuspiciousActivity","threats","oneHourAgo","failedLogins","includes","description","ipAddresses","Array","from","Set","ip","biometricFailures","shouldAlert","some","t","detectSuspiciousActivity","_clearEvents","eventsToRemove","removed","beforeDate","storeEventsToStorage","clearEvents","_exportEvents","format","eventsData","toISOString","JSON","stringify","headers","csvRows","join","concat","_event$riskScore","toString","replace","Error","exportEvents","random","substring","highEvents","mediumEvents","score","attempts","previousIP","min","_sanitizeDetails","sanitized","assign","sensitiveFields","field","_x2","_getDeviceInfo","infoType","_x3","_handleImmediateThreat","threat","recommendedAction","_x4","_uploadEventToBackend","_x5","_loadEventsFromStorage","storedEvents","AsyncStorage","getItem","parsedEvents","parse","_storeEventLocally","_x6","_storeEventsToStorage","eventsToStore","setItem","_this","setInterval","cutoffDate","securityMonitor"],"sources":["SecurityMonitor.ts"],"sourcesContent":["/**\n * Security Monitor and Event Logging Service\n * Enterprise-grade security monitoring and audit logging\n */\n\nimport { Platform } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { supabase } from '../Supabase/supabase';\nimport { EncryptionService } from './EncryptionService';\n\nexport interface SecurityEvent {\n    id: string;\n    timestamp: Date;\n    eventType: string;\n    userId?: string;\n    deviceId?: string;\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    details: any;\n    ipAddress?: string;\n    userAgent?: string;\n    sessionId?: string;\n    riskScore?: number;\n    mitigated?: boolean;\n}\n\nexport interface SecurityMetrics {\n    totalEvents: number;\n    criticalEvents: number;\n    recentEvents: number;\n    averageRiskScore: number;\n    topThreatTypes: string[];\n    lastUpdated: Date;\n}\n\nexport interface ThreatPattern {\n    pattern: RegExp;\n    threatType: string;\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    description: string;\n}\n\nexport class SecurityMonitor {\n    private events: SecurityEvent[] = [];\n    private encryptionService: EncryptionService;\n    private maxEvents: number = 1000;\n    private isInitialized: boolean = false;\n\n    constructor() {\n        this.encryptionService = new EncryptionService();\n        this.initializeMonitor();\n    }\n\n    /**\n     * Initialize security monitoring\n     */\n    private async initializeMonitor(): Promise<void> {\n        try {\n            // Load existing events from storage\n            await this.loadEventsFromStorage();\n\n            // Set up periodic cleanup\n            this.setupPeriodicCleanup();\n\n            this.isInitialized = true;\n            console.log('üîí Security Monitor initialized');\n            this.logSecurityEvent('monitor_initialized', { timestamp: new Date() });\n        } catch (error) {\n            console.error('Failed to initialize Security Monitor:', error);\n        }\n    }\n\n    /**\n     * Log security event with comprehensive data\n     */\n    async logSecurityEvent(\n        eventType: string,\n        details: any = {},\n        options: {\n            severity?: 'low' | 'medium' | 'high' | 'critical';\n            userId?: string;\n            deviceId?: string;\n            riskScore?: number;\n        } = {}\n    ): Promise<void> {\n        try {\n            if (!this.isInitialized) {\n                await this.initializeMonitor();\n            }\n\n            const event: SecurityEvent = {\n                id: this.generateEventId(),\n                timestamp: new Date(),\n                eventType,\n                severity: options.severity || this.determineSeverity(eventType, details),\n                details: await this.sanitizeDetails(details),\n                userId: options.userId,\n                deviceId: options.deviceId,\n                riskScore: options.riskScore || this.calculateRiskScore(eventType, details),\n                ipAddress: await this.getDeviceInfo('ip'),\n                userAgent: await this.getDeviceInfo('userAgent'),\n                sessionId: details.sessionId\n            };\n\n            // Add to local events\n            this.events.push(event);\n\n            // Limit event storage\n            if (this.events.length > this.maxEvents) {\n                this.events = this.events.slice(-this.maxEvents);\n            }\n\n            // Store locally\n            await this.storeEventLocally(event);\n\n            // Upload to backend if critical\n            if (event.severity === 'critical' || (event.riskScore && event.riskScore > 80)) {\n                await this.uploadEventToBackend(event);\n            }\n\n            // Handle immediate threats\n            await this.handleImmediateThreat(event);\n\n            console.log(`üîí Security Event: ${eventType} [${event.severity.toUpperCase()}]`);\n\n        } catch (error) {\n            console.error('Failed to log security event:', error);\n        }\n    }\n\n    /**\n     * Get security events with filtering\n     */\n    async getSecurityEvents(options: {\n        eventType?: string;\n        severity?: string;\n        userId?: string;\n        limit?: number;\n        since?: Date;\n    } = {}): Promise<SecurityEvent[]> {\n        try {\n            let filteredEvents = [...this.events];\n\n            // Apply filters\n            if (options.eventType) {\n                filteredEvents = filteredEvents.filter(e => e.eventType === options.eventType);\n            }\n\n            if (options.severity) {\n                filteredEvents = filteredEvents.filter(e => e.severity === options.severity);\n            }\n\n            if (options.userId) {\n                filteredEvents = filteredEvents.filter(e => e.userId === options.userId);\n            }\n\n            if (options.since) {\n                filteredEvents = filteredEvents.filter(e => e.timestamp >= options.since!);\n            }\n\n            // Sort by timestamp (newest first)\n            filteredEvents.sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());\n\n            // Apply limit\n            if (options.limit) {\n                filteredEvents = filteredEvents.slice(0, options.limit);\n            }\n\n            return filteredEvents;\n\n        } catch (error) {\n            console.error('Failed to get security events:', error);\n            return [];\n        }\n    }\n\n    /**\n     * Get security metrics and analytics\n     */\n    async getSecurityMetrics(): Promise<SecurityMetrics> {\n        try {\n            const now = new Date();\n            const twentyFourHoursAgo = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n            const lastHour = new Date(now.getTime() - 60 * 60 * 1000);\n\n            const recentEvents = this.events.filter(e => e.timestamp >= twentyFourHoursAgo);\n            const lastHourEvents = this.events.filter(e => e.timestamp >= lastHour);\n            const criticalEvents = this.events.filter(e => e.severity === 'critical');\n\n            const validRiskScores = this.events\n                .filter(e => e.riskScore !== undefined)\n                .map(e => e.riskScore!);\n\n            const averageRiskScore = validRiskScores.length > 0\n                ? validRiskScores.reduce((a, b) => a + b, 0) / validRiskScores.length\n                : 0;\n\n            // Calculate top threat types\n            const threatCounts = recentEvents.reduce((acc, event) => {\n                acc[event.eventType] = (acc[event.eventType] || 0) + 1;\n                return acc;\n            }, {} as Record<string, number>);\n\n            const topThreatTypes = Object.entries(threatCounts)\n                .sort(([, a], [, b]) => b - a)\n                .slice(0, 5)\n                .map(([type]) => type);\n\n            return {\n                totalEvents: this.events.length,\n                criticalEvents: criticalEvents.length,\n                recentEvents: recentEvents.length,\n                averageRiskScore: Math.round(averageRiskScore),\n                topThreatTypes,\n                lastUpdated: now\n            };\n\n        } catch (error) {\n            console.error('Failed to get security metrics:', error);\n            return {\n                totalEvents: 0,\n                criticalEvents: 0,\n                recentEvents: 0,\n                averageRiskScore: 0,\n                topThreatTypes: [],\n                lastUpdated: new Date()\n            };\n        }\n    }\n\n    /**\n     * Detect suspicious patterns in events\n     */\n    async detectSuspiciousActivity(): Promise<{\n        threats: Array<{ type: string; severity: string; events: SecurityEvent[]; description: string }>;\n        shouldAlert: boolean;\n    }> {\n        try {\n            const threats: Array<{\n                type: string;\n                severity: string;\n                events: SecurityEvent[];\n                description: string;\n            }> = [];\n\n            const now = new Date();\n            const oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000);\n            const recentEvents = this.events.filter(e => e.timestamp >= oneHourAgo);\n\n            // Detect rapid failed login attempts\n            const failedLogins = recentEvents.filter(e =>\n                e.eventType.includes('login') && e.eventType.includes('failed')\n            );\n            if (failedLogins.length >= 5) {\n                threats.push({\n                    type: 'rapid_failed_logins',\n                    severity: 'high',\n                    events: failedLogins,\n                    description: `${failedLogins.length} failed login attempts in the last hour`\n                });\n            }\n\n            // Detect multiple IP addresses\n            const ipAddresses = Array.from(new Set(recentEvents.map(e => e.ipAddress))).filter((ip): ip is string => !!ip);\n            if (ipAddresses.length >= 3) {\n                threats.push({\n                    type: 'multiple_ip_addresses',\n                    severity: 'medium',\n                    events: recentEvents.filter(e => e.ipAddress),\n                    description: `User accessed from ${ipAddresses.length} different IP addresses`\n                });\n            }\n\n            // Detect unusual event patterns\n            const biometricFailures = recentEvents.filter(e =>\n                e.eventType === 'biometric_auth_failed'\n            );\n            if (biometricFailures.length >= 3) {\n                threats.push({\n                    type: 'biometric_failures',\n                    severity: 'medium',\n                    events: biometricFailures,\n                    description: `${biometricFailures.length} biometric authentication failures`\n                });\n            }\n\n            const shouldAlert = threats.some(t => t.severity === 'high' || t.severity === 'critical');\n\n            return { threats, shouldAlert };\n\n        } catch (error) {\n            console.error('Failed to detect suspicious activity:', error);\n            return { threats: [], shouldAlert: false };\n        }\n    }\n\n    /**\n     * Clear security events (for testing or privacy compliance)\n     */\n    async clearEvents(options: {\n        eventType?: string;\n        beforeDate?: Date;\n        severity?: string;\n    } = {}): Promise<number> {\n        try {\n            let eventsToRemove = 0;\n\n            if (options.eventType) {\n                const removed = this.events.filter(e => e.eventType === options.eventType);\n                eventsToRemove += removed.length;\n                this.events = this.events.filter(e => e.eventType !== options.eventType);\n            }\n\n            if (options.beforeDate) {\n                const removed = this.events.filter(e => e.timestamp < options.beforeDate!);\n                eventsToRemove += removed.length;\n                this.events = this.events.filter(e => e.timestamp >= options.beforeDate!);\n            }\n\n            if (options.severity) {\n                const removed = this.events.filter(e => e.severity === options.severity);\n                eventsToRemove += removed.length;\n                this.events = this.events.filter(e => e.severity !== options.severity);\n            }\n\n            if (!options.eventType && !options.beforeDate && !options.severity) {\n                eventsToRemove = this.events.length;\n                this.events = [];\n            }\n\n            // Update storage\n            await this.storeEventsToStorage();\n\n            if (eventsToRemove > 0) {\n                console.log(`üóëÔ∏è Cleared ${eventsToRemove} security events`);\n            }\n\n            return eventsToRemove;\n\n        } catch (error) {\n            console.error('Failed to clear events:', error);\n            return 0;\n        }\n    }\n\n    /**\n     * Export security events for compliance reporting\n     */\n    async exportEvents(format: 'json' | 'csv' = 'json'): Promise<string> {\n        try {\n            const eventsData = this.events.map(event => ({\n                id: event.id,\n                timestamp: event.timestamp.toISOString(),\n                eventType: event.eventType,\n                severity: event.severity,\n                userId: event.userId,\n                deviceId: event.deviceId,\n                riskScore: event.riskScore,\n                ipAddress: event.ipAddress,\n                details: event.details\n            }));\n\n            if (format === 'json') {\n                return JSON.stringify(eventsData, null, 2);\n            } else {\n                // CSV format\n                const headers = ['ID', 'Timestamp', 'Type', 'Severity', 'User ID', 'Device ID', 'Risk Score', 'IP Address', 'Details'];\n                const csvRows = [\n                    headers.join(','),\n                    ...eventsData.map(event => [\n                        event.id,\n                        event.timestamp,\n                        event.eventType,\n                        event.severity,\n                        event.userId || '',\n                        event.deviceId || '',\n                        event.riskScore?.toString() || '',\n                        event.ipAddress || '',\n                        JSON.stringify(event.details).replace(/,/g, ';')\n                    ].join(','))\n                ];\n                return csvRows.join('\\n');\n            }\n\n        } catch (error) {\n            console.error('Failed to export events:', error);\n            throw new Error('Failed to export security events');\n        }\n    }\n\n    /**\n     * Private helper methods\n     */\n    private generateEventId(): string {\n        return `sec_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n    }\n\n    private determineSeverity(eventType: string, details: any): 'low' | 'medium' | 'high' | 'critical' {\n        const criticalEvents = [\n            'authentication_bypass',\n            'unauthorized_access',\n            'data_breach',\n            'system_compromise',\n            'encryption_failure'\n        ];\n\n        const highEvents = [\n            'biometric_auth_failed',\n            'device_security_violation',\n            'suspicious_login',\n            'multiple_failed_attempts',\n            'session_hijacking_attempt'\n        ];\n\n        const mediumEvents = [\n            'login_failed',\n            'device_binding_failed',\n            'mfa_failed',\n            'weak_password_attempt'\n        ];\n\n        if (criticalEvents.includes(eventType)) return 'critical';\n        if (highEvents.includes(eventType)) return 'high';\n        if (mediumEvents.includes(eventType)) return 'medium';\n        return 'low';\n    }\n\n    private calculateRiskScore(eventType: string, details: any): number {\n        let score = 0;\n\n        // Base score by event type\n        switch (eventType) {\n            case 'authentication_bypass':\n            case 'unauthorized_access':\n                score += 90;\n                break;\n            case 'biometric_auth_failed':\n            case 'suspicious_login':\n                score += 70;\n                break;\n            case 'login_failed':\n                score += 40;\n                break;\n            default:\n                score += 20;\n        }\n\n        // Adjust based on details\n        if (details.attempts && details.attempts > 3) {\n            score += 20;\n        }\n\n        if (details.ip && details.ip !== details.previousIP) {\n            score += 15;\n        }\n\n        return Math.min(score, 100);\n    }\n\n    private async sanitizeDetails(details: any): Promise<any> {\n        // Remove sensitive information from details\n        const sanitized = { ...details };\n\n        // Remove or mask sensitive fields\n        const sensitiveFields = ['password', 'token', 'secret', 'key', 'biometricData'];\n        for (const field of sensitiveFields) {\n            if (sanitized[field]) {\n                if (typeof sanitized[field] === 'string' && sanitized[field].length > 4) {\n                    sanitized[field] = sanitized[field].substring(0, 4) + '***';\n                } else {\n                    sanitized[field] = '[REDACTED]';\n                }\n            }\n        }\n\n        return sanitized;\n    }\n\n    private async getDeviceInfo(infoType: 'ip' | 'userAgent'): Promise<string | undefined> {\n        try {\n            // In a real app, this would get actual device information\n            // For now, returning mock data\n            switch (infoType) {\n                case 'ip':\n                    return '192.168.1.100'; // Mock IP\n                case 'userAgent':\n                    return 'OffScreenBuddy/1.0.0'; // Mock user agent\n                default:\n                    return undefined;\n            }\n        } catch (error) {\n            return undefined;\n        }\n    }\n\n    private async handleImmediateThreat(event: SecurityEvent): Promise<void> {\n        if (event.severity === 'critical' && event.riskScore && event.riskScore > 90) {\n            // Log critical threat\n            await this.logSecurityEvent('critical_threat_detected', {\n                threat: event.eventType,\n                riskScore: event.riskScore,\n                userId: event.userId,\n                recommendedAction: 'immediate_action_required'\n            });\n        }\n    }\n\n    private async uploadEventToBackend(event: SecurityEvent): Promise<void> {\n        try {\n            // In production, this would upload to secure backend\n            console.log('üì§ Uploading security event to backend:', event.eventType);\n\n            // Mock upload - in real app would use Supabase\n            // await supabase.from('security_events').insert(event);\n\n        } catch (error) {\n            console.error('Failed to upload event to backend:', error);\n        }\n    }\n\n    private async loadEventsFromStorage(): Promise<void> {\n        try {\n            const storedEvents = await AsyncStorage.getItem('security_events');\n            if (storedEvents) {\n                const parsedEvents = JSON.parse(storedEvents);\n                this.events = parsedEvents.map((e: any) => ({\n                    ...e,\n                    timestamp: new Date(e.timestamp)\n                }));\n            }\n        } catch (error) {\n            console.error('Failed to load events from storage:', error);\n        }\n    }\n\n    private async storeEventLocally(event: SecurityEvent): Promise<void> {\n        try {\n            // For efficiency, store in batches\n            if (this.events.length % 10 === 0) {\n                await this.storeEventsToStorage();\n            }\n        } catch (error) {\n            console.error('Failed to store event locally:', error);\n        }\n    }\n\n    private async storeEventsToStorage(): Promise<void> {\n        try {\n            const eventsToStore = this.events.map(event => ({\n                ...event,\n                timestamp: event.timestamp.toISOString()\n            }));\n            await AsyncStorage.setItem('security_events', JSON.stringify(eventsToStore));\n        } catch (error) {\n            console.error('Failed to store events to storage:', error);\n        }\n    }\n\n    private setupPeriodicCleanup(): void {\n        // Clean up old events every hour\n        setInterval(async () => {\n            const cutoffDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000); // 30 days\n            await this.clearEvents({ beforeDate: cutoffDate });\n        }, 60 * 60 * 1000); // Every hour\n    }\n}\n\n// Export singleton instance\nexport const securityMonitor = new SecurityMonitor();"],"mappings":";;;;;;;;;;AAMA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,kBAAA,GAAAD,OAAA;AAAwD,IAiC3CE,eAAe,GAAAC,OAAA,CAAAD,eAAA;EAMxB,SAAAA,gBAAA,EAAc;IAAA,IAAAE,gBAAA,CAAAC,OAAA,QAAAH,eAAA;IAAA,KALNI,MAAM,GAAoB,EAAE;IAAA,KAE5BC,SAAS,GAAW,IAAI;IAAA,KACxBC,aAAa,GAAY,KAAK;IAGlC,IAAI,CAACC,iBAAiB,GAAG,IAAIC,oCAAiB,CAAC,CAAC;IAChD,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B;EAAC,WAAAC,aAAA,CAAAP,OAAA,EAAAH,eAAA;IAAAW,GAAA;IAAAC,KAAA;MAAA,IAAAC,kBAAA,OAAAC,kBAAA,CAAAX,OAAA,EAKD,aAAiD;QAC7C,IAAI;UAEA,MAAM,IAAI,CAACY,qBAAqB,CAAC,CAAC;UAGlC,IAAI,CAACC,oBAAoB,CAAC,CAAC;UAE3B,IAAI,CAACV,aAAa,GAAG,IAAI;UACzBW,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;UAC9C,IAAI,CAACC,gBAAgB,CAAC,qBAAqB,EAAE;YAAEC,SAAS,EAAE,IAAIC,IAAI,CAAC;UAAE,CAAC,CAAC;QAC3E,CAAC,CAAC,OAAOC,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;QAClE;MACJ,CAAC;MAAA,SAdab,iBAAiBA,CAAA;QAAA,OAAAI,kBAAA,CAAAU,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBf,iBAAiB;IAAA;EAAA;IAAAE,GAAA;IAAAC,KAAA;MAAA,IAAAa,iBAAA,OAAAX,kBAAA,CAAAX,OAAA,EAmB/B,WACIuB,SAAiB,EAQJ;QAAA,IAPbC,OAAY,GAAAH,SAAA,CAAAI,MAAA,QAAAJ,SAAA,QAAAK,SAAA,GAAAL,SAAA,MAAG,CAAC,CAAC;QAAA,IACjBM,OAKC,GAAAN,SAAA,CAAAI,MAAA,QAAAJ,SAAA,QAAAK,SAAA,GAAAL,SAAA,MAAG,CAAC,CAAC;QAEN,IAAI;UACA,IAAI,CAAC,IAAI,CAAClB,aAAa,EAAE;YACrB,MAAM,IAAI,CAACG,iBAAiB,CAAC,CAAC;UAClC;UAEA,IAAMsB,KAAoB,GAAG;YACzBC,EAAE,EAAE,IAAI,CAACC,eAAe,CAAC,CAAC;YAC1Bb,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;YACrBK,SAAS,EAATA,SAAS;YACTQ,QAAQ,EAAEJ,OAAO,CAACI,QAAQ,IAAI,IAAI,CAACC,iBAAiB,CAACT,SAAS,EAAEC,OAAO,CAAC;YACxEA,OAAO,QAAQ,IAAI,CAACS,eAAe,CAACT,OAAO,CAAC;YAC5CU,MAAM,EAAEP,OAAO,CAACO,MAAM;YACtBC,QAAQ,EAAER,OAAO,CAACQ,QAAQ;YAC1BC,SAAS,EAAET,OAAO,CAACS,SAAS,IAAI,IAAI,CAACC,kBAAkB,CAACd,SAAS,EAAEC,OAAO,CAAC;YAC3Ec,SAAS,QAAQ,IAAI,CAACC,aAAa,CAAC,IAAI,CAAC;YACzCC,SAAS,QAAQ,IAAI,CAACD,aAAa,CAAC,WAAW,CAAC;YAChDE,SAAS,EAAEjB,OAAO,CAACiB;UACvB,CAAC;UAGD,IAAI,CAACxC,MAAM,CAACyC,IAAI,CAACd,KAAK,CAAC;UAGvB,IAAI,IAAI,CAAC3B,MAAM,CAACwB,MAAM,GAAG,IAAI,CAACvB,SAAS,EAAE;YACrC,IAAI,CAACD,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC0C,KAAK,CAAC,CAAC,IAAI,CAACzC,SAAS,CAAC;UACpD;UAGA,MAAM,IAAI,CAAC0C,iBAAiB,CAAChB,KAAK,CAAC;UAGnC,IAAIA,KAAK,CAACG,QAAQ,KAAK,UAAU,IAAKH,KAAK,CAACQ,SAAS,IAAIR,KAAK,CAACQ,SAAS,GAAG,EAAG,EAAE;YAC5E,MAAM,IAAI,CAACS,oBAAoB,CAACjB,KAAK,CAAC;UAC1C;UAGA,MAAM,IAAI,CAACkB,qBAAqB,CAAClB,KAAK,CAAC;UAEvCd,OAAO,CAACC,GAAG,CAAC,sBAAsBQ,SAAS,KAAKK,KAAK,CAACG,QAAQ,CAACgB,WAAW,CAAC,CAAC,GAAG,CAAC;QAEpF,CAAC,CAAC,OAAO5B,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACzD;MACJ,CAAC;MAAA,SArDKH,gBAAgBA,CAAAgC,EAAA;QAAA,OAAA1B,iBAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAhBL,gBAAgB;IAAA;EAAA;IAAAR,GAAA;IAAAC,KAAA;MAAA,IAAAwC,kBAAA,OAAAtC,kBAAA,CAAAX,OAAA,EA0DtB,aAMkC;QAAA,IANV2B,OAMvB,GAAAN,SAAA,CAAAI,MAAA,QAAAJ,SAAA,QAAAK,SAAA,GAAAL,SAAA,MAAG,CAAC,CAAC;QACF,IAAI;UACA,IAAI6B,cAAc,OAAAC,mBAAA,CAAAnD,OAAA,EAAO,IAAI,CAACC,MAAM,CAAC;UAGrC,IAAI0B,OAAO,CAACJ,SAAS,EAAE;YACnB2B,cAAc,GAAGA,cAAc,CAACE,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAAC9B,SAAS,KAAKI,OAAO,CAACJ,SAAS;YAAA,EAAC;UAClF;UAEA,IAAII,OAAO,CAACI,QAAQ,EAAE;YAClBmB,cAAc,GAAGA,cAAc,CAACE,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACtB,QAAQ,KAAKJ,OAAO,CAACI,QAAQ;YAAA,EAAC;UAChF;UAEA,IAAIJ,OAAO,CAACO,MAAM,EAAE;YAChBgB,cAAc,GAAGA,cAAc,CAACE,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACnB,MAAM,KAAKP,OAAO,CAACO,MAAM;YAAA,EAAC;UAC5E;UAEA,IAAIP,OAAO,CAAC2B,KAAK,EAAE;YACfJ,cAAc,GAAGA,cAAc,CAACE,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACpC,SAAS,IAAIU,OAAO,CAAC2B,KAAM;YAAA,EAAC;UAC9E;UAGAJ,cAAc,CAACK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;YAAA,OAAKA,CAAC,CAACxC,SAAS,CAACyC,OAAO,CAAC,CAAC,GAAGF,CAAC,CAACvC,SAAS,CAACyC,OAAO,CAAC,CAAC;UAAA,EAAC;UAG5E,IAAI/B,OAAO,CAACgC,KAAK,EAAE;YACfT,cAAc,GAAGA,cAAc,CAACP,KAAK,CAAC,CAAC,EAAEhB,OAAO,CAACgC,KAAK,CAAC;UAC3D;UAEA,OAAOT,cAAc;QAEzB,CAAC,CAAC,OAAO/B,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;UACtD,OAAO,EAAE;QACb;MACJ,CAAC;MAAA,SAzCKyC,iBAAiBA,CAAA;QAAA,OAAAX,kBAAA,CAAA7B,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBuC,iBAAiB;IAAA;EAAA;IAAApD,GAAA;IAAAC,KAAA;MAAA,IAAAoD,mBAAA,OAAAlD,kBAAA,CAAAX,OAAA,EA8CvB,aAAqD;QACjD,IAAI;UACA,IAAM8D,GAAG,GAAG,IAAI5C,IAAI,CAAC,CAAC;UACtB,IAAM6C,kBAAkB,GAAG,IAAI7C,IAAI,CAAC4C,GAAG,CAACJ,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;UACxE,IAAMM,QAAQ,GAAG,IAAI9C,IAAI,CAAC4C,GAAG,CAACJ,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;UAEzD,IAAMO,YAAY,GAAG,IAAI,CAAChE,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACpC,SAAS,IAAI8C,kBAAkB;UAAA,EAAC;UAC/E,IAAMG,cAAc,GAAG,IAAI,CAACjE,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACpC,SAAS,IAAI+C,QAAQ;UAAA,EAAC;UACvE,IAAMG,cAAc,GAAG,IAAI,CAAClE,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACtB,QAAQ,KAAK,UAAU;UAAA,EAAC;UAEzE,IAAMqC,eAAe,GAAG,IAAI,CAACnE,MAAM,CAC9BmD,MAAM,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACjB,SAAS,KAAKV,SAAS;UAAA,EAAC,CACtC2C,GAAG,CAAC,UAAAhB,CAAC;YAAA,OAAIA,CAAC,CAACjB,SAAS;UAAA,CAAC,CAAC;UAE3B,IAAMkC,gBAAgB,GAAGF,eAAe,CAAC3C,MAAM,GAAG,CAAC,GAC7C2C,eAAe,CAACG,MAAM,CAAC,UAACf,CAAC,EAAEC,CAAC;YAAA,OAAKD,CAAC,GAAGC,CAAC;UAAA,GAAE,CAAC,CAAC,GAAGW,eAAe,CAAC3C,MAAM,GACnE,CAAC;UAGP,IAAM+C,YAAY,GAAGP,YAAY,CAACM,MAAM,CAAC,UAACE,GAAG,EAAE7C,KAAK,EAAK;YACrD6C,GAAG,CAAC7C,KAAK,CAACL,SAAS,CAAC,GAAG,CAACkD,GAAG,CAAC7C,KAAK,CAACL,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;YACtD,OAAOkD,GAAG;UACd,CAAC,EAAE,CAAC,CAA2B,CAAC;UAEhC,IAAMC,cAAc,GAAGC,MAAM,CAACC,OAAO,CAACJ,YAAY,CAAC,CAC9CjB,IAAI,CAAC,UAAAsB,IAAA,EAAAC,KAAA;YAAA,IAAAC,KAAA,OAAAC,eAAA,CAAAhF,OAAA,EAAA6E,IAAA;cAAIrB,CAAC,GAAAuB,KAAA;YAAA,IAAAE,KAAA,OAAAD,eAAA,CAAAhF,OAAA,EAAA8E,KAAA;cAAMrB,CAAC,GAAAwB,KAAA;YAAA,OAAMxB,CAAC,GAAGD,CAAC;UAAA,EAAC,CAC7Bb,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACX0B,GAAG,CAAC,UAAAa,KAAA;YAAA,IAAAC,KAAA,OAAAH,eAAA,CAAAhF,OAAA,EAAAkF,KAAA;cAAEE,IAAI,GAAAD,KAAA;YAAA,OAAMC,IAAI;UAAA,EAAC;UAE1B,OAAO;YACHC,WAAW,EAAE,IAAI,CAACpF,MAAM,CAACwB,MAAM;YAC/B0C,cAAc,EAAEA,cAAc,CAAC1C,MAAM;YACrCwC,YAAY,EAAEA,YAAY,CAACxC,MAAM;YACjC6C,gBAAgB,EAAEgB,IAAI,CAACC,KAAK,CAACjB,gBAAgB,CAAC;YAC9CI,cAAc,EAAdA,cAAc;YACdc,WAAW,EAAE1B;UACjB,CAAC;QAEL,CAAC,CAAC,OAAO3C,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;UACvD,OAAO;YACHkE,WAAW,EAAE,CAAC;YACdlB,cAAc,EAAE,CAAC;YACjBF,YAAY,EAAE,CAAC;YACfK,gBAAgB,EAAE,CAAC;YACnBI,cAAc,EAAE,EAAE;YAClBc,WAAW,EAAE,IAAItE,IAAI,CAAC;UAC1B,CAAC;QACL;MACJ,CAAC;MAAA,SAjDKuE,kBAAkBA,CAAA;QAAA,OAAA5B,mBAAA,CAAAzC,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAlBoE,kBAAkB;IAAA;EAAA;IAAAjF,GAAA;IAAAC,KAAA;MAAA,IAAAiF,yBAAA,OAAA/E,kBAAA,CAAAX,OAAA,EAsDxB,aAGG;QACC,IAAI;UACA,IAAM2F,OAKJ,GAAG,EAAE;UAEP,IAAM7B,GAAG,GAAG,IAAI5C,IAAI,CAAC,CAAC;UACtB,IAAM0E,UAAU,GAAG,IAAI1E,IAAI,CAAC4C,GAAG,CAACJ,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;UAC3D,IAAMO,YAAY,GAAG,IAAI,CAAChE,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACpC,SAAS,IAAI2E,UAAU;UAAA,EAAC;UAGvE,IAAMC,YAAY,GAAG5B,YAAY,CAACb,MAAM,CAAC,UAAAC,CAAC;YAAA,OACtCA,CAAC,CAAC9B,SAAS,CAACuE,QAAQ,CAAC,OAAO,CAAC,IAAIzC,CAAC,CAAC9B,SAAS,CAACuE,QAAQ,CAAC,QAAQ,CAAC;UAAA,CACnE,CAAC;UACD,IAAID,YAAY,CAACpE,MAAM,IAAI,CAAC,EAAE;YAC1BkE,OAAO,CAACjD,IAAI,CAAC;cACT0C,IAAI,EAAE,qBAAqB;cAC3BrD,QAAQ,EAAE,MAAM;cAChB9B,MAAM,EAAE4F,YAAY;cACpBE,WAAW,EAAE,GAAGF,YAAY,CAACpE,MAAM;YACvC,CAAC,CAAC;UACN;UAGA,IAAMuE,WAAW,GAAGC,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAClC,YAAY,CAACI,GAAG,CAAC,UAAAhB,CAAC;YAAA,OAAIA,CAAC,CAACf,SAAS;UAAA,EAAC,CAAC,CAAC,CAACc,MAAM,CAAC,UAACgD,EAAE;YAAA,OAAmB,CAAC,CAACA,EAAE;UAAA,EAAC;UAC9G,IAAIJ,WAAW,CAACvE,MAAM,IAAI,CAAC,EAAE;YACzBkE,OAAO,CAACjD,IAAI,CAAC;cACT0C,IAAI,EAAE,uBAAuB;cAC7BrD,QAAQ,EAAE,QAAQ;cAClB9B,MAAM,EAAEgE,YAAY,CAACb,MAAM,CAAC,UAAAC,CAAC;gBAAA,OAAIA,CAAC,CAACf,SAAS;cAAA,EAAC;cAC7CyD,WAAW,EAAE,sBAAsBC,WAAW,CAACvE,MAAM;YACzD,CAAC,CAAC;UACN;UAGA,IAAM4E,iBAAiB,GAAGpC,YAAY,CAACb,MAAM,CAAC,UAAAC,CAAC;YAAA,OAC3CA,CAAC,CAAC9B,SAAS,KAAK,uBAAuB;UAAA,CAC3C,CAAC;UACD,IAAI8E,iBAAiB,CAAC5E,MAAM,IAAI,CAAC,EAAE;YAC/BkE,OAAO,CAACjD,IAAI,CAAC;cACT0C,IAAI,EAAE,oBAAoB;cAC1BrD,QAAQ,EAAE,QAAQ;cAClB9B,MAAM,EAAEoG,iBAAiB;cACzBN,WAAW,EAAE,GAAGM,iBAAiB,CAAC5E,MAAM;YAC5C,CAAC,CAAC;UACN;UAEA,IAAM6E,WAAW,GAAGX,OAAO,CAACY,IAAI,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAACzE,QAAQ,KAAK,MAAM,IAAIyE,CAAC,CAACzE,QAAQ,KAAK,UAAU;UAAA,EAAC;UAEzF,OAAO;YAAE4D,OAAO,EAAPA,OAAO;YAAEW,WAAW,EAAXA;UAAY,CAAC;QAEnC,CAAC,CAAC,OAAOnF,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;UAC7D,OAAO;YAAEwE,OAAO,EAAE,EAAE;YAAEW,WAAW,EAAE;UAAM,CAAC;QAC9C;MACJ,CAAC;MAAA,SA7DKG,wBAAwBA,CAAA;QAAA,OAAAf,yBAAA,CAAAtE,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAxBoF,wBAAwB;IAAA;EAAA;IAAAjG,GAAA;IAAAC,KAAA;MAAA,IAAAiG,YAAA,OAAA/F,kBAAA,CAAAX,OAAA,EAkE9B,aAIyB;QAAA,IAJP2B,OAIjB,GAAAN,SAAA,CAAAI,MAAA,QAAAJ,SAAA,QAAAK,SAAA,GAAAL,SAAA,MAAG,CAAC,CAAC;QACF,IAAI;UACA,IAAIsF,cAAc,GAAG,CAAC;UAEtB,IAAIhF,OAAO,CAACJ,SAAS,EAAE;YACnB,IAAMqF,OAAO,GAAG,IAAI,CAAC3G,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAAC9B,SAAS,KAAKI,OAAO,CAACJ,SAAS;YAAA,EAAC;YAC1EoF,cAAc,IAAIC,OAAO,CAACnF,MAAM;YAChC,IAAI,CAACxB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAAC9B,SAAS,KAAKI,OAAO,CAACJ,SAAS;YAAA,EAAC;UAC5E;UAEA,IAAII,OAAO,CAACkF,UAAU,EAAE;YACpB,IAAMD,QAAO,GAAG,IAAI,CAAC3G,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACpC,SAAS,GAAGU,OAAO,CAACkF,UAAW;YAAA,EAAC;YAC1EF,cAAc,IAAIC,QAAO,CAACnF,MAAM;YAChC,IAAI,CAACxB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACpC,SAAS,IAAIU,OAAO,CAACkF,UAAW;YAAA,EAAC;UAC7E;UAEA,IAAIlF,OAAO,CAACI,QAAQ,EAAE;YAClB,IAAM6E,SAAO,GAAG,IAAI,CAAC3G,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACtB,QAAQ,KAAKJ,OAAO,CAACI,QAAQ;YAAA,EAAC;YACxE4E,cAAc,IAAIC,SAAO,CAACnF,MAAM;YAChC,IAAI,CAACxB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACmD,MAAM,CAAC,UAAAC,CAAC;cAAA,OAAIA,CAAC,CAACtB,QAAQ,KAAKJ,OAAO,CAACI,QAAQ;YAAA,EAAC;UAC1E;UAEA,IAAI,CAACJ,OAAO,CAACJ,SAAS,IAAI,CAACI,OAAO,CAACkF,UAAU,IAAI,CAAClF,OAAO,CAACI,QAAQ,EAAE;YAChE4E,cAAc,GAAG,IAAI,CAAC1G,MAAM,CAACwB,MAAM;YACnC,IAAI,CAACxB,MAAM,GAAG,EAAE;UACpB;UAGA,MAAM,IAAI,CAAC6G,oBAAoB,CAAC,CAAC;UAEjC,IAAIH,cAAc,GAAG,CAAC,EAAE;YACpB7F,OAAO,CAACC,GAAG,CAAC,eAAe4F,cAAc,kBAAkB,CAAC;UAChE;UAEA,OAAOA,cAAc;QAEzB,CAAC,CAAC,OAAOxF,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;UAC/C,OAAO,CAAC;QACZ;MACJ,CAAC;MAAA,SA5CK4F,WAAWA,CAAA;QAAA,OAAAL,YAAA,CAAAtF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAX0F,WAAW;IAAA;EAAA;IAAAvG,GAAA;IAAAC,KAAA;MAAA,IAAAuG,aAAA,OAAArG,kBAAA,CAAAX,OAAA,EAiDjB,aAAqE;QAAA,IAAlDiH,MAAsB,GAAA5F,SAAA,CAAAI,MAAA,QAAAJ,SAAA,QAAAK,SAAA,GAAAL,SAAA,MAAG,MAAM;QAC9C,IAAI;UACA,IAAM6F,UAAU,GAAG,IAAI,CAACjH,MAAM,CAACoE,GAAG,CAAC,UAAAzC,KAAK;YAAA,OAAK;cACzCC,EAAE,EAAED,KAAK,CAACC,EAAE;cACZZ,SAAS,EAAEW,KAAK,CAACX,SAAS,CAACkG,WAAW,CAAC,CAAC;cACxC5F,SAAS,EAAEK,KAAK,CAACL,SAAS;cAC1BQ,QAAQ,EAAEH,KAAK,CAACG,QAAQ;cACxBG,MAAM,EAAEN,KAAK,CAACM,MAAM;cACpBC,QAAQ,EAAEP,KAAK,CAACO,QAAQ;cACxBC,SAAS,EAAER,KAAK,CAACQ,SAAS;cAC1BE,SAAS,EAAEV,KAAK,CAACU,SAAS;cAC1Bd,OAAO,EAAEI,KAAK,CAACJ;YACnB,CAAC;UAAA,CAAC,CAAC;UAEH,IAAIyF,MAAM,KAAK,MAAM,EAAE;YACnB,OAAOG,IAAI,CAACC,SAAS,CAACH,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;UAC9C,CAAC,MAAM;YAEH,IAAMI,OAAO,GAAG,CAAC,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,CAAC;YACtH,IAAMC,OAAO,IACTD,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC,EAAAC,MAAA,KAAAtE,mBAAA,CAAAnD,OAAA,EACdkH,UAAU,CAAC7C,GAAG,CAAC,UAAAzC,KAAK;cAAA,IAAA8F,gBAAA;cAAA,OAAI,CACvB9F,KAAK,CAACC,EAAE,EACRD,KAAK,CAACX,SAAS,EACfW,KAAK,CAACL,SAAS,EACfK,KAAK,CAACG,QAAQ,EACdH,KAAK,CAACM,MAAM,IAAI,EAAE,EAClBN,KAAK,CAACO,QAAQ,IAAI,EAAE,EACpB,EAAAuF,gBAAA,GAAA9F,KAAK,CAACQ,SAAS,qBAAfsF,gBAAA,CAAiBC,QAAQ,CAAC,CAAC,KAAI,EAAE,EACjC/F,KAAK,CAACU,SAAS,IAAI,EAAE,EACrB8E,IAAI,CAACC,SAAS,CAACzF,KAAK,CAACJ,OAAO,CAAC,CAACoG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CACnD,CAACJ,IAAI,CAAC,GAAG,CAAC;YAAA,EAAC,EACf;YACD,OAAOD,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC;UAC7B;QAEJ,CAAC,CAAC,OAAOrG,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAChD,MAAM,IAAI0G,KAAK,CAAC,kCAAkC,CAAC;QACvD;MACJ,CAAC;MAAA,SAxCKC,YAAYA,CAAA;QAAA,OAAAd,aAAA,CAAA5F,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAZyG,YAAY;IAAA;EAAA;IAAAtH,GAAA;IAAAC,KAAA,EA6ClB,SAAQqB,eAAeA,CAAA,EAAW;MAC9B,OAAO,OAAOZ,IAAI,CAAC4C,GAAG,CAAC,CAAC,IAAIwB,IAAI,CAACyC,MAAM,CAAC,CAAC,CAACJ,QAAQ,CAAC,EAAE,CAAC,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAC5E;EAAC;IAAAxH,GAAA;IAAAC,KAAA,EAED,SAAQuB,iBAAiBA,CAACT,SAAiB,EAAEC,OAAY,EAA0C;MAC/F,IAAM2C,cAAc,GAAG,CACnB,uBAAuB,EACvB,qBAAqB,EACrB,aAAa,EACb,mBAAmB,EACnB,oBAAoB,CACvB;MAED,IAAM8D,UAAU,GAAG,CACf,uBAAuB,EACvB,2BAA2B,EAC3B,kBAAkB,EAClB,0BAA0B,EAC1B,2BAA2B,CAC9B;MAED,IAAMC,YAAY,GAAG,CACjB,cAAc,EACd,uBAAuB,EACvB,YAAY,EACZ,uBAAuB,CAC1B;MAED,IAAI/D,cAAc,CAAC2B,QAAQ,CAACvE,SAAS,CAAC,EAAE,OAAO,UAAU;MACzD,IAAI0G,UAAU,CAACnC,QAAQ,CAACvE,SAAS,CAAC,EAAE,OAAO,MAAM;MACjD,IAAI2G,YAAY,CAACpC,QAAQ,CAACvE,SAAS,CAAC,EAAE,OAAO,QAAQ;MACrD,OAAO,KAAK;IAChB;EAAC;IAAAf,GAAA;IAAAC,KAAA,EAED,SAAQ4B,kBAAkBA,CAACd,SAAiB,EAAEC,OAAY,EAAU;MAChE,IAAI2G,KAAK,GAAG,CAAC;MAGb,QAAQ5G,SAAS;QACb,KAAK,uBAAuB;QAC5B,KAAK,qBAAqB;UACtB4G,KAAK,IAAI,EAAE;UACX;QACJ,KAAK,uBAAuB;QAC5B,KAAK,kBAAkB;UACnBA,KAAK,IAAI,EAAE;UACX;QACJ,KAAK,cAAc;UACfA,KAAK,IAAI,EAAE;UACX;QACJ;UACIA,KAAK,IAAI,EAAE;MACnB;MAGA,IAAI3G,OAAO,CAAC4G,QAAQ,IAAI5G,OAAO,CAAC4G,QAAQ,GAAG,CAAC,EAAE;QAC1CD,KAAK,IAAI,EAAE;MACf;MAEA,IAAI3G,OAAO,CAAC4E,EAAE,IAAI5E,OAAO,CAAC4E,EAAE,KAAK5E,OAAO,CAAC6G,UAAU,EAAE;QACjDF,KAAK,IAAI,EAAE;MACf;MAEA,OAAO7C,IAAI,CAACgD,GAAG,CAACH,KAAK,EAAE,GAAG,CAAC;IAC/B;EAAC;IAAA3H,GAAA;IAAAC,KAAA;MAAA,IAAA8H,gBAAA,OAAA5H,kBAAA,CAAAX,OAAA,EAED,WAA8BwB,OAAY,EAAgB;QAEtD,IAAMgH,SAAS,GAAA7D,MAAA,CAAA8D,MAAA,KAAQjH,OAAO,CAAE;QAGhC,IAAMkH,eAAe,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,eAAe,CAAC;QAC/E,KAAK,IAAMC,KAAK,IAAID,eAAe,EAAE;UACjC,IAAIF,SAAS,CAACG,KAAK,CAAC,EAAE;YAClB,IAAI,OAAOH,SAAS,CAACG,KAAK,CAAC,KAAK,QAAQ,IAAIH,SAAS,CAACG,KAAK,CAAC,CAAClH,MAAM,GAAG,CAAC,EAAE;cACrE+G,SAAS,CAACG,KAAK,CAAC,GAAGH,SAAS,CAACG,KAAK,CAAC,CAACX,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK;YAC/D,CAAC,MAAM;cACHQ,SAAS,CAACG,KAAK,CAAC,GAAG,YAAY;YACnC;UACJ;QACJ;QAEA,OAAOH,SAAS;MACpB,CAAC;MAAA,SAjBavG,eAAeA,CAAA2G,GAAA;QAAA,OAAAL,gBAAA,CAAAnH,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAfY,eAAe;IAAA;EAAA;IAAAzB,GAAA;IAAAC,KAAA;MAAA,IAAAoI,cAAA,OAAAlI,kBAAA,CAAAX,OAAA,EAmB7B,WAA4B8I,QAA4B,EAA+B;QACnF,IAAI;UAGA,QAAQA,QAAQ;YACZ,KAAK,IAAI;cACL,OAAO,eAAe;YAC1B,KAAK,WAAW;cACZ,OAAO,sBAAsB;YACjC;cACI,OAAOpH,SAAS;UACxB;QACJ,CAAC,CAAC,OAAOP,KAAK,EAAE;UACZ,OAAOO,SAAS;QACpB;MACJ,CAAC;MAAA,SAfaa,aAAaA,CAAAwG,GAAA;QAAA,OAAAF,cAAA,CAAAzH,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAbkB,aAAa;IAAA;EAAA;IAAA/B,GAAA;IAAAC,KAAA;MAAA,IAAAuI,sBAAA,OAAArI,kBAAA,CAAAX,OAAA,EAiB3B,WAAoC4B,KAAoB,EAAiB;QACrE,IAAIA,KAAK,CAACG,QAAQ,KAAK,UAAU,IAAIH,KAAK,CAACQ,SAAS,IAAIR,KAAK,CAACQ,SAAS,GAAG,EAAE,EAAE;UAE1E,MAAM,IAAI,CAACpB,gBAAgB,CAAC,0BAA0B,EAAE;YACpDiI,MAAM,EAAErH,KAAK,CAACL,SAAS;YACvBa,SAAS,EAAER,KAAK,CAACQ,SAAS;YAC1BF,MAAM,EAAEN,KAAK,CAACM,MAAM;YACpBgH,iBAAiB,EAAE;UACvB,CAAC,CAAC;QACN;MACJ,CAAC;MAAA,SAVapG,qBAAqBA,CAAAqG,GAAA;QAAA,OAAAH,sBAAA,CAAA5H,KAAA,OAAAC,SAAA;MAAA;MAAA,OAArByB,qBAAqB;IAAA;EAAA;IAAAtC,GAAA;IAAAC,KAAA;MAAA,IAAA2I,qBAAA,OAAAzI,kBAAA,CAAAX,OAAA,EAYnC,WAAmC4B,KAAoB,EAAiB;QACpE,IAAI;UAEAd,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAEa,KAAK,CAACL,SAAS,CAAC;QAK3E,CAAC,CAAC,OAAOJ,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;QAC9D;MACJ,CAAC;MAAA,SAXa0B,oBAAoBA,CAAAwG,GAAA;QAAA,OAAAD,qBAAA,CAAAhI,KAAA,OAAAC,SAAA;MAAA;MAAA,OAApBwB,oBAAoB;IAAA;EAAA;IAAArC,GAAA;IAAAC,KAAA;MAAA,IAAA6I,sBAAA,OAAA3I,kBAAA,CAAAX,OAAA,EAalC,aAAqD;QACjD,IAAI;UACA,IAAMuJ,YAAY,SAASC,qBAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;UAClE,IAAIF,YAAY,EAAE;YACd,IAAMG,YAAY,GAAGtC,IAAI,CAACuC,KAAK,CAACJ,YAAY,CAAC;YAC7C,IAAI,CAACtJ,MAAM,GAAGyJ,YAAY,CAACrF,GAAG,CAAC,UAAChB,CAAM;cAAA,OAAAsB,MAAA,CAAA8D,MAAA,KAC/BpF,CAAC;gBACJpC,SAAS,EAAE,IAAIC,IAAI,CAACmC,CAAC,CAACpC,SAAS;cAAC;YAAA,CAClC,CAAC;UACP;QACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;QAC/D;MACJ,CAAC;MAAA,SAbaP,qBAAqBA,CAAA;QAAA,OAAA0I,sBAAA,CAAAlI,KAAA,OAAAC,SAAA;MAAA;MAAA,OAArBT,qBAAqB;IAAA;EAAA;IAAAJ,GAAA;IAAAC,KAAA;MAAA,IAAAmJ,kBAAA,OAAAjJ,kBAAA,CAAAX,OAAA,EAenC,WAAgC4B,KAAoB,EAAiB;QACjE,IAAI;UAEA,IAAI,IAAI,CAAC3B,MAAM,CAACwB,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE;YAC/B,MAAM,IAAI,CAACqF,oBAAoB,CAAC,CAAC;UACrC;QACJ,CAAC,CAAC,OAAO3F,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QAC1D;MACJ,CAAC;MAAA,SATayB,iBAAiBA,CAAAiH,GAAA;QAAA,OAAAD,kBAAA,CAAAxI,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBuB,iBAAiB;IAAA;EAAA;IAAApC,GAAA;IAAAC,KAAA;MAAA,IAAAqJ,qBAAA,OAAAnJ,kBAAA,CAAAX,OAAA,EAW/B,aAAoD;QAChD,IAAI;UACA,IAAM+J,aAAa,GAAG,IAAI,CAAC9J,MAAM,CAACoE,GAAG,CAAC,UAAAzC,KAAK;YAAA,OAAA+C,MAAA,CAAA8D,MAAA,KACpC7G,KAAK;cACRX,SAAS,EAAEW,KAAK,CAACX,SAAS,CAACkG,WAAW,CAAC;YAAC;UAAA,CAC1C,CAAC;UACH,MAAMqC,qBAAY,CAACQ,OAAO,CAAC,iBAAiB,EAAE5C,IAAI,CAACC,SAAS,CAAC0C,aAAa,CAAC,CAAC;QAChF,CAAC,CAAC,OAAO5I,KAAK,EAAE;UACZL,OAAO,CAACK,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;QAC9D;MACJ,CAAC;MAAA,SAVa2F,oBAAoBA,CAAA;QAAA,OAAAgD,qBAAA,CAAA1I,KAAA,OAAAC,SAAA;MAAA;MAAA,OAApByF,oBAAoB;IAAA;EAAA;IAAAtG,GAAA;IAAAC,KAAA,EAYlC,SAAQI,oBAAoBA,CAAA,EAAS;MAAA,IAAAoJ,KAAA;MAEjCC,WAAW,KAAAvJ,kBAAA,CAAAX,OAAA,EAAC,aAAY;QACpB,IAAMmK,UAAU,GAAG,IAAIjJ,IAAI,CAACA,IAAI,CAAC4C,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAClE,MAAMmG,KAAI,CAAClD,WAAW,CAAC;UAAEF,UAAU,EAAEsD;QAAW,CAAC,CAAC;MACtD,CAAC,GAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACtB;EAAC;AAAA;AAIE,IAAMC,eAAe,GAAAtK,OAAA,CAAAsK,eAAA,GAAG,IAAIvK,eAAe,CAAC,CAAC","ignoreList":[]}