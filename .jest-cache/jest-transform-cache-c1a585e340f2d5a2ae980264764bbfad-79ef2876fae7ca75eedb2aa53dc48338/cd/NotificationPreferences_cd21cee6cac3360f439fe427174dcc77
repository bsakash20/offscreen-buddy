c96de09b6e709f5411430cbe5e399d16
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NotificationPreferencesService = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _types = require("./types");
var _Logger = require("../../utils/Logger");
var NotificationPreferencesService = exports.NotificationPreferencesService = function () {
  function NotificationPreferencesService() {
    (0, _classCallCheck2.default)(this, NotificationPreferencesService);
    this.isInitialized = false;
    this.defaultPreferences = this.getDefaultPreferences();
  }
  return (0, _createClass2.default)(NotificationPreferencesService, [{
    key: "initialize",
    value: function () {
      var _initialize = (0, _asyncToGenerator2.default)(function* () {
        try {
          this.isInitialized = true;
          _Logger.logger.info('NotificationPreferencesService initialized');
        } catch (error) {
          _Logger.logger.error('Failed to initialize NotificationPreferencesService:', error);
          throw error;
        }
      });
      function initialize() {
        return _initialize.apply(this, arguments);
      }
      return initialize;
    }()
  }, {
    key: "getUserPreferences",
    value: function () {
      var _getUserPreferences = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var stored = yield this.getStoredPreferences(userId);
          if (stored) {
            return stored;
          }
          return Object.assign({}, this.defaultPreferences, {
            userId: userId,
            updatedAt: new Date()
          });
        } catch (error) {
          _Logger.logger.error('Failed to get user preferences:', error);
          return Object.assign({}, this.defaultPreferences, {
            userId: userId,
            updatedAt: new Date()
          });
        }
      });
      function getUserPreferences(_x) {
        return _getUserPreferences.apply(this, arguments);
      }
      return getUserPreferences;
    }()
  }, {
    key: "updateUserPreferences",
    value: function () {
      var _updateUserPreferences = (0, _asyncToGenerator2.default)(function* (userId, updates) {
        try {
          var currentPreferences = yield this.getUserPreferences(userId);
          var updatedPreferences = Object.assign({}, currentPreferences, updates, {
            userId: userId,
            updatedAt: new Date()
          });
          this.validatePreferences(updatedPreferences);
          yield this.storePreferences(userId, updatedPreferences);
          _Logger.logger.info('User preferences updated', {
            userId: userId
          });
        } catch (error) {
          _Logger.logger.error('Failed to update user preferences:', error);
          throw error;
        }
      });
      function updateUserPreferences(_x2, _x3) {
        return _updateUserPreferences.apply(this, arguments);
      }
      return updateUserPreferences;
    }()
  }, {
    key: "getCategoryPreferences",
    value: function () {
      var _getCategoryPreferences = (0, _asyncToGenerator2.default)(function* (userId, category) {
        try {
          var preferences = yield this.getUserPreferences(userId);
          return preferences.categories[category];
        } catch (error) {
          _Logger.logger.error('Failed to get category preferences:', error);
          return undefined;
        }
      });
      function getCategoryPreferences(_x4, _x5) {
        return _getCategoryPreferences.apply(this, arguments);
      }
      return getCategoryPreferences;
    }()
  }, {
    key: "updateCategoryPreferences",
    value: function () {
      var _updateCategoryPreferences = (0, _asyncToGenerator2.default)(function* (userId, category, preferences) {
        try {
          var currentPreferences = yield this.getUserPreferences(userId);
          var updatedPreferences = Object.assign({}, currentPreferences, {
            categories: Object.assign({}, currentPreferences.categories, (0, _defineProperty2.default)({}, category, preferences)),
            updatedAt: new Date()
          });
          yield this.updateUserPreferences(userId, updatedPreferences);
          _Logger.logger.info('Category preferences updated', {
            userId: userId,
            category: category
          });
        } catch (error) {
          _Logger.logger.error('Failed to update category preferences:', error);
          throw error;
        }
      });
      function updateCategoryPreferences(_x6, _x7, _x8) {
        return _updateCategoryPreferences.apply(this, arguments);
      }
      return updateCategoryPreferences;
    }()
  }, {
    key: "resetToDefaults",
    value: function () {
      var _resetToDefaults = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var defaultPrefs = Object.assign({}, this.defaultPreferences, {
            userId: userId,
            updatedAt: new Date()
          });
          yield this.storePreferences(userId, defaultPrefs);
          _Logger.logger.info('Preferences reset to defaults', {
            userId: userId
          });
        } catch (error) {
          _Logger.logger.error('Failed to reset preferences:', error);
          throw error;
        }
      });
      function resetToDefaults(_x9) {
        return _resetToDefaults.apply(this, arguments);
      }
      return resetToDefaults;
    }()
  }, {
    key: "exportPreferences",
    value: function () {
      var _exportPreferences = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var preferences = yield this.getUserPreferences(userId);
          return JSON.stringify(preferences, null, 2);
        } catch (error) {
          _Logger.logger.error('Failed to export preferences:', error);
          throw error;
        }
      });
      function exportPreferences(_x0) {
        return _exportPreferences.apply(this, arguments);
      }
      return exportPreferences;
    }()
  }, {
    key: "importPreferences",
    value: function () {
      var _importPreferences = (0, _asyncToGenerator2.default)(function* (userId, preferencesJson) {
        try {
          var importedPreferences = JSON.parse(preferencesJson);
          this.validatePreferences(importedPreferences);
          yield this.updateUserPreferences(userId, Object.assign({}, importedPreferences, {
            userId: userId
          }));
          _Logger.logger.info('Preferences imported successfully', {
            userId: userId
          });
        } catch (error) {
          _Logger.logger.error('Failed to import preferences:', error);
          throw error;
        }
      });
      function importPreferences(_x1, _x10) {
        return _importPreferences.apply(this, arguments);
      }
      return importPreferences;
    }()
  }, {
    key: "dispose",
    value: function () {
      var _dispose = (0, _asyncToGenerator2.default)(function* () {
        try {
          this.isInitialized = false;
          _Logger.logger.info('NotificationPreferencesService disposed');
        } catch (error) {
          _Logger.logger.error('Error disposing NotificationPreferencesService:', error);
        }
      });
      function dispose() {
        return _dispose.apply(this, arguments);
      }
      return dispose;
    }()
  }, {
    key: "getStoredPreferences",
    value: function () {
      var _getStoredPreferences = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var storageKey = `${NotificationPreferencesService.STORAGE_KEY}_${userId}`;
          var stored = yield _asyncStorage.default.getItem(storageKey);
          if (stored) {
            var preferences = JSON.parse(stored);
            return this.deserializePreferences(preferences);
          }
          return null;
        } catch (error) {
          _Logger.logger.error('Failed to get stored preferences:', error);
          return null;
        }
      });
      function getStoredPreferences(_x11) {
        return _getStoredPreferences.apply(this, arguments);
      }
      return getStoredPreferences;
    }()
  }, {
    key: "storePreferences",
    value: function () {
      var _storePreferences = (0, _asyncToGenerator2.default)(function* (userId, preferences) {
        try {
          var storageKey = `${NotificationPreferencesService.STORAGE_KEY}_${userId}`;
          var serialized = JSON.stringify(this.serializePreferences(preferences));
          yield _asyncStorage.default.setItem(storageKey, serialized);
        } catch (error) {
          _Logger.logger.error('Failed to store preferences:', error);
          throw error;
        }
      });
      function storePreferences(_x12, _x13) {
        return _storePreferences.apply(this, arguments);
      }
      return storePreferences;
    }()
  }, {
    key: "serializePreferences",
    value: function serializePreferences(preferences) {
      return Object.assign({}, preferences, {
        updatedAt: preferences.updatedAt.toISOString()
      });
    }
  }, {
    key: "deserializePreferences",
    value: function deserializePreferences(preferences) {
      return Object.assign({}, preferences, {
        updatedAt: new Date(preferences.updatedAt)
      });
    }
  }, {
    key: "validatePreferences",
    value: function validatePreferences(preferences) {
      var _this = this;
      if (!preferences.userId) {
        throw new Error('User ID is required');
      }
      if (preferences.doNotDisturb.enabled) {
        var timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        if (!timeRegex.test(preferences.doNotDisturb.startTime)) {
          throw new Error('Invalid start time format');
        }
        if (!timeRegex.test(preferences.doNotDisturb.endTime)) {
          throw new Error('Invalid end time format');
        }
      }
      if (!['none', 'light', 'moderate', 'heavy'].includes(preferences.personalization.humorLevel)) {
        throw new Error('Invalid humor level');
      }
      if (!['serious', 'motivational', 'humorous', 'mixed'].includes(preferences.personalization.messageTone)) {
        throw new Error('Invalid message tone');
      }
      if (preferences.categories) {
        Object.entries(preferences.categories).forEach(function (_ref) {
          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
            category = _ref2[0],
            catPrefs = _ref2[1];
          if (!_this.isValidCategory(category)) {
            throw new Error(`Invalid category: ${category}`);
          }
          if (catPrefs) {
            _this.validateCategoryPreferences(catPrefs);
          }
        });
      }
    }
  }, {
    key: "validateCategoryPreferences",
    value: function validateCategoryPreferences(preferences) {
      if (!['low', 'normal', 'high', 'urgent'].includes(preferences.priority)) {
        throw new Error('Invalid priority');
      }
      if (preferences.frequency) {
        this.validateFrequency(preferences.frequency);
      }
    }
  }, {
    key: "validateFrequency",
    value: function validateFrequency(frequency) {
      if (!['immediate', 'scheduled', 'adaptive', 'batch'].includes(frequency.type)) {
        throw new Error('Invalid frequency type');
      }
      if (frequency.interval !== undefined && frequency.interval < 5) {
        throw new Error('Interval must be at least 5 seconds');
      }
      if (frequency.maxPerDay !== undefined && frequency.maxPerDay < 1) {
        throw new Error('Max per day must be at least 1');
      }
    }
  }, {
    key: "isValidCategory",
    value: function isValidCategory(category) {
      return Object.values(_types.NotificationCategory).includes(category);
    }
  }, {
    key: "getDefaultPreferences",
    value: function getDefaultPreferences() {
      return {
        userId: '',
        enabled: true,
        doNotDisturb: {
          enabled: false,
          startTime: '22:00',
          endTime: '07:00',
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
          allowUrgent: true
        },
        categories: (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _types.NotificationCategory.TIMERS, {
          enabled: true,
          priority: _types.NotificationPriority.NORMAL,
          frequency: {
            type: 'immediate',
            smartBatching: false
          },
          quietHoursOverride: false,
          customSounds: false,
          vibrationPattern: true
        }), _types.NotificationCategory.ACHIEVEMENTS, {
          enabled: true,
          priority: _types.NotificationPriority.HIGH,
          frequency: {
            type: 'immediate',
            smartBatching: false
          },
          quietHoursOverride: true,
          customSounds: true,
          vibrationPattern: [0, 250, 100, 250]
        }), _types.NotificationCategory.REMINDERS, {
          enabled: true,
          priority: _types.NotificationPriority.NORMAL,
          frequency: {
            type: 'scheduled',
            interval: 300,
            smartBatching: true
          },
          quietHoursOverride: false,
          customSounds: false,
          vibrationPattern: true
        }), _types.NotificationCategory.MOTIVATIONAL, {
          enabled: true,
          priority: _types.NotificationPriority.LOW,
          frequency: {
            type: 'adaptive',
            smartBatching: true,
            batchSize: 3,
            batchInterval: 600
          },
          quietHoursOverride: false,
          customSounds: false,
          vibrationPattern: false
        }), _types.NotificationCategory.URGENT, {
          enabled: true,
          priority: _types.NotificationPriority.URGENT,
          frequency: {
            type: 'immediate',
            smartBatching: false
          },
          quietHoursOverride: true,
          customSounds: true,
          vibrationPattern: [0, 500, 200, 500, 200, 500]
        }), _types.NotificationCategory.CUSTOM, {
          enabled: false,
          priority: _types.NotificationPriority.NORMAL,
          frequency: {
            type: 'scheduled',
            smartBatching: false
          },
          quietHoursOverride: false,
          customSounds: false,
          vibrationPattern: true
        }),
        platform: {
          ios: {
            sound: true,
            badge: true,
            alert: true,
            notificationCenter: true,
            lockScreen: true,
            carPlay: false,
            criticalAlerts: false,
            scheduledDelivery: true
          },
          android: {
            sound: true,
            vibrate: true,
            lights: true,
            vibrationPattern: [0, 250, 250, 250],
            importance: 'default',
            category: 'reminder',
            visibility: 'private'
          },
          web: {
            sound: true,
            persistent: false,
            requireInteraction: false,
            silent: false
          }
        },
        smartScheduling: {
          enabled: true,
          adaptiveFrequency: true,
          skipDuringMeetings: true,
          skipDuringFocus: true,
          userActivityAware: true
        },
        personalization: {
          humorLevel: 'moderate',
          messageTone: 'mixed',
          language: 'en',
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
        },
        updatedAt: new Date()
      };
    }
  }]);
}();
NotificationPreferencesService.STORAGE_KEY = 'notification_preferences';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdHlwZXMiLCJfTG9nZ2VyIiwiTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTZXJ2aWNlIiwiZXhwb3J0cyIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwiaXNJbml0aWFsaXplZCIsImRlZmF1bHRQcmVmZXJlbmNlcyIsImdldERlZmF1bHRQcmVmZXJlbmNlcyIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsIl9pbml0aWFsaXplIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwibG9nZ2VyIiwiaW5mbyIsImVycm9yIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2dldFVzZXJQcmVmZXJlbmNlcyIsInVzZXJJZCIsInN0b3JlZCIsImdldFN0b3JlZFByZWZlcmVuY2VzIiwiT2JqZWN0IiwiYXNzaWduIiwidXBkYXRlZEF0IiwiRGF0ZSIsImdldFVzZXJQcmVmZXJlbmNlcyIsIl94IiwiX3VwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsInVwZGF0ZXMiLCJjdXJyZW50UHJlZmVyZW5jZXMiLCJ1cGRhdGVkUHJlZmVyZW5jZXMiLCJ2YWxpZGF0ZVByZWZlcmVuY2VzIiwic3RvcmVQcmVmZXJlbmNlcyIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsIl94MiIsIl94MyIsIl9nZXRDYXRlZ29yeVByZWZlcmVuY2VzIiwiY2F0ZWdvcnkiLCJwcmVmZXJlbmNlcyIsImNhdGVnb3JpZXMiLCJ1bmRlZmluZWQiLCJnZXRDYXRlZ29yeVByZWZlcmVuY2VzIiwiX3g0IiwiX3g1IiwiX3VwZGF0ZUNhdGVnb3J5UHJlZmVyZW5jZXMiLCJfZGVmaW5lUHJvcGVydHkyIiwidXBkYXRlQ2F0ZWdvcnlQcmVmZXJlbmNlcyIsIl94NiIsIl94NyIsIl94OCIsIl9yZXNldFRvRGVmYXVsdHMiLCJkZWZhdWx0UHJlZnMiLCJyZXNldFRvRGVmYXVsdHMiLCJfeDkiLCJfZXhwb3J0UHJlZmVyZW5jZXMiLCJKU09OIiwic3RyaW5naWZ5IiwiZXhwb3J0UHJlZmVyZW5jZXMiLCJfeDAiLCJfaW1wb3J0UHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlc0pzb24iLCJpbXBvcnRlZFByZWZlcmVuY2VzIiwicGFyc2UiLCJpbXBvcnRQcmVmZXJlbmNlcyIsIl94MSIsIl94MTAiLCJfZGlzcG9zZSIsImRpc3Bvc2UiLCJfZ2V0U3RvcmVkUHJlZmVyZW5jZXMiLCJzdG9yYWdlS2V5IiwiU1RPUkFHRV9LRVkiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiZGVzZXJpYWxpemVQcmVmZXJlbmNlcyIsIl94MTEiLCJfc3RvcmVQcmVmZXJlbmNlcyIsInNlcmlhbGl6ZWQiLCJzZXJpYWxpemVQcmVmZXJlbmNlcyIsInNldEl0ZW0iLCJfeDEyIiwiX3gxMyIsInRvSVNPU3RyaW5nIiwiX3RoaXMiLCJFcnJvciIsImRvTm90RGlzdHVyYiIsImVuYWJsZWQiLCJ0aW1lUmVnZXgiLCJ0ZXN0Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImluY2x1ZGVzIiwicGVyc29uYWxpemF0aW9uIiwiaHVtb3JMZXZlbCIsIm1lc3NhZ2VUb25lIiwiZW50cmllcyIsImZvckVhY2giLCJfcmVmIiwiX3JlZjIiLCJfc2xpY2VkVG9BcnJheTIiLCJjYXRQcmVmcyIsImlzVmFsaWRDYXRlZ29yeSIsInZhbGlkYXRlQ2F0ZWdvcnlQcmVmZXJlbmNlcyIsInByaW9yaXR5IiwiZnJlcXVlbmN5IiwidmFsaWRhdGVGcmVxdWVuY3kiLCJ0eXBlIiwiaW50ZXJ2YWwiLCJtYXhQZXJEYXkiLCJ2YWx1ZXMiLCJOb3RpZmljYXRpb25DYXRlZ29yeSIsInRpbWV6b25lIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwidGltZVpvbmUiLCJhbGxvd1VyZ2VudCIsIlRJTUVSUyIsIk5vdGlmaWNhdGlvblByaW9yaXR5IiwiTk9STUFMIiwic21hcnRCYXRjaGluZyIsInF1aWV0SG91cnNPdmVycmlkZSIsImN1c3RvbVNvdW5kcyIsInZpYnJhdGlvblBhdHRlcm4iLCJBQ0hJRVZFTUVOVFMiLCJISUdIIiwiUkVNSU5ERVJTIiwiTU9USVZBVElPTkFMIiwiTE9XIiwiYmF0Y2hTaXplIiwiYmF0Y2hJbnRlcnZhbCIsIlVSR0VOVCIsIkNVU1RPTSIsInBsYXRmb3JtIiwiaW9zIiwic291bmQiLCJiYWRnZSIsImFsZXJ0Iiwibm90aWZpY2F0aW9uQ2VudGVyIiwibG9ja1NjcmVlbiIsImNhclBsYXkiLCJjcml0aWNhbEFsZXJ0cyIsInNjaGVkdWxlZERlbGl2ZXJ5IiwiYW5kcm9pZCIsInZpYnJhdGUiLCJsaWdodHMiLCJpbXBvcnRhbmNlIiwidmlzaWJpbGl0eSIsIndlYiIsInBlcnNpc3RlbnQiLCJyZXF1aXJlSW50ZXJhY3Rpb24iLCJzaWxlbnQiLCJzbWFydFNjaGVkdWxpbmciLCJhZGFwdGl2ZUZyZXF1ZW5jeSIsInNraXBEdXJpbmdNZWV0aW5ncyIsInNraXBEdXJpbmdGb2N1cyIsInVzZXJBY3Rpdml0eUF3YXJlIiwibGFuZ3VhZ2UiXSwic291cmNlcyI6WyJOb3RpZmljYXRpb25QcmVmZXJlbmNlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBTZXJ2aWNlIGZvciBPZmZTY3JlZW4gQnVkZHlcbiAqIE1hbmFnZXMgdXNlciBub3RpZmljYXRpb24gcHJlZmVyZW5jZXMgYW5kIHNldHRpbmdzXG4gKi9cblxuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQge1xuICAgIE5vdGlmaWNhdGlvblByZWZlcmVuY2VzLFxuICAgIE5vdGlmaWNhdGlvbkNhdGVnb3J5LFxuICAgIE5vdGlmaWNhdGlvblByaW9yaXR5LFxuICAgIENhdGVnb3J5UHJlZmVyZW5jZXMsXG4gICAgTm90aWZpY2F0aW9uRnJlcXVlbmN5LFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uLy4uL3V0aWxzL0xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25QcmVmZXJlbmNlc1NlcnZpY2Uge1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUT1JBR0VfS0VZID0gJ25vdGlmaWNhdGlvbl9wcmVmZXJlbmNlcyc7XG4gICAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBkZWZhdWx0UHJlZmVyZW5jZXM6IE5vdGlmaWNhdGlvblByZWZlcmVuY2VzO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFByZWZlcmVuY2VzID0gdGhpcy5nZXREZWZhdWx0UHJlZmVyZW5jZXMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb25QcmVmZXJlbmNlc1NlcnZpY2UgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTZXJ2aWNlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VXNlclByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxOb3RpZmljYXRpb25QcmVmZXJlbmNlcz4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgdGhpcy5nZXRTdG9yZWRQcmVmZXJlbmNlcyh1c2VySWQpO1xuICAgICAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBkZWZhdWx0IHByZWZlcmVuY2VzIGZvciBuZXcgdXNlcnNcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5kZWZhdWx0UHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgdXNlciBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBSZXR1cm4gZGVmYXVsdCBwcmVmZXJlbmNlcyBhcyBmYWxsYmFja1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmRlZmF1bHRQcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZVVzZXJQcmVmZXJlbmNlcyhcbiAgICAgICAgdXNlcklkOiBzdHJpbmcsXG4gICAgICAgIHVwZGF0ZXM6IFBhcnRpYWw8Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXM+XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXMgPSBhd2FpdCB0aGlzLmdldFVzZXJQcmVmZXJlbmNlcyh1c2VySWQpO1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXM6IE5vdGlmaWNhdGlvblByZWZlcmVuY2VzID0ge1xuICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRQcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgICAuLi51cGRhdGVzLFxuICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSB1cGRhdGVkIHByZWZlcmVuY2VzXG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlUHJlZmVyZW5jZXModXBkYXRlZFByZWZlcmVuY2VzKTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdXBkYXRlZCBwcmVmZXJlbmNlc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9yZVByZWZlcmVuY2VzKHVzZXJJZCwgdXBkYXRlZFByZWZlcmVuY2VzKTtcblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1VzZXIgcHJlZmVyZW5jZXMgdXBkYXRlZCcsIHsgdXNlcklkIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHVzZXIgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRDYXRlZ29yeVByZWZlcmVuY2VzKFxuICAgICAgICB1c2VySWQ6IHN0cmluZyxcbiAgICAgICAgY2F0ZWdvcnk6IE5vdGlmaWNhdGlvbkNhdGVnb3J5XG4gICAgKTogUHJvbWlzZTxDYXRlZ29yeVByZWZlcmVuY2VzIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHRoaXMuZ2V0VXNlclByZWZlcmVuY2VzKHVzZXJJZCk7XG4gICAgICAgICAgICByZXR1cm4gcHJlZmVyZW5jZXMuY2F0ZWdvcmllc1tjYXRlZ29yeV07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgY2F0ZWdvcnkgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZUNhdGVnb3J5UHJlZmVyZW5jZXMoXG4gICAgICAgIHVzZXJJZDogc3RyaW5nLFxuICAgICAgICBjYXRlZ29yeTogTm90aWZpY2F0aW9uQ2F0ZWdvcnksXG4gICAgICAgIHByZWZlcmVuY2VzOiBDYXRlZ29yeVByZWZlcmVuY2VzXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXMgPSBhd2FpdCB0aGlzLmdldFVzZXJQcmVmZXJlbmNlcyh1c2VySWQpO1xuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uY3VycmVudFByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudFByZWZlcmVuY2VzLmNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgICAgIFtjYXRlZ29yeV06IHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVVc2VyUHJlZmVyZW5jZXModXNlcklkLCB1cGRhdGVkUHJlZmVyZW5jZXMpO1xuXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnQ2F0ZWdvcnkgcHJlZmVyZW5jZXMgdXBkYXRlZCcsIHsgdXNlcklkLCBjYXRlZ29yeSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBjYXRlZ29yeSBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0VG9EZWZhdWx0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFByZWZzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuZGVmYXVsdFByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JlUHJlZmVyZW5jZXModXNlcklkLCBkZWZhdWx0UHJlZnMpO1xuXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnUHJlZmVyZW5jZXMgcmVzZXQgdG8gZGVmYXVsdHMnLCB7IHVzZXJJZCB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHJlc2V0IHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhwb3J0UHJlZmVyZW5jZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCB0aGlzLmdldFVzZXJQcmVmZXJlbmNlcyh1c2VySWQpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHByZWZlcmVuY2VzLCBudWxsLCAyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGV4cG9ydCBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGltcG9ydFByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nLCBwcmVmZXJlbmNlc0pzb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaW1wb3J0ZWRQcmVmZXJlbmNlcyA9IEpTT04ucGFyc2UocHJlZmVyZW5jZXNKc29uKSBhcyBOb3RpZmljYXRpb25QcmVmZXJlbmNlcztcblxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgaW1wb3J0ZWQgcHJlZmVyZW5jZXNcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcmVmZXJlbmNlcyhpbXBvcnRlZFByZWZlcmVuY2VzKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHdpdGggaW1wb3J0ZWQgcHJlZmVyZW5jZXNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVXNlclByZWZlcmVuY2VzKHVzZXJJZCwge1xuICAgICAgICAgICAgICAgIC4uLmltcG9ydGVkUHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdQcmVmZXJlbmNlcyBpbXBvcnRlZCBzdWNjZXNzZnVsbHknLCB7IHVzZXJJZCB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGltcG9ydCBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGRpc3Bvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb25QcmVmZXJlbmNlc1NlcnZpY2UgZGlzcG9zZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZGlzcG9zaW5nIE5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2VydmljZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcml2YXRlIG1ldGhvZHNcblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0U3RvcmVkUHJlZmVyZW5jZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPE5vdGlmaWNhdGlvblByZWZlcmVuY2VzIHwgbnVsbD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGAke05vdGlmaWNhdGlvblByZWZlcmVuY2VzU2VydmljZS5TVE9SQUdFX0tFWX1fJHt1c2VySWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gSlNPTi5wYXJzZShzdG9yZWQpIGFzIE5vdGlmaWNhdGlvblByZWZlcmVuY2VzO1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0ZSBzdHJpbmdzIGJhY2sgdG8gRGF0ZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzZXJpYWxpemVQcmVmZXJlbmNlcyhwcmVmZXJlbmNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdldCBzdG9yZWQgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHN0b3JlUHJlZmVyZW5jZXModXNlcklkOiBzdHJpbmcsIHByZWZlcmVuY2VzOiBOb3RpZmljYXRpb25QcmVmZXJlbmNlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGAke05vdGlmaWNhdGlvblByZWZlcmVuY2VzU2VydmljZS5TVE9SQUdFX0tFWX1fJHt1c2VySWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnNlcmlhbGl6ZVByZWZlcmVuY2VzKHByZWZlcmVuY2VzKSk7XG4gICAgICAgICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBzZXJpYWxpemVkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0b3JlIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXJpYWxpemVQcmVmZXJlbmNlcyhwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IHByZWZlcmVuY2VzLnVwZGF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVzZXJpYWxpemVQcmVmZXJlbmNlcyhwcmVmZXJlbmNlczogYW55KTogTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKHByZWZlcmVuY2VzLnVwZGF0ZWRBdCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZVByZWZlcmVuY2VzKHByZWZlcmVuY2VzOiBOb3RpZmljYXRpb25QcmVmZXJlbmNlcyk6IHZvaWQge1xuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaWYgKCFwcmVmZXJlbmNlcy51c2VySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgZG8gbm90IGRpc3R1cmIgdGltZXNcbiAgICAgICAgaWYgKHByZWZlcmVuY2VzLmRvTm90RGlzdHVyYi5lbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lUmVnZXggPSAvXihbMDFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XSQvO1xuICAgICAgICAgICAgaWYgKCF0aW1lUmVnZXgudGVzdChwcmVmZXJlbmNlcy5kb05vdERpc3R1cmIuc3RhcnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGFydCB0aW1lIGZvcm1hdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aW1lUmVnZXgudGVzdChwcmVmZXJlbmNlcy5kb05vdERpc3R1cmIuZW5kVGltZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5kIHRpbWUgZm9ybWF0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBwZXJzb25hbGl6YXRpb24gc2V0dGluZ3NcbiAgICAgICAgaWYgKCFbJ25vbmUnLCAnbGlnaHQnLCAnbW9kZXJhdGUnLCAnaGVhdnknXS5pbmNsdWRlcyhwcmVmZXJlbmNlcy5wZXJzb25hbGl6YXRpb24uaHVtb3JMZXZlbCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBodW1vciBsZXZlbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFbJ3NlcmlvdXMnLCAnbW90aXZhdGlvbmFsJywgJ2h1bW9yb3VzJywgJ21peGVkJ10uaW5jbHVkZXMocHJlZmVyZW5jZXMucGVyc29uYWxpemF0aW9uLm1lc3NhZ2VUb25lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1lc3NhZ2UgdG9uZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgY2F0ZWdvcnkgcHJlZmVyZW5jZXNcbiAgICAgICAgaWYgKHByZWZlcmVuY2VzLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHByZWZlcmVuY2VzLmNhdGVnb3JpZXMpLmZvckVhY2goKFtjYXRlZ29yeSwgY2F0UHJlZnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRDYXRlZ29yeShjYXRlZ29yeSBhcyBOb3RpZmljYXRpb25DYXRlZ29yeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNhdGVnb3J5OiAke2NhdGVnb3J5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2F0UHJlZnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUNhdGVnb3J5UHJlZmVyZW5jZXMoY2F0UHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZUNhdGVnb3J5UHJlZmVyZW5jZXMocHJlZmVyZW5jZXM6IENhdGVnb3J5UHJlZmVyZW5jZXMpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFbJ2xvdycsICdub3JtYWwnLCAnaGlnaCcsICd1cmdlbnQnXS5pbmNsdWRlcyhwcmVmZXJlbmNlcy5wcmlvcml0eSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwcmlvcml0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZWZlcmVuY2VzLmZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUZyZXF1ZW5jeShwcmVmZXJlbmNlcy5mcmVxdWVuY3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZUZyZXF1ZW5jeShmcmVxdWVuY3k6IE5vdGlmaWNhdGlvbkZyZXF1ZW5jeSk6IHZvaWQge1xuICAgICAgICBpZiAoIVsnaW1tZWRpYXRlJywgJ3NjaGVkdWxlZCcsICdhZGFwdGl2ZScsICdiYXRjaCddLmluY2x1ZGVzKGZyZXF1ZW5jeS50eXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGZyZXF1ZW5jeSB0eXBlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJlcXVlbmN5LmludGVydmFsICE9PSB1bmRlZmluZWQgJiYgZnJlcXVlbmN5LmludGVydmFsIDwgNSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcnZhbCBtdXN0IGJlIGF0IGxlYXN0IDUgc2Vjb25kcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyZXF1ZW5jeS5tYXhQZXJEYXkgIT09IHVuZGVmaW5lZCAmJiBmcmVxdWVuY3kubWF4UGVyRGF5IDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXggcGVyIGRheSBtdXN0IGJlIGF0IGxlYXN0IDEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaXNWYWxpZENhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBjYXRlZ29yeSBpcyBOb3RpZmljYXRpb25DYXRlZ29yeSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKE5vdGlmaWNhdGlvbkNhdGVnb3J5KS5pbmNsdWRlcyhjYXRlZ29yeSBhcyBOb3RpZmljYXRpb25DYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0UHJlZmVyZW5jZXMoKTogTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlcklkOiAnJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBkb05vdERpc3R1cmI6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6ICcyMjowMCcsXG4gICAgICAgICAgICAgICAgZW5kVGltZTogJzA3OjAwJyxcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lLFxuICAgICAgICAgICAgICAgIGFsbG93VXJnZW50OiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuVElNRVJTXToge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkuTk9STUFMLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbW1lZGlhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRCYXRjaGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHF1aWV0SG91cnNPdmVycmlkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNvdW5kczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpYnJhdGlvblBhdHRlcm46IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuQUNISUVWRU1FTlRTXToge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkuSElHSCxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW1tZWRpYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYXJ0QmF0Y2hpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBxdWlldEhvdXJzT3ZlcnJpZGU6IHRydWUsIC8vIEFjaGlldmVtZW50cyBjYW4gYnJlYWsgdGhyb3VnaCBETkRcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tU291bmRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2aWJyYXRpb25QYXR0ZXJuOiBbMCwgMjUwLCAxMDAsIDI1MF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuUkVNSU5ERVJTXToge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkuTk9STUFMLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzY2hlZHVsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gNSBtaW51dGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFydEJhdGNoaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBxdWlldEhvdXJzT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Tb3VuZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aWJyYXRpb25QYXR0ZXJuOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW05vdGlmaWNhdGlvbkNhdGVnb3J5Lk1PVElWQVRJT05BTF06IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5LkxPVyxcbiAgICAgICAgICAgICAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWRhcHRpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRCYXRjaGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoU2l6ZTogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoSW50ZXJ2YWw6IDYwMCwgLy8gMTAgbWludXRlc1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBxdWlldEhvdXJzT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Tb3VuZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aWJyYXRpb25QYXR0ZXJuOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtOb3RpZmljYXRpb25DYXRlZ29yeS5VUkdFTlRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBOb3RpZmljYXRpb25Qcmlvcml0eS5VUkdFTlQsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltbWVkaWF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFydEJhdGNoaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcXVpZXRIb3Vyc092ZXJyaWRlOiB0cnVlLCAvLyBVcmdlbnQgYWx3YXlzIGJyZWFrcyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNvdW5kczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlicmF0aW9uUGF0dGVybjogWzAsIDUwMCwgMjAwLCA1MDAsIDIwMCwgNTAwXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtOb3RpZmljYXRpb25DYXRlZ29yeS5DVVNUT01dOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkuTk9STUFMLFxuICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzY2hlZHVsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRCYXRjaGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHF1aWV0SG91cnNPdmVycmlkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNvdW5kczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpYnJhdGlvblBhdHRlcm46IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwbGF0Zm9ybToge1xuICAgICAgICAgICAgICAgIGlvczoge1xuICAgICAgICAgICAgICAgICAgICBzb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25DZW50ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxvY2tTY3JlZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNhclBsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjcml0aWNhbEFsZXJ0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZERlbGl2ZXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgICAgICAgICBzb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlicmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2aWJyYXRpb25QYXR0ZXJuOiBbMCwgMjUwLCAyNTAsIDI1MF0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydGFuY2U6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdyZW1pbmRlcicsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdwcml2YXRlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdlYjoge1xuICAgICAgICAgICAgICAgICAgICBzb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGVyc2lzdGVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVJbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbWFydFNjaGVkdWxpbmc6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFkYXB0aXZlRnJlcXVlbmN5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBEdXJpbmdNZWV0aW5nczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBza2lwRHVyaW5nRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5QXdhcmU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVyc29uYWxpemF0aW9uOiB7XG4gICAgICAgICAgICAgICAgaHVtb3JMZXZlbDogJ21vZGVyYXRlJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlVG9uZTogJ21peGVkJyxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBS0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBT0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQTRDLElBRS9CRyw4QkFBOEIsR0FBQUMsT0FBQSxDQUFBRCw4QkFBQTtFQUt2QyxTQUFBQSwrQkFBQSxFQUFjO0lBQUEsSUFBQUUsZ0JBQUEsQ0FBQUMsT0FBQSxRQUFBSCw4QkFBQTtJQUFBLEtBSE5JLGFBQWEsR0FBRyxLQUFLO0lBSXpCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQyxDQUFDO0VBQzFEO0VBQUMsV0FBQUMsYUFBQSxDQUFBSixPQUFBLEVBQUFILDhCQUFBO0lBQUFRLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFDLFdBQUEsT0FBQUMsa0JBQUEsQ0FBQVIsT0FBQSxFQUVELGFBQWtDO1FBQzlCLElBQUk7VUFDQSxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJO1VBQ3pCUSxjQUFNLENBQUNDLElBQUksQ0FBQyw0Q0FBNEMsQ0FBQztRQUM3RCxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO1VBQ1pGLGNBQU0sQ0FBQ0UsS0FBSyxDQUFDLHNEQUFzRCxFQUFFQSxLQUFLLENBQUM7VUFDM0UsTUFBTUEsS0FB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