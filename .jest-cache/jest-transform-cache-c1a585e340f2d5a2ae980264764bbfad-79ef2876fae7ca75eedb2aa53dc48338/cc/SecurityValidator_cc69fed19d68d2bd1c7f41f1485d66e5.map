{"version":3,"names":["_reactNative","require","_asyncStorage","_interopRequireDefault","_SecurityMonitor","_PrivacyManager","FakeCallSecurityValidator","exports","config","_classCallCheck2","default","rateLimits","Map","suspiciousPatterns","contentFilters","emergencyNumbers","Set","blockedPatterns","privacySettings","Object","assign","enableInputSanitization","enableRateLimiting","enableAbusePrevention","enableContentFiltering","enableEmergencyProtection","enablePrivacyCompliance","maxValidationTime","suspiciousPatternThreshold","maxInputLength","rateLimitWindow","maxRequestsPerWindow","initializeSecurityPatterns","initializeContentFilters","initializeEmergencyProtection","_createClass2","key","value","_initialize","_asyncToGenerator2","privacyManager","getPrivacySettings","loadRateLimits","initializeSecurityDatabase","startPeriodicCleanup","securityMonitor","logSecurityEvent","patternsLoaded","length","filtersLoaded","console","log","error","initialize","apply","arguments","validateCallerID","callerInfo","validation","performComprehensiveValidation","type","data","userId","id","platform","Platform","OS","isSafe","isValid","riskLevel","reasons","violations","map","v","description","suggestions","needsReview","some","severity","_generateSafeCallerID","safeDatabase","getSafeNameDatabase","firstName","getRandomElement","firstNames","neutral","lastName","lastNames","phoneNumber","generateSafePhoneNumber","generateSafeId","name","isVerified","displayName","callerType","generateSafeCallerID","male","female","businessNames","emergencyContacts","service","number","validatePhoneNumber","cleaned","replace","isEmergency","has","isValidPhoneFormat","isSuspiciousPhonePattern","format","determinePhoneFormat","region","detectPhoneRegion","isTollFree","isTollFreeNumber","riskFlags","getPhoneRiskFlags","request","rateLimitStatus","checkRateLimitSync","allowed","code","remediation","warnings","privacyCompliance","gdprCompliant","ccpaCompliant","dataMinimization","consentRequired","sanitizedData","sanitizeInputSync","contentViolations","checkContentFilteringSync","checkPrivacyComplianceSync","abuseViolations","checkAbusePreventionSync","emergencyViolations","checkEmergencyProtectionSync","allViolations","concat","_toConsumableArray2","calculateOverallRisk","_this$generateWarning","generateWarningsAndSuggestions","filter","remainingRequests","resetAt","Date","pattern","shouldBlock","category","action","add","_initializeSecurityDatabase","_this","setInterval","cleanupRateLimits","_cleanupRateLimits","cutoff","now","_ref2","entries","_ref3","_slicedToArray2","entry","windowStart","delete","_loadRateLimits","stored","AsyncStorage","getItem","parsed","JSON","parse","_ref4","_ref5","lastViolation","getTime","get","count","set","Math","max","sanitized","sanitizeString","sanitizedObj","_ref6","_ref7","textContent","extractTextContent","test","_textContent$match","push","toUpperCase","blockedContent","match","checkGDPRCompliance","checkCCPACompliance","checkDataMinimization","checkConsentRequirements","checkSuspiciousPatterns","_request$data$callerI","field","input","String","substring","trim","stringify","violation","phone","phoneRegex","startsWith","flags","array","floor","random","areaCodes","areaCode","exchange","toString","padStart","_dispose","saveRateLimits","clear","rateLimitsCleared","size","patternsCleared","filtersCleared","dispose","_saveRateLimits","serializable","Array","from","_ref8","_entry$lastViolation","_ref9","toISOString","setItem","fakeCallSecurityValidator"],"sources":["SecurityValidator.ts"],"sourcesContent":["/**\n * Fake Call Security Validator\n * Comprehensive input validation, sanitization, and security checks for fake call system\n * \n * Provides caller ID safety validation, rate limiting, abuse prevention, privacy compliance\n * and content filtering for the fake call notification system\n */\n\nimport { Platform } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { securityMonitor } from '../security/SecurityMonitor';\nimport { privacyManager } from '../security/PrivacyManager';\nimport { CallerInfo, SafetyValidation, CallerIDSafety, PhoneNumberValidation, FakeCallConfig, CallError, CallErrorType, FakeCallResult } from './types';\n\nexport interface SecurityValidationConfig {\n    enableInputSanitization: boolean;\n    enableRateLimiting: boolean;\n    enableAbusePrevention: boolean;\n    enableContentFiltering: boolean;\n    enableEmergencyProtection: boolean;\n    enablePrivacyCompliance: boolean;\n    maxValidationTime: number; // ms\n    suspiciousPatternThreshold: number;\n    maxInputLength: number;\n    rateLimitWindow: number; // minutes\n    maxRequestsPerWindow: number;\n}\n\nexport interface ValidationRequest {\n    type: 'call_config' | 'caller_id' | 'audio_message' | 'phone_number' | 'user_input';\n    data: any;\n    userId: string;\n    platform: Platform;\n    metadata?: Record<string, any>;\n}\n\nexport interface SecurityValidationResult {\n    isValid: boolean;\n    riskLevel: 'low' | 'medium' | 'high' | 'critical';\n    sanitizedData?: any;\n    violations: SecurityViolation[];\n    warnings: string[];\n    suggestions: string[];\n    privacyCompliance: {\n        gdprCompliant: boolean;\n        ccpaCompliant: boolean;\n        dataMinimization: boolean;\n        consentRequired: boolean;\n    };\n    rateLimitStatus: {\n        allowed: boolean;\n        remainingRequests: number;\n        resetAt: Date;\n        violations: number;\n    };\n}\n\nexport interface SecurityViolation {\n    type: 'input_sanitization' | 'abuse_prevention' | 'content_filtering' | 'privacy_violation' | 'rate_limiting' | 'emergency_protection';\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    code: string;\n    description: string;\n    field?: string;\n    blockedContent?: string;\n    remediation: string;\n}\n\nexport interface RateLimitEntry {\n    userId: string;\n    action: string;\n    count: number;\n    windowStart: Date;\n    violations: number;\n    lastViolation: Date | null;\n}\n\nexport interface SuspiciousPattern {\n    pattern: RegExp;\n    type: string;\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    description: string;\n    shouldBlock: boolean;\n}\n\nexport interface ContentFilterRule {\n    category: 'inappropriate' | 'spam' | 'phishing' | 'malicious' | 'privacy' | 'emergency';\n    pattern: RegExp;\n    action: 'block' | 'warn' | 'sanitize' | 'log';\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    description: string;\n}\n\nexport class FakeCallSecurityValidator implements CallerIDSafety {\n    private config: SecurityValidationConfig;\n    private rateLimits: Map<string, RateLimitEntry> = new Map();\n    private suspiciousPatterns: SuspiciousPattern[] = [];\n    private contentFilters: ContentFilterRule[] = [];\n    private emergencyNumbers: Set<string> = new Set();\n    private blockedPatterns: string[] = [];\n    private privacySettings: any = null;\n\n    constructor(config?: Partial<SecurityValidationConfig>) {\n        this.config = {\n            enableInputSanitization: true,\n            enableRateLimiting: true,\n            enableAbusePrevention: true,\n            enableContentFiltering: true,\n            enableEmergencyProtection: true,\n            enablePrivacyCompliance: true,\n            maxValidationTime: 5000, // 5 seconds\n            suspiciousPatternThreshold: 3,\n            maxInputLength: 1000,\n            rateLimitWindow: 15, // 15 minutes\n            maxRequestsPerWindow: 50,\n            ...config\n        };\n\n        this.initializeSecurityPatterns();\n        this.initializeContentFilters();\n        this.initializeEmergencyProtection();\n    }\n\n    /**\n     * Initialize security validator\n     */\n    async initialize(): Promise<void> {\n        try {\n            // Load privacy settings\n            this.privacySettings = privacyManager.getPrivacySettings();\n\n            // Load rate limits from storage\n            await this.loadRateLimits();\n\n            // Initialize security patterns\n            await this.initializeSecurityDatabase();\n\n            // Start periodic cleanup\n            this.startPeriodicCleanup();\n\n            await securityMonitor.logSecurityEvent('fake_call_security_validator_initialized', {\n                config: this.config,\n                patternsLoaded: this.suspiciousPatterns.length,\n                filtersLoaded: this.contentFilters.length\n            });\n\n            console.log('üõ°Ô∏è FakeCall Security Validator initialized');\n        } catch (error) {\n            console.error('Failed to initialize FakeCall Security Validator:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Validate caller ID safety (implements CallerIDSafety interface)\n     */\n    validateCallerID(callerInfo: CallerInfo): SafetyValidation {\n        try {\n            const validation = this.performComprehensiveValidation({\n                type: 'caller_id',\n                data: callerInfo,\n                userId: callerInfo.id,\n                platform: Platform.OS as unknown as Platform\n            });\n\n            return {\n                isSafe: validation.isValid && validation.riskLevel !== 'critical',\n                riskLevel: validation.riskLevel === 'critical' ? 'high' : validation.riskLevel,\n                reasons: validation.violations.map((v: any) => v.description),\n                suggestions: validation.suggestions,\n                needsReview: validation.violations.some((v: any) => v.severity === 'high' || v.severity === 'critical')\n            };\n        } catch (error) {\n            console.error('Caller ID validation error:', error);\n            return {\n                isSafe: false,\n                riskLevel: 'high' as const,\n                reasons: ['Validation system error'],\n                suggestions: ['Contact support'],\n                needsReview: true\n            };\n        }\n    }\n\n    /**\n     * Generate safe caller ID (implements CallerIDSafety interface)\n     */\n    async generateSafeCallerID(): Promise<CallerInfo> {\n        try {\n            // Generate safe caller ID from approved database\n            const safeDatabase = this.getSafeNameDatabase();\n            const firstName = this.getRandomElement(safeDatabase.firstNames.neutral);\n            const lastName = this.getRandomElement(safeDatabase.lastNames);\n            const phoneNumber = this.generateSafePhoneNumber();\n\n            return {\n                id: this.generateSafeId(),\n                name: `${firstName} ${lastName}`,\n                phoneNumber,\n                riskLevel: 'low',\n                isVerified: true,\n                displayName: `${firstName} ${lastName}`,\n                callerType: 'business'\n            };\n        } catch (error) {\n            console.error('Failed to generate safe caller ID:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Get safe name database (implements CallerIDSafety interface)\n     */\n    getSafeNameDatabase(): any {\n        return {\n            firstNames: {\n                male: ['James', 'John', 'Robert', 'Michael', 'William', 'David', 'Richard', 'Joseph', 'Thomas', 'Charles'],\n                female: ['Mary', 'Patricia', 'Jennifer', 'Linda', 'Elizabeth', 'Barbara', 'Susan', 'Jessica', 'Sarah', 'Karen'],\n                neutral: ['Alex', 'Sam', 'Jordan', 'Taylor', 'Morgan', 'Casey', 'Jamie', 'Chris', 'Pat', 'Robin']\n            },\n            lastNames: ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez'],\n            businessNames: ['Tech Solutions', 'Business Services', 'Professional Consulting', 'Customer Support', 'Account Services'],\n            emergencyContacts: [\n                { service: 'Emergency Services', number: '911', description: 'Emergency services (protected)' },\n                { service: 'Fire Department', number: '911', description: 'Fire department (protected)' },\n                { service: 'Police', number: '911', description: 'Police (protected)' }\n            ],\n            blockedPatterns: [\n                '911',\n                '999',\n                '112',\n                '000',\n                'emergency',\n                'police',\n                'fire',\n                'ambulance'\n            ],\n            suspiciousPatterns: [\n                'admin',\n                'root',\n                'system',\n                'noreply',\n                'no-reply',\n                'test',\n                'fake',\n                'spam'\n            ]\n        };\n    }\n\n    /**\n     * Validate phone number (implements CallerIDSafety interface)\n     */\n    validatePhoneNumber(number: string): PhoneNumberValidation {\n        try {\n            const cleaned = number.replace(/[\\s\\-\\(\\)\\+\\.]/g, '');\n            const isEmergency = this.emergencyNumbers.has(cleaned);\n\n            return {\n                isValid: this.isValidPhoneFormat(cleaned),\n                isSafe: !isEmergency && !this.isSuspiciousPhonePattern(cleaned),\n                format: this.determinePhoneFormat(number),\n                region: this.detectPhoneRegion(cleaned),\n                isEmergency,\n                isTollFree: this.isTollFreeNumber(cleaned),\n                riskFlags: this.getPhoneRiskFlags(cleaned)\n            };\n        } catch (error) {\n            console.error('Phone number validation error:', error);\n            return {\n                isValid: false,\n                isSafe: false,\n                format: 'local',\n                region: 'unknown',\n                isEmergency: false,\n                isTollFree: false,\n                riskFlags: ['validation_error']\n            };\n        }\n    }\n\n    /**\n     * Perform comprehensive security validation (sync version for interface compatibility)\n     */\n    performComprehensiveValidation(request: ValidationRequest): SecurityValidationResult {\n        try {\n            // Check rate limiting first\n            const rateLimitStatus = this.checkRateLimitSync(request.userId, request.type);\n            if (!rateLimitStatus.allowed) {\n                return {\n                    isValid: false,\n                    riskLevel: 'high',\n                    violations: [{\n                        type: 'rate_limiting' as const,\n                        severity: 'high',\n                        code: 'RATE_LIMIT_EXCEEDED',\n                        description: 'Too many requests in time window',\n                        remediation: 'Wait before making additional requests'\n                    }],\n                    warnings: ['Rate limit exceeded'],\n                    suggestions: ['Reduce request frequency'],\n                    privacyCompliance: { gdprCompliant: true, ccpaCompliant: true, dataMinimization: true, consentRequired: false },\n                    rateLimitStatus\n                };\n            }\n\n            // Basic sanitization (sync)\n            const sanitizedData = this.sanitizeInputSync(request);\n\n            // Content filtering\n            const contentViolations = this.checkContentFilteringSync(request, sanitizedData);\n\n            // Privacy compliance\n            const privacyCompliance = this.checkPrivacyComplianceSync(request);\n\n            // Abuse prevention\n            const abuseViolations = this.checkAbusePreventionSync(request);\n\n            // Emergency protection\n            const emergencyViolations = this.checkEmergencyProtectionSync(request);\n\n            // Combine all violations\n            const allViolations = [\n                ...contentViolations,\n                ...abuseViolations,\n                ...emergencyViolations\n            ];\n\n            // Calculate overall risk level\n            const riskLevel = this.calculateOverallRisk(allViolations);\n\n            // Generate warnings and suggestions\n            const { warnings, suggestions } = this.generateWarningsAndSuggestions(allViolations);\n\n            return {\n                isValid: allViolations.filter(v => v.severity === 'critical' || v.severity === 'high').length === 0,\n                riskLevel,\n                sanitizedData,\n                violations: allViolations,\n                warnings,\n                suggestions,\n                privacyCompliance,\n                rateLimitStatus\n            };\n\n        } catch (error) {\n            console.error('Security validation error:', error);\n\n            return {\n                isValid: false,\n                riskLevel: 'high',\n                violations: [{\n                    type: 'input_sanitization' as const,\n                    severity: 'high',\n                    code: 'VALIDATION_ERROR',\n                    description: 'Security validation system error',\n                    remediation: 'Contact technical support'\n                }],\n                warnings: ['Security validation failed'],\n                suggestions: ['Try again later or contact support'],\n                privacyCompliance: { gdprCompliant: false, ccpaCompliant: false, dataMinimization: false, consentRequired: false },\n                rateLimitStatus: {\n                    allowed: false,\n                    remainingRequests: 0,\n                    resetAt: new Date(),\n                    violations: 1\n                }\n            };\n        }\n    }\n\n    /**\n     * Private helper methods\n     */\n    private initializeSecurityPatterns(): void {\n        this.suspiciousPatterns = [\n            {\n                pattern: /(admin|root|system|test)/i,\n                type: 'suspicious_admin',\n                severity: 'medium',\n                description: 'Suspicious administrative keywords detected',\n                shouldBlock: false\n            },\n            {\n                pattern: /(\\d)\\1{6,}/,\n                type: 'repeated_digits',\n                severity: 'high',\n                description: 'Excessive repeated digits in input',\n                shouldBlock: true\n            },\n            {\n                pattern: /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/i,\n                type: 'xss_attempt',\n                severity: 'critical',\n                description: 'Cross-site scripting attempt detected',\n                shouldBlock: true\n            }\n        ];\n    }\n\n    private initializeContentFilters(): void {\n        this.contentFilters = [\n            {\n                category: 'inappropriate',\n                pattern: /(offensive|profanity|harassment)/i,\n                action: 'block',\n                severity: 'high',\n                description: 'Inappropriate language detected'\n            },\n            {\n                category: 'spam',\n                pattern: /(click here|buy now|limited time|act fast)/i,\n                action: 'warn',\n                severity: 'medium',\n                description: 'Potential spam content detected'\n            },\n            {\n                category: 'phishing',\n                pattern: /(verify account|reset password|suspicious activity)/i,\n                action: 'block',\n                severity: 'critical',\n                description: 'Potential phishing attempt detected'\n            }\n        ];\n    }\n\n    private initializeEmergencyProtection(): void {\n        // Initialize emergency numbers (protected from fake call use)\n        this.emergencyNumbers.add('911');\n        this.emergencyNumbers.add('999');\n        this.emergencyNumbers.add('112');\n        this.emergencyNumbers.add('000');\n\n        // Common emergency variations\n        this.emergencyNumbers.add('+911');\n        this.emergencyNumbers.add('+1999');\n        this.emergencyNumbers.add('+1112');\n    }\n\n    private async initializeSecurityDatabase(): Promise<void> {\n        // Load additional security patterns from storage or API\n        console.log('üìä Security database initialized with patterns and filters');\n    }\n\n    private startPeriodicCleanup(): void {\n        // Clean up old rate limit entries\n        setInterval(async () => {\n            await this.cleanupRateLimits();\n        }, 60 * 60 * 1000); // Every hour\n    }\n\n    private async cleanupRateLimits(): Promise<void> {\n        const cutoff = new Date(Date.now() - 24 * 60 * 60 * 1000); // 24 hours ago\n\n        for (const [key, entry] of this.rateLimits.entries()) {\n            if (entry.windowStart < cutoff && entry.violations === 0) {\n                this.rateLimits.delete(key);\n            }\n        }\n    }\n\n    private async loadRateLimits(): Promise<void> {\n        try {\n            const stored = await AsyncStorage.getItem('fake_call_rate_limits');\n            if (stored) {\n                const parsed = JSON.parse(stored);\n                this.rateLimits = new Map(parsed.map(([key, entry]: [string, any]) => [\n                    key,\n                    {\n                        ...entry,\n                        windowStart: new Date(entry.windowStart),\n                        lastViolation: entry.lastViolation ? new Date(entry.lastViolation) : null\n                    }\n                ]));\n            }\n        } catch (error) {\n            console.error('Failed to load rate limits:', error);\n        }\n    }\n\n    private checkRateLimitSync(userId: string, action: string): {\n        allowed: boolean;\n        remainingRequests: number;\n        resetAt: Date;\n        violations: number;\n    } {\n        const key = `${userId}_${action}`;\n        const now = new Date();\n        const windowStart = new Date(now.getTime() - this.config.rateLimitWindow * 60 * 1000);\n\n        let entry = this.rateLimits.get(key);\n\n        if (!entry || entry.windowStart < windowStart) {\n            entry = {\n                userId,\n                action,\n                count: 1,\n                windowStart: now,\n                violations: 0,\n                lastViolation: null\n            };\n        } else {\n            entry.count++;\n        }\n\n        this.rateLimits.set(key, entry);\n        const remainingRequests = Math.max(0, this.config.maxRequestsPerWindow - entry.count);\n\n        if (entry.count > this.config.maxRequestsPerWindow) {\n            entry.violations++;\n            entry.lastViolation = now;\n            return {\n                allowed: false,\n                remainingRequests: 0,\n                resetAt: new Date(entry.windowStart.getTime() + this.config.rateLimitWindow * 60 * 1000),\n                violations: entry.violations\n            };\n        }\n\n        return {\n            allowed: true,\n            remainingRequests,\n            resetAt: new Date(entry.windowStart.getTime() + this.config.rateLimitWindow * 60 * 1000),\n            violations: entry.violations\n        };\n    }\n\n    private sanitizeInputSync(request: ValidationRequest): any {\n        if (!this.config.enableInputSanitization) {\n            return request.data;\n        }\n\n        const sanitized = { ...request.data };\n\n        if (typeof sanitized === 'string') {\n            return this.sanitizeString(sanitized);\n        }\n\n        if (typeof sanitized === 'object' && sanitized !== null) {\n            const sanitizedObj: any = {};\n\n            for (const [key, value] of Object.entries(sanitized)) {\n                if (typeof value === 'string') {\n                    sanitizedObj[key] = this.sanitizeString(value);\n                } else if (typeof value === 'object' && value !== null) {\n                    sanitizedObj[key] = this.sanitizeInputSync({\n                        ...request,\n                        data: value\n                    });\n                } else {\n                    sanitizedObj[key] = value;\n                }\n            }\n\n            return sanitizedObj;\n        }\n\n        return sanitized;\n    }\n\n    private checkContentFilteringSync(request: ValidationRequest, sanitizedData: any): SecurityViolation[] {\n        if (!this.config.enableContentFiltering) {\n            return [];\n        }\n\n        const violations: SecurityViolation[] = [];\n        const textContent = this.extractTextContent(sanitizedData);\n\n        for (const filter of this.contentFilters) {\n            if (filter.pattern.test(textContent)) {\n                violations.push({\n                    type: 'content_filtering',\n                    severity: filter.severity,\n                    code: `CONTENT_FILTER_${filter.category.toUpperCase()}`,\n                    description: filter.description,\n                    blockedContent: textContent.match(filter.pattern)?.[0] || '',\n                    remediation: `Remove or modify ${filter.category} content`\n                });\n            }\n        }\n\n        return violations;\n    }\n\n    private checkPrivacyComplianceSync(request: ValidationRequest): {\n        gdprCompliant: boolean;\n        ccpaCompliant: boolean;\n        dataMinimization: boolean;\n        consentRequired: boolean;\n    } {\n        if (!this.config.enablePrivacyCompliance) {\n            return {\n                gdprCompliant: true,\n                ccpaCompliant: true,\n                dataMinimization: true,\n                consentRequired: false\n            };\n        }\n\n        const gdprCompliant = this.checkGDPRCompliance(request);\n        const ccpaCompliant = this.checkCCPACompliance(request);\n        const dataMinimization = this.checkDataMinimization(request);\n        const consentRequired = this.checkConsentRequirements(request);\n\n        return {\n            gdprCompliant,\n            ccpaCompliant,\n            dataMinimization,\n            consentRequired\n        };\n    }\n\n    private checkAbusePreventionSync(request: ValidationRequest): SecurityViolation[] {\n        if (!this.config.enableAbusePrevention) {\n            return [];\n        }\n\n        return this.checkSuspiciousPatterns(request);\n    }\n\n    private checkEmergencyProtectionSync(request: ValidationRequest): SecurityViolation[] {\n        if (!this.config.enableEmergencyProtection) {\n            return [];\n        }\n\n        const violations: SecurityViolation[] = [];\n\n        if (request.data.phoneNumber || request.data.callerInfo?.phoneNumber) {\n            const phoneNumber = request.data.phoneNumber || request.data.callerInfo.phoneNumber;\n\n            if (this.emergencyNumbers.has(phoneNumber)) {\n                violations.push({\n                    type: 'emergency_protection',\n                    severity: 'critical',\n                    code: 'EMERGENCY_NUMBER_BLOCKED',\n                    description: 'Emergency numbers cannot be used in fake calls',\n                    field: 'phoneNumber',\n                    remediation: 'Use non-emergency numbers only'\n                });\n            }\n        }\n\n        return violations;\n    }\n\n    private sanitizeString(input: string): string {\n        if (typeof input !== 'string') {\n            return String(input);\n        }\n\n        let sanitized = input;\n\n        // Remove potential XSS vectors\n        sanitized = sanitized.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '');\n        sanitized = sanitized.replace(/<[^>]*>/g, '');\n\n        // Remove SQL injection patterns\n        sanitized = sanitized.replace(/('|(\\\\x27)|(\\\\x60)|(\\\\')|(\\\\x22)|(\\\\x60)|(\\\\x23))/g, '');\n\n        // Remove command injection patterns\n        sanitized = sanitized.replace(/[;&|`$()]/g, '');\n\n        // Limit length\n        if (sanitized.length > this.config.maxInputLength) {\n            sanitized = sanitized.substring(0, this.config.maxInputLength);\n        }\n\n        // Trim whitespace\n        sanitized = sanitized.trim();\n\n        return sanitized;\n    }\n\n    private extractTextContent(data: any): string {\n        if (typeof data === 'string') return data;\n        if (typeof data === 'object' && data !== null) {\n            return JSON.stringify(data);\n        }\n        return String(data || '');\n    }\n\n    private calculateOverallRisk(violations: SecurityViolation[]): 'low' | 'medium' | 'high' | 'critical' {\n        if (violations.some(v => v.severity === 'critical')) return 'critical';\n        if (violations.some(v => v.severity === 'high')) return 'high';\n        if (violations.some(v => v.severity === 'medium')) return 'medium';\n        return 'low';\n    }\n\n    private generateWarningsAndSuggestions(violations: SecurityViolation[]): { warnings: string[]; suggestions: string[] } {\n        const warnings: string[] = [];\n        const suggestions: string[] = [];\n\n        for (const violation of violations) {\n            if (violation.severity === 'low') {\n                warnings.push(violation.description);\n                suggestions.push(violation.remediation);\n            }\n        }\n\n        return { warnings, suggestions };\n    }\n\n    private checkGDPRCompliance(request: ValidationRequest): boolean {\n        // Check GDPR compliance requirements\n        return true; // Simplified - would implement full GDPR checks\n    }\n\n    private checkCCPACompliance(request: ValidationRequest): boolean {\n        // Check CCPA compliance requirements\n        return true; // Simplified - would implement full CCPA checks\n    }\n\n    private checkDataMinimization(request: ValidationRequest): boolean {\n        // Check if only necessary data is being processed\n        return true; // Simplified - would implement data minimization checks\n    }\n\n    private checkConsentRequirements(request: ValidationRequest): boolean {\n        // Check if user consent is required for data processing\n        return false; // Simplified - would check against privacy settings\n    }\n\n    private checkSuspiciousPatterns(request: ValidationRequest): SecurityViolation[] {\n        const violations: SecurityViolation[] = [];\n        const textContent = this.extractTextContent(request.data);\n\n        for (const pattern of this.suspiciousPatterns) {\n            if (pattern.pattern.test(textContent)) {\n                violations.push({\n                    type: 'abuse_prevention',\n                    severity: pattern.severity,\n                    code: `SUSPICIOUS_PATTERN_${pattern.type.toUpperCase()}`,\n                    description: pattern.description,\n                    remediation: 'Remove suspicious content'\n                });\n            }\n        }\n\n        return violations;\n    }\n\n    private isValidPhoneFormat(phone: string): boolean {\n        const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\n        return phoneRegex.test(phone) && phone.length >= 7;\n    }\n\n    private isSuspiciousPhonePattern(phone: string): boolean {\n        return /(\\d)\\1{6,}/.test(phone) || phone.length > 15;\n    }\n\n    private determinePhoneFormat(phone: string): 'international' | 'national' | 'local' {\n        if (phone.startsWith('+')) return 'international';\n        if (phone.length === 10) return 'national';\n        return 'local';\n    }\n\n    private detectPhoneRegion(phone: string): string {\n        // Basic region detection - in production would use comprehensive library\n        if (phone.startsWith('+1')) return 'US/CA';\n        if (phone.startsWith('+44')) return 'UK';\n        if (phone.startsWith('+61')) return 'AU';\n        return 'unknown';\n    }\n\n    private isTollFreeNumber(phone: string): boolean {\n        return /^(800|888|877|866|855|844|833)\\d{7}$/.test(phone);\n    }\n\n    private getPhoneRiskFlags(phone: string): string[] {\n        const flags: string[] = [];\n\n        if (this.isSuspiciousPhonePattern(phone)) {\n            flags.push('suspicious_pattern');\n        }\n\n        if (this.emergencyNumbers.has(phone)) {\n            flags.push('emergency_number');\n        }\n\n        return flags;\n    }\n\n    private getRandomElement<T>(array: T[]): T {\n        return array[Math.floor(Math.random() * array.length)];\n    }\n\n    private generateSafePhoneNumber(): string {\n        // Generate safe phone number (not real)\n        const areaCodes = [555, 556, 557, 558, 559];\n        const areaCode = this.getRandomElement(areaCodes);\n        const exchange = Math.floor(Math.random() * 800) + 100; // 100-899\n        const number = Math.floor(Math.random() * 10000); // 0000-9999\n\n        return `+1-${areaCode}-${exchange.toString().padStart(3, '0')}-${number.toString().padStart(4, '0')}`;\n    }\n\n    private generateSafeId(): string {\n        return `safe_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n    }\n\n    /**\n     * Dispose of security validator\n     */\n    async dispose(): Promise<void> {\n        try {\n            // Save rate limits\n            await this.saveRateLimits();\n\n            // Clear memory\n            this.rateLimits.clear();\n            this.suspiciousPatterns = [];\n            this.contentFilters = [];\n            this.emergencyNumbers.clear();\n\n            await securityMonitor.logSecurityEvent('fake_call_security_validator_disposed', {\n                rateLimitsCleared: this.rateLimits.size,\n                patternsCleared: this.suspiciousPatterns.length,\n                filtersCleared: this.contentFilters.length\n            });\n\n            console.log('üõ°Ô∏è FakeCall Security Validator disposed');\n        } catch (error) {\n            console.error('Error disposing FakeCall Security Validator:', error);\n        }\n    }\n\n    private async saveRateLimits(): Promise<void> {\n        try {\n            const serializable = Array.from(this.rateLimits.entries()).map(([key, entry]) => [\n                key,\n                {\n                    ...entry,\n                    windowStart: entry.windowStart.toISOString(),\n                    lastViolation: entry.lastViolation?.toISOString()\n                }\n            ]);\n\n            await AsyncStorage.setItem('fake_call_rate_limits', JSON.stringify(serializable));\n        } catch (error) {\n            console.error('Failed to save rate limits:', error);\n        }\n    }\n}\n\n// Export singleton instance\nexport const fakeCallSecurityValidator = new FakeCallSecurityValidator();"],"mappings":"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","ignoreList":[]}