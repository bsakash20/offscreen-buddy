7bb89688db84958339966d99fa4cd7be
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.notificationService = exports.default = exports.NotificationService = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var Notifications = _interopRequireWildcard(require("expo-notifications"));
var Device = _interopRequireWildcard(require("expo-device"));
var _reactNative = require("react-native");
var _uuid = require("uuid");
var _types = require("./types");
var _NotificationScheduler = require("./NotificationScheduler");
var _NotificationPreferences = require("./NotificationPreferences");
var _NotificationActions = require("./NotificationActions");
var _HapticManager = require("../../utils/HapticManager");
var _SoundManager = require("../../utils/SoundManager");
var _Logger = require("../../utils/Logger");
var NotificationService = exports.NotificationService = function () {
  function NotificationService() {
    (0, _classCallCheck2.default)(this, NotificationService);
    this.logger = _Logger.logger;
    this.isInitialized = false;
    this.notificationQueue = [];
    this.analyticsQueue = [];
    this.scheduler = new _NotificationScheduler.NotificationScheduler(this);
    this.preferencesService = new _NotificationPreferences.NotificationPreferencesService();
    this.actionsHandler = new _NotificationActions.NotificationActions();
    this.status = this.getDefaultStatus();
    this.config = this.getDefaultConfig();
  }
  return (0, _createClass2.default)(NotificationService, [{
    key: "initialize",
    value: (function () {
      var _initialize = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _permissionResult$dat;
          this.logger.info('Initializing Notification Service...');
          yield this.configureNotifications();
          var capabilities = yield this.getDeviceCapabilities();
          var permissionResult = yield this.requestPermissions();
          var pushToken;
          if (permissionResult.success && (_permissionResult$dat = permissionResult.data) != null && _permissionResult$dat.granted) {
            pushToken = yield this.getPushToken();
          }
          this.status = Object.assign({}, this.status, {
            initialized: true,
            permissions: permissionResult.data || {
              granted: false,
              status: 'undetermined'
            },
            pushToken: pushToken,
            registered: !!pushToken,
            platform: _reactNative.Platform.OS,
            capabilities: capabilities,
            lastHealthCheck: new Date()
          });
          yield Promise.all([this.scheduler.initialize(), this.preferencesService.initialize()]);
          yield this.setupListeners();
          this.startBackgroundProcessing();
          this.isInitialized = true;
          this.logger.info('Notification Service initialized successfully');
          return {
            success: true,
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          this.logger.error('Failed to initialize notification service:', error);
          return {
            success: false,
            error: {
              code: 'INIT_FAILED',
              message: 'Failed to initialize notification service',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function initialize() {
        return _initialize.apply(this, arguments);
      }
      return initialize;
    }())
  }, {
    key: "scheduleNotification",
    value: (function () {
      var _scheduleNotification = (0, _asyncToGenerator2.default)(function* (notification) {
        try {
          if (!this.isInitialized) {
            throw new Error('Notification service not initialized');
          }
          var notificationData = Object.assign({}, notification, {
            id: (0, _uuid.v4)(),
            createdAt: new Date(),
            updatedAt: new Date()
          });
          var preferences = yield this.preferencesService.getUserPreferences(notification.userId);
          if (!preferences || !preferences.enabled) {
            return {
              success: false,
              error: {
                code: 'USER_OPTED_OUT',
                message: 'User has disabled notifications',
                recoverable: false
              },
              metadata: {
                timestamp: new Date(),
                requestId: (0, _uuid.v4)()
              }
            };
          }
          var categoryPrefs = preferences.categories[notification.category];
          if (!(categoryPrefs != null && categoryPrefs.enabled)) {
            return {
              success: false,
              error: {
                code: 'CATEGORY_DISABLED',
                message: `${notification.category} notifications are disabled`,
                recoverable: false
              },
              metadata: {
                timestamp: new Date(),
                requestId: (0, _uuid.v4)()
              }
            };
          }
          var scheduleResult = yield this.getSmartSchedule(notificationData, preferences);
          if (!scheduleResult.shouldSend) {
            this.logger.info('Notification skipped due to smart scheduling', {
              notificationId: notificationData.id,
              reason: scheduleResult.reason
            });
            return {
              success: true,
              data: notificationData.id,
              metadata: {
                timestamp: new Date(),
                requestId: (0, _uuid.v4)()
              }
            };
          }
          var platformNotification = yield this.createPlatformNotification(notificationData);
          var queueItem = {
            id: notificationData.id,
            priority: scheduleResult.priority,
            scheduledTime: scheduleResult.scheduledTime,
            notification: platformNotification,
            retryCount: 0,
            maxRetries: this.config.maxRetries,
            createdAt: new Date()
          };
          this.notificationQueue.push(queueItem);
          yield this.processQueue();
          yield this.trackNotificationScheduled(notificationData);
          return {
            success: true,
            data: notificationData.id,
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          this.logger.error('Failed to schedule notification:', error);
          return {
            success: false,
            error: {
              code: 'SCHEDULE_FAILED',
              message: 'Failed to schedule notification',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function scheduleNotification(_x) {
        return _scheduleNotification.apply(this, arguments);
      }
      return scheduleNotification;
    }())
  }, {
    key: "sendImmediateNotification",
    value: (function () {
      var _sendImmediateNotification = (0, _asyncToGenerator2.default)(function* (notification) {
        try {
          var result = yield this.scheduleNotification(Object.assign({}, notification, {
            scheduledFor: new Date()
          }));
          return result;
        } catch (error) {
          this.logger.error('Failed to send immediate notification:', error);
          return {
            success: false,
            error: {
              code: 'SEND_FAILED',
              message: 'Failed to send immediate notification',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function sendImmediateNotification(_x2) {
        return _sendImmediateNotification.apply(this, arguments);
      }
      return sendImmediateNotification;
    }())
  }, {
    key: "sendEmergencyNotification",
    value: (function () {
      var _sendEmergencyNotification = (0, _asyncToGenerator2.default)(function* (emergency) {
        try {
          var notification = {
            id: (0, _uuid.v4)(),
            type: _types.NotificationType.URGENT_ALERT,
            category: _types.NotificationCategory.URGENT,
            title: emergency.title,
            message: emergency.message,
            priority: emergency.priority,
            userId: 'emergency',
            createdAt: new Date(),
            updatedAt: new Date(),
            actions: emergency.actions.map(function (action) {
              return action.action;
            })
          };
          var result = yield this.sendImmediateNotification(notification);
          if (result.success && emergency.requiresAck) {
            yield this.trackEmergencyNotification(notification);
          }
          return result;
        } catch (error) {
          this.logger.error('Failed to send emergency notification:', error);
          return {
            success: false,
            error: {
              code: 'EMERGENCY_FAILED',
              message: 'Failed to send emergency notification',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function sendEmergencyNotification(_x3) {
        return _sendEmergencyNotification.apply(this, arguments);
      }
      return sendEmergencyNotification;
    }())
  }, {
    key: "handleNotificationAction",
    value: (function () {
      var _handleNotificationAction = (0, _asyncToGenerator2.default)(function* (action, data) {
        try {
          this.logger.info('Handling notification action', {
            action: action,
            data: data
          });
          yield _HapticManager.hapticManager.trigger(_HapticManager.HapticUtils.settingToggle);
          yield _SoundManager.soundManager.playUISound('button');
          var result = yield this.actionsHandler.handleAction(action, data);
          return result;
        } catch (error) {
          this.logger.error('Failed to handle notification action:', error);
          return {
            success: false,
            message: 'Failed to process notification action'
          };
        }
      });
      function handleNotificationAction(_x4, _x5) {
        return _handleNotificationAction.apply(this, arguments);
      }
      return handleNotificationAction;
    }())
  }, {
    key: "cancelNotification",
    value: (function () {
      var _cancelNotification = (0, _asyncToGenerator2.default)(function* (notificationId) {
        try {
          this.notificationQueue = this.notificationQueue.filter(function (item) {
            return item.id !== notificationId;
          });
          yield this.scheduler.cancelScheduledNotification(notificationId);
          yield Notifications.cancelScheduledNotificationAsync(notificationId);
          this.logger.info('Notification cancelled', {
            notificationId: notificationId
          });
          return {
            success: true,
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          this.logger.error('Failed to cancel notification:', error);
          return {
            success: false,
            error: {
              code: 'CANCEL_FAILED',
              message: 'Failed to cancel notification',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function cancelNotification(_x6) {
        return _cancelNotification.apply(this, arguments);
      }
      return cancelNotification;
    }())
  }, {
    key: "getUserPreferences",
    value: (function () {
      var _getUserPreferences = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var preferences = yield this.preferencesService.getUserPreferences(userId);
          return {
            success: true,
            data: preferences,
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          this.logger.error('Failed to get user preferences:', error);
          return {
            success: false,
            error: {
              code: 'GET_PREFS_FAILED',
              message: 'Failed to get user preferences',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function getUserPreferences(_x7) {
        return _getUserPreferences.apply(this, arguments);
      }
      return getUserPreferences;
    }())
  }, {
    key: "updateUserPreferences",
    value: (function () {
      var _updateUserPreferences = (0, _asyncToGenerator2.default)(function* (userId, preferences) {
        try {
          yield this.preferencesService.updateUserPreferences(userId, preferences);
          if (preferences.enabled === false) {
            yield this.cancelUserNotifications(userId);
          }
          this.logger.info('User preferences updated', {
            userId: userId
          });
          return {
            success: true,
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          this.logger.error('Failed to update user preferences:', error);
          return {
            success: false,
            error: {
              code: 'UPDATE_PREFS_FAILED',
              message: 'Failed to update user preferences',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function updateUserPreferences(_x8, _x9) {
        return _updateUserPreferences.apply(this, arguments);
      }
      return updateUserPreferences;
    }())
  }, {
    key: "getStatus",
    value: function getStatus() {
      return Object.assign({}, this.status);
    }
  }, {
    key: "testNotification",
    value: (function () {
      var _testNotification = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _testNotification2 = {
            id: (0, _uuid.v4)(),
            type: _types.NotificationType.QUICK_REMINDER,
            category: _types.NotificationCategory.REMINDERS,
            title: 'Notification Test',
            message: 'This is a test notification from OffScreen Buddy!',
            priority: _types.NotificationPriority.NORMAL,
            userId: 'test-user',
            createdAt: new Date(),
            updatedAt: new Date()
          };
          var result = yield this.sendImmediateNotification(_testNotification2);
          return result;
        } catch (error) {
          this.logger.error('Failed to send test notification:', error);
          return {
            success: false,
            error: {
              code: 'TEST_FAILED',
              message: 'Failed to send test notification',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function testNotification() {
        return _testNotification.apply(this, arguments);
      }
      return testNotification;
    }())
  }, {
    key: "dispose",
    value: (function () {
      var _dispose = (0, _asyncToGenerator2.default)(function* () {
        try {
          this.logger.info('Disposing Notification Service...');
          if (this.appStateSubscription) {
            this.appStateSubscription.remove();
          }
          if (this.pushTokenListener) {
            this.pushTokenListener.remove();
          }
          if (this.notificationReceivedListener) {
            this.notificationReceivedListener.remove();
          }
          if (this.notificationResponseListener) {
            this.notificationResponseListener.remove();
          }
          yield this.scheduler.dispose();
          yield this.preferencesService.dispose();
          yield this.processAnalytics();
          this.isInitialized = false;
          this.logger.info('Notification Service disposed');
        } catch (error) {
          this.logger.error('Error during disposal:', error);
        }
      });
      function dispose() {
        return _dispose.apply(this, arguments);
      }
      return dispose;
    }())
  }, {
    key: "configureNotifications",
    value: function () {
      var _configureNotifications = (0, _asyncToGenerator2.default)(function* () {
        Notifications.setNotificationHandler({
          handleNotification: function () {
            var _handleNotification = (0, _asyncToGenerator2.default)(function* () {
              return {
                shouldShowAlert: true,
                shouldPlaySound: true,
                shouldSetBadge: true
              };
            });
            function handleNotification() {
              return _handleNotification.apply(this, arguments);
            }
            return handleNotification;
          }()
        });
      });
      function configureNotifications() {
        return _configureNotifications.apply(this, arguments);
      }
      return configureNotifications;
    }()
  }, {
    key: "getDeviceCapabilities",
    value: function () {
      var _getDeviceCapabilities = (0, _asyncToGenerator2.default)(function* () {
        return {
          canSchedule: Device.isDevice && _reactNative.Platform.OS !== 'web',
          canBadge: _reactNative.Platform.OS !== 'web',
          canSound: true,
          canVibrate: _reactNative.Platform.OS !== 'web',
          canDeepLink: true
        };
      });
      function getDeviceCapabilities() {
        return _getDeviceCapabilities.apply(this, arguments);
      }
      return getDeviceCapabilities;
    }()
  }, {
    key: "requestPermissions",
    value: function () {
      var _requestPermissions = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),
            existingStatus = _yield$Notifications$.status;
          var finalStatus = existingStatus;
          if (existingStatus !== 'granted') {
            var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),
              status = _yield$Notifications$2.status;
            finalStatus = status;
          }
          return {
            success: true,
            data: {
              granted: finalStatus === 'granted',
              status: finalStatus
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        } catch (error) {
          return {
            success: false,
            error: {
              code: 'PERMISSION_FAILED',
              message: 'Failed to request notification permissions',
              details: error
            },
            metadata: {
              timestamp: new Date(),
              requestId: (0, _uuid.v4)()
            }
          };
        }
      });
      function requestPermissions() {
        return _requestPermissions.apply(this, arguments);
      }
      return requestPermissions;
    }()
  }, {
    key: "getPushToken",
    value: function () {
      var _getPushToken = (0, _asyncToGenerator2.default)(function* () {
        try {
          var token = yield Notifications.getExpoPushTokenAsync();
          return token.data;
        } catch (error) {
          this.logger.warn('Failed to get push token:', error);
          return undefined;
        }
      });
      function getPushToken() {
        return _getPushToken.apply(this, arguments);
      }
      return getPushToken;
    }()
  }, {
    key: "getSmartSchedule",
    value: function () {
      var _getSmartSchedule = (0, _asyncToGenerator2.default)(function* (notification, preferences) {
        try {
          if (!preferences.smartScheduling.enabled) {
            return {
              scheduledTime: notification.scheduledFor || new Date(),
              priority: notification.priority,
              reason: 'Default scheduling',
              shouldSend: true
            };
          }
          var context = {
            userId: notification.userId,
            currentTime: new Date(),
            userActivity: yield this.getUserActivity(notification.userId),
            deviceState: yield this.getDeviceState(),
            preferences: preferences,
            notificationHistory: yield this.getNotificationHistory(notification.userId)
          };
          return yield this.scheduler.getSmartSchedule(notification, context);
        } catch (error) {
          this.logger.error('Failed to get smart schedule:', error);
          return {
            scheduledTime: new Date(),
            priority: notification.priority,
            reason: 'Fallback to immediate scheduling',
            shouldSend: true
          };
        }
      });
      function getSmartSchedule(_x0, _x1) {
        return _getSmartSchedule.apply(this, arguments);
      }
      return getSmartSchedule;
    }()
  }, {
    key: "createPlatformNotification",
    value: function () {
      var _createPlatformNotification = (0, _asyncToGenerator2.default)(function* (notification) {
        var baseNotification = Object.assign({}, notification, {
          sound: this.getNotificationSound(notification),
          badge: this.getNotificationBadge(notification),
          categoryIdentifier: notification.category,
          ios: {
            sound: notification.sound,
            badge: notification.badge,
            categoryIdentifier: notification.categoryIdentifier,
            interruptionLevel: this.getIOSInterruptionLevel(notification.priority)
          },
          android: {
            channelId: this.getAndroidChannelId(notification.category),
            smallIcon: this.getAndroidIcon(),
            priority: this.getAndroidPriority(notification.priority),
            visibility: 'private'
          }
        });
        return baseNotification;
      });
      function createPlatformNotification(_x10) {
        return _createPlatformNotification.apply(this, arguments);
      }
      return createPlatformNotification;
    }()
  }, {
    key: "getNotificationSound",
    value: function getNotificationSound(notification) {
      var soundMap = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _types.NotificationPriority.LOW, 'gentle'), _types.NotificationPriority.NORMAL, 'default'), _types.NotificationPriority.HIGH, 'alert'), _types.NotificationPriority.URGENT, 'critical');
      return soundMap[notification.priority] || 'default';
    }
  }, {
    key: "getNotificationBadge",
    value: function getNotificationBadge(notification) {
      return notification.category === _types.NotificationCategory.ACHIEVEMENTS ? 1 : 0;
    }
  }, {
    key: "getIOSInterruptionLevel",
    value: function getIOSInterruptionLevel(priority) {
      switch (priority) {
        case _types.NotificationPriority.URGENT:
          return 'time-sensitive';
        case _types.NotificationPriority.HIGH:
          return 'active';
        default:
          return 'passive';
      }
    }
  }, {
    key: "getAndroidChannelId",
    value: function getAndroidChannelId(category) {
      var channelMap = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _types.NotificationCategory.TIMERS, 'timer_channel'), _types.NotificationCategory.ACHIEVEMENTS, 'achievement_channel'), _types.NotificationCategory.REMINDERS, 'reminder_channel'), _types.NotificationCategory.MOTIVATIONAL, 'motivation_channel'), _types.NotificationCategory.URGENT, 'urgent_channel'), _types.NotificationCategory.CUSTOM, 'custom_channel');
      return channelMap[category] || 'default_channel';
    }
  }, {
    key: "getAndroidIcon",
    value: function getAndroidIcon() {
      return _reactNative.Platform.OS === 'android' ? 'ic_notification' : undefined;
    }
  }, {
    key: "getAndroidPriority",
    value: function getAndroidPriority(priority) {
      var priorityMap = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _types.NotificationPriority.LOW, 1), _types.NotificationPriority.NORMAL, 2), _types.NotificationPriority.HIGH, 3), _types.NotificationPriority.URGENT, 4);
      return priorityMap[priority] || 2;
    }
  }, {
    key: "setupListeners",
    value: function () {
      var _setupListeners = (0, _asyncToGenerator2.default)(function* () {
        var _this = this;
        this.appStateSubscription = _reactNative.AppState.addEventListener('change', function () {
          var _ref = (0, _asyncToGenerator2.default)(function* (nextAppState) {
            if (nextAppState === 'active') {
              yield _this.handleAppForeground();
            } else if (nextAppState === 'background') {
              yield _this.handleAppBackground();
            }
          });
          return function (_x11) {
            return _ref.apply(this, arguments);
          };
        }());
        this.pushTokenListener = Notifications.addPushTokenListener(function () {
          var _ref2 = (0, _asyncToGenerator2.default)(function* (token) {
            yield _this.handlePushTokenUpdate(token.data);
          });
          return function (_x12) {
            return _ref2.apply(this, arguments);
          };
        }());
        this.notificationReceivedListener = Notifications.addNotificationReceivedListener(function () {
          var _ref3 = (0, _asyncToGenerator2.default)(function* (notification) {
            yield _this.handleNotificationReceived(notification);
          });
          return function (_x13) {
            return _ref3.apply(this, arguments);
          };
        }());
        this.notificationResponseListener = Notifications.addNotificationResponseReceivedListener(function () {
          var _ref4 = (0, _asyncToGenerator2.default)(function* (response) {
            yield _this.handleNotificationResponse(response);
          });
          return function (_x14) {
            return _ref4.apply(this, arguments);
          };
        }());
      });
      function setupListeners() {
        return _setupListeners.apply(this, arguments);
      }
      return setupListeners;
    }()
  }, {
    key: "handleNotificationReceived",
    value: function () {
      var _handleNotificationReceived = (0, _asyncToGenerator2.default)(function* (notification) {
        try {
          var _notification$request, _notification$request2;
          this.logger.info('Notification received', {
            notificationId: (_notification$request = notification.request) == null ? void 0 : _notification$request.identifier,
            category: (_notification$request2 = notification.request) == null || (_notification$request2 = _notification$request2.content) == null ? void 0 : _notification$request2.categoryIdentifier
          });
          yield this.trackNotificationDelivered(notification);
          var hapticType = this.getNotificationHapticType(notification);
          yield _HapticManager.hapticManager.trigger(hapticType);
          var soundType = this.getNotificationSoundType(notification);
          if (soundType) {
            yield _SoundManager.soundManager.playSound(soundType);
          }
          yield this.storeNotificationHistory(notification);
        } catch (error) {
          this.logger.error('Error handling notification received:', error);
        }
      });
      function handleNotificationReceived(_x15) {
        return _handleNotificationReceived.apply(this, arguments);
      }
      return handleNotificationReceived;
    }()
  }, {
    key: "handleNotificationResponse",
    value: function () {
      var _handleNotificationResponse = (0, _asyncToGenerator2.default)(function* (response) {
        try {
          this.logger.info('Notification response received', {
            notificationId: response.notification.request.identifier,
            actionId: response.actionIdentifier
          });
          var actionId = response.actionIdentifier;
          var data = response.notification.request.content.data;
          var action = this.mapNotificationActionId(actionId);
          if (action) {
            yield this.handleNotificationAction(action, data);
          }
          yield this.trackNotificationClicked(response);
        } catch (error) {
          this.logger.error('Error handling notification response:', error);
        }
      });
      function handleNotificationResponse(_x16) {
        return _handleNotificationResponse.apply(this, arguments);
      }
      return handleNotificationResponse;
    }()
  }, {
    key: "handleAppForeground",
    value: function () {
      var _handleAppForeground = (0, _asyncToGenerator2.default)(function* () {
        this.logger.info('App came to foreground');
        yield this.processQueue();
        yield this.processAnalytics();
      });
      function handleAppForeground() {
        return _handleAppForeground.apply(this, arguments);
      }
      return handleAppForeground;
    }()
  }, {
    key: "handleAppBackground",
    value: function () {
      var _handleAppBackground = (0, _asyncToGenerator2.default)(function* () {
        this.logger.info('App went to background');
        yield this.processQueue();
        yield this.processAnalytics();
      });
      function handleAppBackground() {
        return _handleAppBackground.apply(this, arguments);
      }
      return handleAppBackground;
    }()
  }, {
    key: "handlePushTokenUpdate",
    value: function () {
      var _handlePushTokenUpdate = (0, _asyncToGenerator2.default)(function* (token) {
        this.logger.info('Push token updated');
        this.status.pushToken = token;
        yield this.registerPushTokenWithBackend(token);
      });
      function handlePushTokenUpdate(_x17) {
        return _handlePushTokenUpdate.apply(this, arguments);
      }
      return handlePushTokenUpdate;
    }()
  }, {
    key: "processQueue",
    value: function () {
      var _processQueue = (0, _asyncToGenerator2.default)(function* () {
        try {
          var now = new Date();
          var readyNotifications = this.notificationQueue.filter(function (item) {
            return item.scheduledTime <= now;
          });
          for (var item of readyNotifications) {
            yield this.processNotification(item);
          }
          this.notificationQueue = this.notificationQueue.filter(function (item) {
            return !readyNotifications.includes(item);
          });
        } catch (error) {
          this.logger.error('Error processing notification queue:', error);
        }
      });
      function processQueue() {
        return _processQueue.apply(this, arguments);
      }
      return processQueue;
    }()
  }, {
    key: "processNotification",
    value: function () {
      var _processNotification = (0, _asyncToGenerator2.default)(function* (queueItem) {
        try {
          var notification = queueItem.notification,
            id = queueItem.id;
          yield Notifications.scheduleNotificationAsync({
            identifier: id,
            content: {
              title: notification.title,
              body: notification.message,
              data: notification.data,
              sound: notification.sound,
              badge: notification.badge,
              categoryIdentifier: notification.categoryIdentifier,
              threadIdentifier: notification.threadIdentifier
            },
            trigger: null
          });
          this.logger.info('Notification scheduled successfully', {
            notificationId: id
          });
        } catch (error) {
          this.logger.error('Error processing notification:', error);
          queueItem.retryCount++;
          if (queueItem.retryCount < queueItem.maxRetries) {
            queueItem.scheduledTime = new Date(Date.now() + 60000 * queueItem.retryCount);
            this.notificationQueue.push(queueItem);
          }
        }
      });
      function processNotification(_x18) {
        return _processNotification.apply(this, arguments);
      }
      return processNotification;
    }()
  }, {
    key: "processAnalytics",
    value: function () {
      var _processAnalytics = (0, _asyncToGenerator2.default)(function* () {
        try {
          var analytics = this.analyticsQueue.splice(0, 10);
          if (analytics.length > 0) {
            this.logger.info('Processing analytics batch', {
              count: analytics.length
            });
          }
        } catch (error) {
          this.logger.error('Error processing analytics:', error);
        }
      });
      function processAnalytics() {
        return _processAnalytics.apply(this, arguments);
      }
      return processAnalytics;
    }()
  }, {
    key: "startBackgroundProcessing",
    value: function startBackgroundProcessing() {
      var _this2 = this;
      setInterval(function () {
        if (_this2.isInitialized) {
          _this2.processQueue();
          _this2.processAnalytics();
        }
      }, 30000);
    }
  }, {
    key: "trackNotificationScheduled",
    value: function () {
      var _trackNotificationScheduled = (0, _asyncToGenerator2.default)(function* (notification) {
        var analytics = {
          notificationId: notification.id,
          userId: notification.userId,
          type: notification.type,
          category: notification.category,
          platform: _reactNative.Platform.OS,
          sentAt: new Date()
        };
        this.analyticsQueue.push(analytics);
      });
      function trackNotificationScheduled(_x19) {
        return _trackNotificationScheduled.apply(this, arguments);
      }
      return trackNotificationScheduled;
    }()
  }, {
    key: "trackNotificationDelivered",
    value: function () {
      var _trackNotificationDelivered = (0, _asyncToGenerator2.default)(function* (notification) {});
      function trackNotificationDelivered(_x20) {
        return _trackNotificationDelivered.apply(this, arguments);
      }
      return trackNotificationDelivered;
    }()
  }, {
    key: "trackNotificationClicked",
    value: function () {
      var _trackNotificationClicked = (0, _asyncToGenerator2.default)(function* (response) {});
      function trackNotificationClicked(_x21) {
        return _trackNotificationClicked.apply(this, arguments);
      }
      return trackNotificationClicked;
    }()
  }, {
    key: "trackEmergencyNotification",
    value: function () {
      var _trackEmergencyNotification = (0, _asyncToGenerator2.default)(function* (notification) {});
      function trackEmergencyNotification(_x22) {
        return _trackEmergencyNotification.apply(this, arguments);
      }
      return trackEmergencyNotification;
    }()
  }, {
    key: "getUserActivity",
    value: function () {
      var _getUserActivity = (0, _asyncToGenerator2.default)(function* (userId) {
        return {
          isFocused: false,
          isInMeeting: false,
          lastActivity: new Date()
        };
      });
      function getUserActivity(_x23) {
        return _getUserActivity.apply(this, arguments);
      }
      return getUserActivity;
    }()
  }, {
    key: "getDeviceState",
    value: function () {
      var _getDeviceState = (0, _asyncToGenerator2.default)(function* () {
        return {
          batteryLevel: 0.8,
          isCharging: true,
          isLowPowerMode: false
        };
      });
      function getDeviceState() {
        return _getDeviceState.apply(this, arguments);
      }
      return getDeviceState;
    }()
  }, {
    key: "getNotificationHistory",
    value: function () {
      var _getNotificationHistory = (0, _asyncToGenerator2.default)(function* (userId) {
        return [];
      });
      function getNotificationHistory(_x24) {
        return _getNotificationHistory.apply(this, arguments);
      }
      return getNotificationHistory;
    }()
  }, {
    key: "cancelUserNotifications",
    value: function () {
      var _cancelUserNotifications = (0, _asyncToGenerator2.default)(function* (userId) {
        yield Notifications.cancelAllScheduledNotificationsAsync();
      });
      function cancelUserNotifications(_x25) {
        return _cancelUserNotifications.apply(this, arguments);
      }
      return cancelUserNotifications;
    }()
  }, {
    key: "registerPushTokenWithBackend",
    value: function () {
      var _registerPushTokenWithBackend = (0, _asyncToGenerator2.default)(function* (token) {
        try {
          this.logger.info('Push token registered with backend', {
            token: token
          });
        } catch (error) {
          this.logger.error('Failed to register push token with backend:', error);
        }
      });
      function registerPushTokenWithBackend(_x26) {
        return _registerPushTokenWithBackend.apply(this, arguments);
      }
      return registerPushTokenWithBackend;
    }()
  }, {
    key: "getNotificationHapticType",
    value: function getNotificationHapticType(notification) {
      return 'light';
    }
  }, {
    key: "getNotificationSoundType",
    value: function getNotificationSoundType(notification) {
      return 'button';
    }
  }, {
    key: "mapNotificationActionId",
    value: function mapNotificationActionId(actionId) {
      switch (actionId) {
        case 'VIEW_TIMER':
          return _types.NotificationAction.VIEW_TIMER;
        case 'START_SESSION':
          return _types.NotificationAction.START_SESSION;
        case 'DISMISS':
          return _types.NotificationAction.DISMISS;
        default:
          return null;
      }
    }
  }, {
    key: "storeNotificationHistory",
    value: function () {
      var _storeNotificationHistory = (0, _asyncToGenerator2.default)(function* (notification) {
        try {
          var history = {
            id: (0, _uuid.v4)(),
            timestamp: new Date(),
            notification: notification
          };
        } catch (error) {
          this.logger.error('Error storing notification history:', error);
        }
      });
      function storeNotificationHistory(_x27) {
        return _storeNotificationHistory.apply(this, arguments);
      }
      return storeNotificationHistory;
    }()
  }, {
    key: "getDefaultStatus",
    value: function getDefaultStatus() {
      return {
        initialized: false,
        permissions: {
          granted: false,
          status: 'undetermined'
        },
        registered: false,
        platform: _reactNative.Platform.OS,
        capabilities: {
          canSchedule: false,
          canBadge: false,
          canSound: false,
          canVibrate: false,
          canDeepLink: false
        },
        lastHealthCheck: new Date()
      };
    }
  }, {
    key: "getDefaultConfig",
    value: function getDefaultConfig() {
      return {
        debug: __DEV__,
        maxRetries: 3,
        batchSize: 10,
        batchInterval: 60,
        queueSize: 100,
        processingInterval: 30,
        healthCheckInterval: 300,
        aiEnabled: true,
        contextWindow: 30,
        platforms: {
          ios: {
            criticalAlertsEnabled: false,
            notificationGroups: true,
            scheduledDelivery: true
          },
          android: {
            channelImportance: 2,
            vibrationPattern: [0, 250, 250, 250],
            lockScreenVisibility: 'private'
          },
          web: {
            serviceWorkerPath: '/service-worker.js',
            manifestPath: '/manifest.json',
            iconSizes: [72, 96, 128, 144, 152, 192, 384, 512]
          }
        },
        integrations: {
          analytics: true,
          crashReporting: true,
          userFeedback: true
        }
      };
    }
  }], [{
    key: "getInstance",
    value: function getInstance() {
      if (!NotificationService.instance) {
        NotificationService.instance = new NotificationService();
      }
      return NotificationService.instance;
    }
  }]);
}();
var notificationService = exports.notificationService = NotificationService.getInstance();
var _default = exports.default = notificationService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb3RpZmljYXRpb25zIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiRGV2aWNlIiwiX3JlYWN0TmF0aXZlIiwiX3V1aWQiLCJfdHlwZXMiLCJfTm90aWZpY2F0aW9uU2NoZWR1bGVyIiwiX05vdGlmaWNhdGlvblByZWZlcmVuY2VzIiwiX05vdGlmaWNhdGlvbkFjdGlvbnMiLCJfSGFwdGljTWFuYWdlciIsIl9Tb3VuZE1hbmFnZXIiLCJfTG9nZ2VyIiwiTm90aWZpY2F0aW9uU2VydmljZSIsImV4cG9ydHMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiZGVmYXVsdCIsImxvZ2dlciIsImlzSW5pdGlhbGl6ZWQiLCJub3RpZmljYXRpb25RdWV1ZSIsImFuYWx5dGljc1F1ZXVlIiwic2NoZWR1bGVyIiwiTm90aWZpY2F0aW9uU2NoZWR1bGVyIiwicHJlZmVyZW5jZXNTZXJ2aWNlIiwiTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTZXJ2aWNlIiwiYWN0aW9uc0hhbmRsZXIiLCJOb3RpZmljYXRpb25BY3Rpb25zIiwic3RhdHVzIiwiZ2V0RGVmYXVsdFN0YXR1cyIsImNvbmZpZyIsImdldERlZmF1bHRDb25maWciLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJfaW5pdGlhbGl6ZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9wZXJtaXNzaW9uUmVzdWx0JGRhdCIsImluZm8iLCJjb25maWd1cmVOb3RpZmljYXRpb25zIiwiY2FwYWJpbGl0aWVzIiwiZ2V0RGV2aWNlQ2FwYWJpbGl0aWVzIiwicGVybWlzc2lvblJlc3VsdCIsInJlcXVlc3RQZXJtaXNzaW9ucyIsInB1c2hUb2tlbiIsInN1Y2Nlc3MiLCJkYXRhIiwiZ3JhbnRlZCIsImdldFB1c2hUb2tlbiIsIk9iamVjdCIsImFzc2lnbiIsImluaXRpYWxpemVkIiwicGVybWlzc2lvbnMiLCJyZWdpc3RlcmVkIiwicGxhdGZvcm0iLCJQbGF0Zm9ybSIsIk9TIiwibGFzdEhlYWx0aENoZWNrIiwiRGF0ZSIsIlByb21pc2UiLCJhbGwiLCJpbml0aWFsaXplIiwic2V0dXBMaXN0ZW5lcnMiLCJzdGFydEJhY2tncm91bmRQcm9jZXNzaW5nIiwibWV0YWRhdGEiLCJ0aW1lc3RhbXAiLCJyZXF1ZXN0SWQiLCJ1dWlkdjQiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3NjaGVkdWxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiRXJyb3IiLCJub3RpZmljYXRpb25EYXRhIiwiaWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJwcmVmZXJlbmNlcyIsImdldFVzZXJQcmVmZXJlbmNlcyIsInVzZXJJZCIsImVuYWJsZWQiLCJyZWNvdmVyYWJsZSIsImNhdGVnb3J5UHJlZnMiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnkiLCJzY2hlZHVsZVJlc3VsdCIsImdldFNtYXJ0U2NoZWR1bGUiLCJzaG91bGRTZW5kIiwibm90aWZpY2F0aW9uSWQiLCJyZWFzb24iLCJwbGF0Zm9ybU5vdGlmaWNhdGlvbiIsImNyZWF0ZVBsYXRmb3JtTm90aWZpY2F0aW9uIiwicXVldWVJdGVtIiwicHJpb3JpdHkiLCJzY2hlZHVsZWRUaW1lIiwicmV0cnlDb3VudCIsIm1heFJldHJpZXMiLCJwdXNoIiwicHJvY2Vzc1F1ZXVlIiwidHJhY2tOb3RpZmljYXRpb25TY2hlZHVsZWQiLCJzY2hlZHVsZU5vdGlmaWNhdGlvbiIsIl94IiwiX3NlbmRJbW1lZGlhdGVOb3RpZmljYXRpb24iLCJyZXN1bHQiLCJzY2hlZHVsZWRGb3IiLCJzZW5kSW1tZWRpYXRlTm90aWZpY2F0aW9uIiwiX3gyIiwiX3NlbmRFbWVyZ2VuY3lOb3RpZmljYXRpb24iLCJlbWVyZ2VuY3kiLCJ0eXBlIiwiTm90aWZpY2F0aW9uVHlwZSIsIlVSR0VOVF9BTEVSVCIsIk5vdGlmaWNhdGlvbkNhdGVnb3J5IiwiVVJHRU5UIiwidGl0bGUiLCJhY3Rpb25zIiwibWFwIiwiYWN0aW9uIiwicmVxdWlyZXNBY2siLCJ0cmFja0VtZXJnZW5jeU5vdGlmaWNhdGlvbiIsInNlbmRFbWVyZ2VuY3lOb3RpZmljYXRpb24iLCJfeDMiLCJfaGFuZGxlTm90aWZpY2F0aW9uQWN0aW9uIiwiaGFwdGljTWFuYWdlciIsInRyaWdnZXIiLCJIYXB0aWNVdGlscyIsInNldHRpbmdUb2dnbGUiLCJzb3VuZE1hbmFnZXIiLCJwbGF5VUlTb3VuZCIsImhhbmRsZUFjdGlvbiIsImhhbmRsZU5vdGlmaWNhdGlvbkFjdGlvbiIsIl94NCIsIl94NSIsIl9jYW5jZWxOb3RpZmljYXRpb24iLCJmaWx0ZXIiLCJpdGVtIiwiY2FuY2VsU2NoZWR1bGVkTm90aWZpY2F0aW9uIiwiY2FuY2VsU2NoZWR1bGVkTm90aWZpY2F0aW9uQXN5bmMiLCJjYW5jZWxOb3RpZmljYXRpb24iLCJfeDYiLCJfZ2V0VXNlclByZWZlcmVuY2VzIiwiX3g3IiwiX3VwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsImNhbmNlbFVzZXJOb3RpZmljYXRpb25zIiwiX3g4IiwiX3g5IiwiZ2V0U3RhdHVzIiwiX3Rlc3ROb3RpZmljYXRpb24iLCJ0ZXN0Tm90aWZpY2F0aW9uIiwiUVVJQ0tfUkVNSU5ERVIiLCJSRU1JTkRFUlMiLCJOb3RpZmljYXRpb25Qcmlvcml0eSIsIk5PUk1BTCIsIl9kaXNwb3NlIiwiYXBwU3RhdGVTdWJzY3JpcHRpb24iLCJyZW1vdmUiLCJwdXNoVG9rZW5MaXN0ZW5lciIsIm5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXIiLCJub3RpZmljYXRpb25SZXNwb25zZUxpc3RlbmVyIiwiZGlzcG9zZSIsInByb2Nlc3NBbmFseXRpY3MiLCJfY29uZmlndXJlTm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbkhhbmRsZXIiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJfaGFuZGxlTm90aWZpY2F0aW9uIiwic2hvdWxkU2hvd0FsZXJ0Iiwic2hvdWxkUGxheVNvdW5kIiwic2hvdWxkU2V0QmFkZ2UiLCJfZ2V0RGV2aWNlQ2FwYWJpbGl0aWVzIiwiY2FuU2NoZWR1bGUiLCJpc0RldmljZSIsImNhbkJhZGdlIiwiY2FuU291bmQiLCJjYW5WaWJyYXRlIiwiY2FuRGVlcExpbmsiLCJfcmVxdWVzdFBlcm1pc3Npb25zIiwiX3lpZWxkJE5vdGlmaWNhdGlvbnMkIiwiZ2V0UGVybWlzc2lvbnNBc3luYyIsImV4aXN0aW5nU3RhdHVzIiwiZmluYWxTdGF0dXMiLCJfeWllbGQkTm90aWZpY2F0aW9ucyQyIiwicmVxdWVzdFBlcm1pc3Npb25zQXN5bmMiLCJfZ2V0UHVzaFRva2VuIiwidG9rZW4iLCJnZXRFeHBvUHVzaFRva2VuQXN5bmMiLCJ3YXJuIiwidW5kZWZpbmVkIiwiX2dldFNtYXJ0U2NoZWR1bGUiLCJzbWFydFNjaGVkdWxpbmciLCJjb250ZXh0IiwiY3VycmVudFRpbWUiLCJ1c2VyQWN0aXZpdHkiLCJnZXRVc2VyQWN0aXZpdHkiLCJkZXZpY2VTdGF0ZSIsImdldERldmljZVN0YXRlIiwibm90aWZpY2F0aW9uSGlzdG9yeSIsImdldE5vdGlmaWNhdGlvbkhpc3RvcnkiLCJfeDAiLCJfeDEiLCJfY3JlYXRlUGxhdGZvcm1Ob3RpZmljYXRpb24iLCJiYXNlTm90aWZpY2F0aW9uIiwic291bmQiLCJnZXROb3RpZmljYXRpb25Tb3VuZCIsImJhZGdlIiwiZ2V0Tm90aWZpY2F0aW9uQmFkZ2UiLCJjYXRlZ29yeUlkZW50aWZpZXIiLCJpb3MiLCJpbnRlcnJ1cHRpb25MZXZlbCIsImdldElPU0ludGVycnVwdGlvbkxldmVsIiwiYW5kcm9pZCIsImNoYW5uZWxJZCIsImdldEFuZHJvaWRDaGFubmVsSWQiLCJzbWFsbEljb24iLCJnZXRBbmRyb2lkSWNvbiIsImdldEFuZHJvaWRQcmlvcml0eSIsInZpc2liaWxpdHkiLCJfeDEwIiwic291bmRNYXAiLCJfZGVmaW5lUHJvcGVydHkyIiwiTE9XIiwiSElHSCIsIkFDSElFVkVNRU5UUyIsImNoYW5uZWxNYXAiLCJUSU1FUlMiLCJNT1RJVkFUSU9OQUwiLCJDVVNUT00iLCJwcmlvcml0eU1hcCIsIl9zZXR1cExpc3RlbmVycyIsIl90aGlzIiwiQXBwU3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX3JlZiIsIm5leHRBcHBTdGF0ZSIsImhhbmRsZUFwcEZvcmVncm91bmQiLCJoYW5kbGVBcHBCYWNrZ3JvdW5kIiwiX3gxMSIsImFkZFB1c2hUb2tlbkxpc3RlbmVyIiwiX3JlZjIiLCJoYW5kbGVQdXNoVG9rZW5VcGRhdGUiLCJfeDEyIiwiYWRkTm90aWZpY2F0aW9uUmVjZWl2ZWRMaXN0ZW5lciIsIl9yZWYzIiwiaGFuZGxlTm90aWZpY2F0aW9uUmVjZWl2ZWQiLCJfeDEzIiwiYWRkTm90aWZpY2F0aW9uUmVzcG9uc2VSZWNlaXZlZExpc3RlbmVyIiwiX3JlZjQiLCJyZXNwb25zZSIsImhhbmRsZU5vdGlmaWNhdGlvblJlc3BvbnNlIiwiX3gxNCIsIl9oYW5kbGVOb3RpZmljYXRpb25SZWNlaXZlZCIsIl9ub3RpZmljYXRpb24kcmVxdWVzdCIsIl9ub3RpZmljYXRpb24kcmVxdWVzdDIiLCJyZXF1ZXN0IiwiaWRlbnRpZmllciIsImNvbnRlbnQiLCJ0cmFja05vdGlmaWNhdGlvbkRlbGl2ZXJlZCIsImhhcHRpY1R5cGUiLCJnZXROb3RpZmljYXRpb25IYXB0aWNUeXBlIiwic291bmRUeXBlIiwiZ2V0Tm90aWZpY2F0aW9uU291bmRUeXBlIiwicGxheVNvdW5kIiwic3RvcmVOb3RpZmljYXRpb25IaXN0b3J5IiwiX3gxNSIsIl9oYW5kbGVOb3RpZmljYXRpb25SZXNwb25zZSIsImFjdGlvbklkIiwiYWN0aW9uSWRlbnRpZmllciIsIm1hcE5vdGlmaWNhdGlvbkFjdGlvbklkIiwidHJhY2tOb3RpZmljYXRpb25DbGlja2VkIiwiX3gxNiIsIl9oYW5kbGVBcHBGb3JlZ3JvdW5kIiwiX2hhbmRsZUFwcEJhY2tncm91bmQiLCJfaGFuZGxlUHVzaFRva2VuVXBkYXRlIiwicmVnaXN0ZXJQdXNoVG9rZW5XaXRoQmFja2VuZCIsIl94MTciLCJfcHJvY2Vzc1F1ZXVlIiwibm93IiwicmVhZHlOb3RpZmljYXRpb25zIiwicHJvY2Vzc05vdGlmaWNhdGlvbiIsImluY2x1ZGVzIiwiX3Byb2Nlc3NOb3RpZmljYXRpb24iLCJzY2hlZHVsZU5vdGlmaWNhdGlvbkFzeW5jIiwiYm9keSIsInRocmVhZElkZW50aWZpZXIiLCJfeDE4IiwiX3Byb2Nlc3NBbmFseXRpY3MiLCJhbmFseXRpY3MiLCJzcGxpY2UiLCJsZW5ndGgiLCJjb3VudCIsIl90aGlzMiIsInNldEludGVydmFsIiwiX3RyYWNrTm90aWZpY2F0aW9uU2NoZWR1bGVkIiwic2VudEF0IiwiX3gxOSIsIl90cmFja05vdGlmaWNhdGlvbkRlbGl2ZXJlZCIsIl94MjAiLCJfdHJhY2tOb3RpZmljYXRpb25DbGlja2VkIiwiX3gyMSIsIl90cmFja0VtZXJnZW5jeU5vdGlmaWNhdGlvbiIsIl94MjIiLCJfZ2V0VXNlckFjdGl2aXR5IiwiaXNGb2N1c2VkIiwiaXNJbk1lZXRpbmciLCJsYXN0QWN0aXZpdHkiLCJfeDIzIiwiX2dldERldmljZVN0YXRlIiwiYmF0dGVyeUxldmVsIiwiaXNDaGFyZ2luZyIsImlzTG93UG93ZXJNb2RlIiwiX2dldE5vdGlmaWNhdGlvbkhpc3RvcnkiLCJfeDI0IiwiX2NhbmNlbFVzZXJOb3RpZmljYXRpb25zIiwiY2FuY2VsQWxsU2NoZWR1bGVkTm90aWZpY2F0aW9uc0FzeW5jIiwiX3gyNSIsIl9yZWdpc3RlclB1c2hUb2tlbldpdGhCYWNrZW5kIiwiX3gyNiIsIk5vdGlmaWNhdGlvbkFjdGlvbiIsIlZJRVdfVElNRVIiLCJTVEFSVF9TRVNTSU9OIiwiRElTTUlTUyIsIl9zdG9yZU5vdGlmaWNhdGlvbkhpc3RvcnkiLCJoaXN0b3J5IiwiX3gyNyIsImRlYnVnIiwiX19ERVZfXyIsImJhdGNoU2l6ZSIsImJhdGNoSW50ZXJ2YWwiLCJxdWV1ZVNpemUiLCJwcm9jZXNzaW5nSW50ZXJ2YWwiLCJoZWFsdGhDaGVja0ludGVydmFsIiwiYWlFbmFibGVkIiwiY29udGV4dFdpbmRvdyIsInBsYXRmb3JtcyIsImNyaXRpY2FsQWxlcnRzRW5hYmxlZCIsIm5vdGlmaWNhdGlvbkdyb3VwcyIsInNjaGVkdWxlZERlbGl2ZXJ5IiwiY2hhbm5lbEltcG9ydGFuY2UiLCJ2aWJyYXRpb25QYXR0ZXJuIiwibG9ja1NjcmVlblZpc2liaWxpdHkiLCJ3ZWIiLCJzZXJ2aWNlV29ya2VyUGF0aCIsIm1hbmlmZXN0UGF0aCIsImljb25TaXplcyIsImludGVncmF0aW9ucyIsImNyYXNoUmVwb3J0aW5nIiwidXNlckZlZWRiYWNrIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsIm5vdGlmaWNhdGlvblNlcnZpY2UiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIk5vdGlmaWNhdGlvblNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3JlIE5vdGlmaWNhdGlvbiBTZXJ2aWNlIGZvciBPZmZTY3JlZW4gQnVkZHlcbiAqIEhhbmRsZXMgcHVzaCBub3RpZmljYXRpb25zLCBsb2NhbCBzY2hlZHVsaW5nLCBhbmQgdXNlciBwcmVmZXJlbmNlc1xuICovXG5cbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbnMgZnJvbSAnZXhwby1ub3RpZmljYXRpb25zJztcbmltcG9ydCAqIGFzIERldmljZSBmcm9tICdleHBvLWRldmljZSc7XG5pbXBvcnQgeyBQbGF0Zm9ybSwgQXBwU3RhdGUsIExpbmtpbmcgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tICdAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZSc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0IHtcbiAgICBOb3RpZmljYXRpb25UeXBlLFxuICAgIE5vdGlmaWNhdGlvbkNhdGVnb3J5LFxuICAgIE5vdGlmaWNhdGlvblByaW9yaXR5LFxuICAgIE5vdGlmaWNhdGlvbkFjdGlvbixcbiAgICBOb3RpZmljYXRpb25TdGF0dXMsXG4gICAgTm90aWZpY2F0aW9uRGF0YSxcbiAgICBQbGF0Zm9ybU5vdGlmaWNhdGlvbkRhdGEsXG4gICAgTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMsXG4gICAgTm90aWZpY2F0aW9uQW5hbHl0aWNzLFxuICAgIE5vdGlmaWNhdGlvblJlc3VsdCxcbiAgICBOb3RpZmljYXRpb25FcnJvcixcbiAgICBOb3RpZmljYXRpb25RdWV1ZUl0ZW0sXG4gICAgUHVzaFRva2VuLFxuICAgIFNjaGVkdWxlUmVzdWx0LFxuICAgIFNtYXJ0U2NoZWR1bGVDb250ZXh0LFxuICAgIEFjdGlvblJlc3VsdCxcbiAgICBOb3RpZmljYXRpb25TZXJ2aWNlU3RhdHVzLFxuICAgIEVtZXJnZW5jeU5vdGlmaWNhdGlvbixcbiAgICBOb3RpZmljYXRpb25Db25maWcsXG4gICAgTm90aWZpY2F0aW9uQmF0Y2gsXG4gICAgTWVzc2FnZVRlbXBsYXRlLFxuICAgIFJpY2hOb3RpZmljYXRpb24sXG59IGZyb20gJy4vdHlwZXMnO1xuXG5pbXBvcnQgeyBOb3RpZmljYXRpb25TY2hlZHVsZXIgfSBmcm9tICcuL05vdGlmaWNhdGlvblNjaGVkdWxlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25QcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuL05vdGlmaWNhdGlvblByZWZlcmVuY2VzJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvbkFjdGlvbnMgfSBmcm9tICcuL05vdGlmaWNhdGlvbkFjdGlvbnMnO1xuaW1wb3J0IHsgaGFwdGljTWFuYWdlciwgSGFwdGljVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9IYXB0aWNNYW5hZ2VyJztcbmltcG9ydCB7IHNvdW5kTWFuYWdlciwgU291bmRVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL1NvdW5kTWFuYWdlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi91dGlscy9Mb2dnZXInO1xuaW1wb3J0IHsgZ2V0U21hcnRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vYXNzZXRzL2NvbnN0YW50cy9ub3RpZmljYXRpb25zJztcblxuLyoqXG4gKiBDb3JlIE5vdGlmaWNhdGlvbiBTZXJ2aWNlXG4gKiBIYW5kbGVzIGFsbCBub3RpZmljYXRpb24gb3BlcmF0aW9ucyBpbmNsdWRpbmcgcHVzaCBub3RpZmljYXRpb25zLCBzY2hlZHVsaW5nLCBhbmQgdXNlciBtYW5hZ2VtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTm90aWZpY2F0aW9uU2VydmljZTtcbiAgICBwcml2YXRlIHNjaGVkdWxlcjogTm90aWZpY2F0aW9uU2NoZWR1bGVyO1xuICAgIHByaXZhdGUgcHJlZmVyZW5jZXNTZXJ2aWNlOiBOb3RpZmljYXRpb25QcmVmZXJlbmNlc1NlcnZpY2U7XG4gICAgcHJpdmF0ZSBhY3Rpb25zSGFuZGxlcjogTm90aWZpY2F0aW9uQWN0aW9ucztcbiAgICBwcml2YXRlIGxvZ2dlciA9IGxvZ2dlcjtcbiAgICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIHN0YXR1czogTm90aWZpY2F0aW9uU2VydmljZVN0YXR1cztcbiAgICBwcml2YXRlIGNvbmZpZzogTm90aWZpY2F0aW9uQ29uZmlnO1xuICAgIHByaXZhdGUgbm90aWZpY2F0aW9uUXVldWU6IE5vdGlmaWNhdGlvblF1ZXVlSXRlbVtdID0gW107XG4gICAgcHJpdmF0ZSBhbmFseXRpY3NRdWV1ZTogTm90aWZpY2F0aW9uQW5hbHl0aWNzW10gPSBbXTtcbiAgICBwcml2YXRlIGFwcFN0YXRlU3Vic2NyaXB0aW9uPzogYW55O1xuICAgIHByaXZhdGUgcHVzaFRva2VuTGlzdGVuZXI/OiBhbnk7XG4gICAgcHJpdmF0ZSBub3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyPzogYW55O1xuICAgIHByaXZhdGUgbm90aWZpY2F0aW9uUmVzcG9uc2VMaXN0ZW5lcj86IGFueTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbmV3IE5vdGlmaWNhdGlvblNjaGVkdWxlcih0aGlzKTtcbiAgICAgICAgdGhpcy5wcmVmZXJlbmNlc1NlcnZpY2UgPSBuZXcgTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTZXJ2aWNlKCk7XG4gICAgICAgIHRoaXMuYWN0aW9uc0hhbmRsZXIgPSBuZXcgTm90aWZpY2F0aW9uQWN0aW9ucygpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHRoaXMuZ2V0RGVmYXVsdFN0YXR1cygpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuZ2V0RGVmYXVsdENvbmZpZygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogTm90aWZpY2F0aW9uU2VydmljZSB7XG4gICAgICAgIGlmICghTm90aWZpY2F0aW9uU2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5pbnN0YW5jZSA9IG5ldyBOb3RpZmljYXRpb25TZXJ2aWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvblNlcnZpY2UuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgbm90aWZpY2F0aW9uIHNlcnZpY2VcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDx2b2lkPj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnSW5pdGlhbGl6aW5nIE5vdGlmaWNhdGlvbiBTZXJ2aWNlLi4uJyk7XG5cbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSBub3RpZmljYXRpb25zXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNvbmZpZ3VyZU5vdGlmaWNhdGlvbnMoKTtcblxuICAgICAgICAgICAgLy8gR2V0IGRldmljZSBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IGF3YWl0IHRoaXMuZ2V0RGV2aWNlQ2FwYWJpbGl0aWVzKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHBlcm1pc3Npb25zXG4gICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uUmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0UGVybWlzc2lvbnMoKTtcblxuICAgICAgICAgICAgLy8gR2V0IHB1c2ggdG9rZW4gaWYgcGVybWlzc2lvbnMgZ3JhbnRlZFxuICAgICAgICAgICAgbGV0IHB1c2hUb2tlbjogUHVzaFRva2VuIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25SZXN1bHQuc3VjY2VzcyAmJiBwZXJtaXNzaW9uUmVzdWx0LmRhdGE/LmdyYW50ZWQpIHtcbiAgICAgICAgICAgICAgICBwdXNoVG9rZW4gPSBhd2FpdCB0aGlzLmdldFB1c2hUb2tlbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhdHVzXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogcGVybWlzc2lvblJlc3VsdC5kYXRhIHx8IHsgZ3JhbnRlZDogZmFsc2UsIHN0YXR1czogJ3VuZGV0ZXJtaW5lZCcgfSxcbiAgICAgICAgICAgICAgICBwdXNoVG9rZW4sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZDogISFwdXNoVG9rZW4sXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IFBsYXRmb3JtLk9TLFxuICAgICAgICAgICAgICAgIGNhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICAgICBsYXN0SGVhbHRoQ2hlY2s6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGRlcGVuZGVudCBzZXJ2aWNlc1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLmluaXRpYWxpemUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzU2VydmljZS5pbml0aWFsaXplKCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgLy8gU2V0dXAgbGlzdGVuZXJzXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldHVwTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGJhY2tncm91bmQgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgdGhpcy5zdGFydEJhY2tncm91bmRQcm9jZXNzaW5nKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb24gU2VydmljZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBub3RpZmljYXRpb24gc2VydmljZTonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6ICdJTklUX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBub3RpZmljYXRpb24gc2VydmljZScsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLCByZXF1ZXN0SWQ6IHV1aWR2NCgpIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGUgYSBub3RpZmljYXRpb24gd2l0aCBzbWFydCB0aW1pbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2NoZWR1bGVOb3RpZmljYXRpb24oXG4gICAgICAgIG5vdGlmaWNhdGlvbjogT21pdDxOb3RpZmljYXRpb25EYXRhLCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz5cbiAgICApOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDxzdHJpbmc+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90aWZpY2F0aW9uIHNlcnZpY2Ugbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb21wbGV0ZSBub3RpZmljYXRpb24gZGF0YVxuICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uRGF0YTogTm90aWZpY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAuLi5ub3RpZmljYXRpb24sXG4gICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDaGVjayB1c2VyIHByZWZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHRoaXMucHJlZmVyZW5jZXNTZXJ2aWNlLmdldFVzZXJQcmVmZXJlbmNlcyhub3RpZmljYXRpb24udXNlcklkKTtcbiAgICAgICAgICAgIGlmICghcHJlZmVyZW5jZXMgfHwgIXByZWZlcmVuY2VzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6ICdVU0VSX09QVEVEX09VVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVXNlciBoYXMgZGlzYWJsZWQgbm90aWZpY2F0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvdmVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGNhdGVnb3J5IHByZWZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeVByZWZzID0gcHJlZmVyZW5jZXMuY2F0ZWdvcmllc1tub3RpZmljYXRpb24uY2F0ZWdvcnldO1xuICAgICAgICAgICAgaWYgKCFjYXRlZ29yeVByZWZzPy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAnQ0FURUdPUllfRElTQUJMRUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bm90aWZpY2F0aW9uLmNhdGVnb3J5fSBub3RpZmljYXRpb25zIGFyZSBkaXNhYmxlZGAsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvdmVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBzbWFydCBzY2hlZHVsaW5nIHJlc3VsdFxuICAgICAgICAgICAgY29uc3Qgc2NoZWR1bGVSZXN1bHQgPSBhd2FpdCB0aGlzLmdldFNtYXJ0U2NoZWR1bGUobm90aWZpY2F0aW9uRGF0YSwgcHJlZmVyZW5jZXMpO1xuXG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlUmVzdWx0LnNob3VsZFNlbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb24gc2tpcHBlZCBkdWUgdG8gc21hcnQgc2NoZWR1bGluZycsIHtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSWQ6IG5vdGlmaWNhdGlvbkRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogc2NoZWR1bGVSZXN1bHQucmVhc29uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogbm90aWZpY2F0aW9uRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLCByZXF1ZXN0SWQ6IHV1aWR2NCgpIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHBsYXRmb3JtLXNwZWNpZmljIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgY29uc3QgcGxhdGZvcm1Ob3RpZmljYXRpb24gPSBhd2FpdCB0aGlzLmNyZWF0ZVBsYXRmb3JtTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICAvLyBBZGQgdG8gc2NoZWR1bGluZyBxdWV1ZVxuICAgICAgICAgICAgY29uc3QgcXVldWVJdGVtOiBOb3RpZmljYXRpb25RdWV1ZUl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG5vdGlmaWNhdGlvbkRhdGEuaWQsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IHNjaGVkdWxlUmVzdWx0LnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIHNjaGVkdWxlZFRpbWU6IHNjaGVkdWxlUmVzdWx0LnNjaGVkdWxlZFRpbWUsXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uOiBwbGF0Zm9ybU5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgICAgICAgIG1heFJldHJpZXM6IHRoaXMuY29uZmlnLm1heFJldHJpZXMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5wdXNoKHF1ZXVlSXRlbSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuXG4gICAgICAgICAgICAvLyBUcmFjayBhbmFseXRpY3NcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudHJhY2tOb3RpZmljYXRpb25TY2hlZHVsZWQobm90aWZpY2F0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBub3RpZmljYXRpb25EYXRhLmlkLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2NoZWR1bGUgbm90aWZpY2F0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJ1NDSEVEVUxFX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2NoZWR1bGUgbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGltbWVkaWF0ZSBub3RpZmljYXRpb24gKG5vIHNjaGVkdWxpbmcpXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHNlbmRJbW1lZGlhdGVOb3RpZmljYXRpb24oXG4gICAgICAgIG5vdGlmaWNhdGlvbjogT21pdDxOb3RpZmljYXRpb25EYXRhLCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz5cbiAgICApOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDxzdHJpbmc+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNjaGVkdWxlTm90aWZpY2F0aW9uKHtcbiAgICAgICAgICAgICAgICAuLi5ub3RpZmljYXRpb24sXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkRm9yOiBuZXcgRGF0ZSgpLCAvLyBJbW1lZGlhdGUgc2NoZWR1bGluZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgaW1tZWRpYXRlIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6ICdTRU5EX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2VuZCBpbW1lZGlhdGUgbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGVtZXJnZW5jeSBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2VuZEVtZXJnZW5jeU5vdGlmaWNhdGlvbihcbiAgICAgICAgZW1lcmdlbmN5OiBFbWVyZ2VuY3lOb3RpZmljYXRpb25cbiAgICApOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDxzdHJpbmc+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUuVVJHRU5UX0FMRVJULFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBOb3RpZmljYXRpb25DYXRlZ29yeS5VUkdFTlQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGVtZXJnZW5jeS50aXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlbWVyZ2VuY3kubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogZW1lcmdlbmN5LnByaW9yaXR5LFxuICAgICAgICAgICAgICAgIHVzZXJJZDogJ2VtZXJnZW5jeScsIC8vIFN5c3RlbS13aWRlIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogZW1lcmdlbmN5LmFjdGlvbnMubWFwKGFjdGlvbiA9PiBhY3Rpb24uYWN0aW9uKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VuZEltbWVkaWF0ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgZW1lcmdlbmN5LnJlcXVpcmVzQWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgZW1lcmdlbmN5IGZvciBhbmFseXRpY3NcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRyYWNrRW1lcmdlbmN5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgZW1lcmdlbmN5IG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6ICdFTUVSR0VOQ1lfRkFJTEVEJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBzZW5kIGVtZXJnZW5jeSBub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBub3RpZmljYXRpb24gYWN0aW9uXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGhhbmRsZU5vdGlmaWNhdGlvbkFjdGlvbihcbiAgICAgICAgYWN0aW9uOiBOb3RpZmljYXRpb25BY3Rpb24sXG4gICAgICAgIGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0hhbmRsaW5nIG5vdGlmaWNhdGlvbiBhY3Rpb24nLCB7IGFjdGlvbiwgZGF0YSB9KTtcblxuICAgICAgICAgICAgLy8gVHJpZ2dlciBoYXB0aWMgZmVlZGJhY2tcbiAgICAgICAgICAgIGF3YWl0IGhhcHRpY01hbmFnZXIudHJpZ2dlcihIYXB0aWNVdGlscy5zZXR0aW5nVG9nZ2xlKTtcblxuICAgICAgICAgICAgLy8gUGxheSBzb3VuZFxuICAgICAgICAgICAgYXdhaXQgc291bmRNYW5hZ2VyLnBsYXlVSVNvdW5kKCdidXR0b24nKTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBhY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYWN0aW9uc0hhbmRsZXIuaGFuZGxlQWN0aW9uKGFjdGlvbiwgZGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGhhbmRsZSBub3RpZmljYXRpb24gYWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIG5vdGlmaWNhdGlvbiBhY3Rpb24nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbCBzY2hlZHVsZWQgbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGNhbmNlbE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxOb3RpZmljYXRpb25SZXN1bHQ8dm9pZD4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlID0gdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBub3RpZmljYXRpb25JZCk7XG5cbiAgICAgICAgICAgIC8vIENhbmNlbCBpbiBzY2hlZHVsZXJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2NoZWR1bGVyLmNhbmNlbFNjaGVkdWxlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZCk7XG5cbiAgICAgICAgICAgIC8vIENhbmNlbCBpbiBFeHBvIGlmIGFscmVhZHkgc2NoZWR1bGVkXG4gICAgICAgICAgICBhd2FpdCBOb3RpZmljYXRpb25zLmNhbmNlbFNjaGVkdWxlZE5vdGlmaWNhdGlvbkFzeW5jKG5vdGlmaWNhdGlvbklkKTtcblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnTm90aWZpY2F0aW9uIGNhbmNlbGxlZCcsIHsgbm90aWZpY2F0aW9uSWQgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNhbmNlbCBub3RpZmljYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnQ0FOQ0VMX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY2FuY2VsIG5vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLCByZXF1ZXN0SWQ6IHV1aWR2NCgpIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHVzZXIncyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0VXNlclByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxOb3RpZmljYXRpb25SZXN1bHQ8Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXM+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHRoaXMucHJlZmVyZW5jZXNTZXJ2aWNlLmdldFVzZXJQcmVmZXJlbmNlcyh1c2VySWQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHVzZXIgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnR0VUX1BSRUZTX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZ2V0IHVzZXIgcHJlZmVyZW5jZXMnLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB1c2VyIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVVc2VyUHJlZmVyZW5jZXMoXG4gICAgICAgIHVzZXJJZDogc3RyaW5nLFxuICAgICAgICBwcmVmZXJlbmNlczogUGFydGlhbDxOb3RpZmljYXRpb25QcmVmZXJlbmNlcz5cbiAgICApOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDx2b2lkPj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcmVmZXJlbmNlc1NlcnZpY2UudXBkYXRlVXNlclByZWZlcmVuY2VzKHVzZXJJZCwgcHJlZmVyZW5jZXMpO1xuXG4gICAgICAgICAgICAvLyBJZiBub3RpZmljYXRpb25zIHdlcmUgZGlzYWJsZWQsIGNhbmNlbCBwZW5kaW5nIG5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgIGlmIChwcmVmZXJlbmNlcy5lbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FuY2VsVXNlck5vdGlmaWNhdGlvbnModXNlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnVXNlciBwcmVmZXJlbmNlcyB1cGRhdGVkJywgeyB1c2VySWQgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJ1VQREFURV9QUkVGU19GQUlMRUQnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHByZWZlcmVuY2VzJyxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2VydmljZSBzdGF0dXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RhdHVzKCk6IE5vdGlmaWNhdGlvblNlcnZpY2VTdGF0dXMge1xuICAgICAgICByZXR1cm4geyAuLi50aGlzLnN0YXR1cyB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgbm90aWZpY2F0aW9uIGZ1bmN0aW9uYWxpdHlcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgdGVzdE5vdGlmaWNhdGlvbigpOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3VsdDx2b2lkPj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGVzdE5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgICAgdHlwZTogTm90aWZpY2F0aW9uVHlwZS5RVUlDS19SRU1JTkRFUixcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogTm90aWZpY2F0aW9uQ2F0ZWdvcnkuUkVNSU5ERVJTLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnTm90aWZpY2F0aW9uIFRlc3QnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIGlzIGEgdGVzdCBub3RpZmljYXRpb24gZnJvbSBPZmZTY3JlZW4gQnVkZHkhJyxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogTm90aWZpY2F0aW9uUHJpb3JpdHkuTk9STUFMLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlcicsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VuZEltbWVkaWF0ZU5vdGlmaWNhdGlvbih0ZXN0Tm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgdGVzdCBub3RpZmljYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnVEVTVF9GQUlMRUQnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHNlbmQgdGVzdCBub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2Ygc2VydmljZSByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0Rpc3Bvc2luZyBOb3RpZmljYXRpb24gU2VydmljZS4uLicpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBTdGF0ZVN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwU3RhdGVTdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wdXNoVG9rZW5MaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFRva2VuTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9uUmVzcG9uc2VMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uUmVzcG9uc2VMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGlzcG9zZSBzZXJ2aWNlc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zY2hlZHVsZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcmVmZXJlbmNlc1NlcnZpY2UuZGlzcG9zZSgpO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHJlbWFpbmluZyBhbmFseXRpY3NcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0FuYWx5dGljcygpO1xuXG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ05vdGlmaWNhdGlvbiBTZXJ2aWNlIGRpc3Bvc2VkJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZHVyaW5nIGRpc3Bvc2FsOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFByaXZhdGUgbWV0aG9kc1xuXG4gICAgcHJpdmF0ZSBhc3luYyBjb25maWd1cmVOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDb25maWd1cmUgRXhwbyBOb3RpZmljYXRpb25zXG4gICAgICAgIE5vdGlmaWNhdGlvbnMuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICBoYW5kbGVOb3RpZmljYXRpb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICAgICAgc2hvdWxkU2hvd0FsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3VsZFBsYXlTb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRCYWRnZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldERldmljZUNhcGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhblNjaGVkdWxlOiBEZXZpY2UuaXNEZXZpY2UgJiYgUGxhdGZvcm0uT1MgIT09ICd3ZWInLFxuICAgICAgICAgICAgY2FuQmFkZ2U6IFBsYXRmb3JtLk9TICE9PSAnd2ViJyxcbiAgICAgICAgICAgIGNhblNvdW5kOiB0cnVlLFxuICAgICAgICAgICAgY2FuVmlicmF0ZTogUGxhdGZvcm0uT1MgIT09ICd3ZWInLFxuICAgICAgICAgICAgY2FuRGVlcExpbms6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0UGVybWlzc2lvbnMoKTogUHJvbWlzZTxOb3RpZmljYXRpb25SZXN1bHQ8eyBncmFudGVkOiBib29sZWFuOyBzdGF0dXM6IHN0cmluZyB9Pj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0dXM6IGV4aXN0aW5nU3RhdHVzIH0gPSBhd2FpdCBOb3RpZmljYXRpb25zLmdldFBlcm1pc3Npb25zQXN5bmMoKTtcbiAgICAgICAgICAgIGxldCBmaW5hbFN0YXR1cyA9IGV4aXN0aW5nU3RhdHVzO1xuXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTdGF0dXMgIT09ICdncmFudGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSBhd2FpdCBOb3RpZmljYXRpb25zLnJlcXVlc3RQZXJtaXNzaW9uc0FzeW5jKCk7XG4gICAgICAgICAgICAgICAgZmluYWxTdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGdyYW50ZWQ6IGZpbmFsU3RhdHVzID09PSAnZ3JhbnRlZCcsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZmluYWxTdGF0dXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCksIHJlcXVlc3RJZDogdXVpZHY0KCkgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6ICdQRVJNSVNTSU9OX0ZBSUxFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcmVxdWVzdCBub3RpZmljYXRpb24gcGVybWlzc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmVxdWVzdElkOiB1dWlkdjQoKSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0UHVzaFRva2VuKCk6IFByb21pc2U8UHVzaFRva2VuIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IE5vdGlmaWNhdGlvbnMuZ2V0RXhwb1B1c2hUb2tlbkFzeW5jKCk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4uZGF0YTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0ZhaWxlZCB0byBnZXQgcHVzaCB0b2tlbjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRTbWFydFNjaGVkdWxlKFxuICAgICAgICBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbkRhdGEsXG4gICAgICAgIHByZWZlcmVuY2VzOiBOb3RpZmljYXRpb25QcmVmZXJlbmNlc1xuICAgICk6IFByb21pc2U8U2NoZWR1bGVSZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghcHJlZmVyZW5jZXMuc21hcnRTY2hlZHVsaW5nLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgZGVmYXVsdCBzY2hlZHVsaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkVGltZTogbm90aWZpY2F0aW9uLnNjaGVkdWxlZEZvciB8fCBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogbm90aWZpY2F0aW9uLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEZWZhdWx0IHNjaGVkdWxpbmcnLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRTZW5kOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IFNtYXJ0U2NoZWR1bGVDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJJZDogbm90aWZpY2F0aW9uLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHk6IGF3YWl0IHRoaXMuZ2V0VXNlckFjdGl2aXR5KG5vdGlmaWNhdGlvbi51c2VySWQpLFxuICAgICAgICAgICAgICAgIGRldmljZVN0YXRlOiBhd2FpdCB0aGlzLmdldERldmljZVN0YXRlKCksXG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSGlzdG9yeTogYXdhaXQgdGhpcy5nZXROb3RpZmljYXRpb25IaXN0b3J5KG5vdGlmaWNhdGlvbi51c2VySWQpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2NoZWR1bGVyLmdldFNtYXJ0U2NoZWR1bGUobm90aWZpY2F0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHNtYXJ0IHNjaGVkdWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGltbWVkaWF0ZSBzY2hlZHVsaW5nXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlZFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IG5vdGlmaWNhdGlvbi5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICByZWFzb246ICdGYWxsYmFjayB0byBpbW1lZGlhdGUgc2NoZWR1bGluZycsXG4gICAgICAgICAgICAgICAgc2hvdWxkU2VuZDogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZVBsYXRmb3JtTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uRGF0YSk6IFByb21pc2U8UGxhdGZvcm1Ob3RpZmljYXRpb25EYXRhPiB7XG4gICAgICAgIGNvbnN0IGJhc2VOb3RpZmljYXRpb246IFBsYXRmb3JtTm90aWZpY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgIC4uLm5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgIC8vIENvbW1vbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBzb3VuZDogdGhpcy5nZXROb3RpZmljYXRpb25Tb3VuZChub3RpZmljYXRpb24pLFxuICAgICAgICAgICAgYmFkZ2U6IHRoaXMuZ2V0Tm90aWZpY2F0aW9uQmFkZ2Uobm90aWZpY2F0aW9uKSxcbiAgICAgICAgICAgIGNhdGVnb3J5SWRlbnRpZmllcjogbm90aWZpY2F0aW9uLmNhdGVnb3J5LFxuXG4gICAgICAgICAgICAvLyBQbGF0Zm9ybS1zcGVjaWZpYyBjb25maWd1cmF0aW9uc1xuICAgICAgICAgICAgaW9zOiB7XG4gICAgICAgICAgICAgICAgc291bmQ6IG5vdGlmaWNhdGlvbi5zb3VuZCxcbiAgICAgICAgICAgICAgICBiYWRnZTogbm90aWZpY2F0aW9uLmJhZGdlLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SWRlbnRpZmllcjogbm90aWZpY2F0aW9uLmNhdGVnb3J5SWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRpb25MZXZlbDogdGhpcy5nZXRJT1NJbnRlcnJ1cHRpb25MZXZlbChub3RpZmljYXRpb24ucHJpb3JpdHkpLFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogdGhpcy5nZXRBbmRyb2lkQ2hhbm5lbElkKG5vdGlmaWNhdGlvbi5jYXRlZ29yeSksXG4gICAgICAgICAgICAgICAgc21hbGxJY29uOiB0aGlzLmdldEFuZHJvaWRJY29uKCksXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IHRoaXMuZ2V0QW5kcm9pZFByaW9yaXR5KG5vdGlmaWNhdGlvbi5wcmlvcml0eSksXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3ByaXZhdGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYmFzZU5vdGlmaWNhdGlvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE5vdGlmaWNhdGlvblNvdW5kKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uRGF0YSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNvdW5kTWFwID0ge1xuICAgICAgICAgICAgW05vdGlmaWNhdGlvblByaW9yaXR5LkxPV106ICdnZW50bGUnLFxuICAgICAgICAgICAgW05vdGlmaWNhdGlvblByaW9yaXR5Lk5PUk1BTF06ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIFtOb3RpZmljYXRpb25Qcmlvcml0eS5ISUdIXTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIFtOb3RpZmljYXRpb25Qcmlvcml0eS5VUkdFTlRdOiAnY3JpdGljYWwnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzb3VuZE1hcFtub3RpZmljYXRpb24ucHJpb3JpdHldIHx8ICdkZWZhdWx0JztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE5vdGlmaWNhdGlvbkJhZGdlKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uRGF0YSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBub3RpZmljYXRpb24uY2F0ZWdvcnkgPT09IE5vdGlmaWNhdGlvbkNhdGVnb3J5LkFDSElFVkVNRU5UUyA/IDEgOiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SU9TSW50ZXJydXB0aW9uTGV2ZWwocHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5KTogJ2FjdGl2ZScgfCAndGltZS1zZW5zaXRpdmUnIHwgJ3Bhc3NpdmUnIHtcbiAgICAgICAgc3dpdGNoIChwcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25Qcmlvcml0eS5VUkdFTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aW1lLXNlbnNpdGl2ZSc7XG4gICAgICAgICAgICBjYXNlIE5vdGlmaWNhdGlvblByaW9yaXR5LkhJR0g6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhY3RpdmUnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3Bhc3NpdmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBbmRyb2lkQ2hhbm5lbElkKGNhdGVnb3J5OiBOb3RpZmljYXRpb25DYXRlZ29yeSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxNYXAgPSB7XG4gICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuVElNRVJTXTogJ3RpbWVyX2NoYW5uZWwnLFxuICAgICAgICAgICAgW05vdGlmaWNhdGlvbkNhdGVnb3J5LkFDSElFVkVNRU5UU106ICdhY2hpZXZlbWVudF9jaGFubmVsJyxcbiAgICAgICAgICAgIFtOb3RpZmljYXRpb25DYXRlZ29yeS5SRU1JTkRFUlNdOiAncmVtaW5kZXJfY2hhbm5lbCcsXG4gICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuTU9USVZBVElPTkFMXTogJ21vdGl2YXRpb25fY2hhbm5lbCcsXG4gICAgICAgICAgICBbTm90aWZpY2F0aW9uQ2F0ZWdvcnkuVVJHRU5UXTogJ3VyZ2VudF9jaGFubmVsJyxcbiAgICAgICAgICAgIFtOb3RpZmljYXRpb25DYXRlZ29yeS5DVVNUT01dOiAnY3VzdG9tX2NoYW5uZWwnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjaGFubmVsTWFwW2NhdGVnb3J5XSB8fCAnZGVmYXVsdF9jaGFubmVsJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEFuZHJvaWRJY29uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnID8gJ2ljX25vdGlmaWNhdGlvbicgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBbmRyb2lkUHJpb3JpdHkocHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5KTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcHJpb3JpdHlNYXAgPSB7XG4gICAgICAgICAgICBbTm90aWZpY2F0aW9uUHJpb3JpdHkuTE9XXTogMSxcbiAgICAgICAgICAgIFtOb3RpZmljYXRpb25Qcmlvcml0eS5OT1JNQUxdOiAyLFxuICAgICAgICAgICAgW05vdGlmaWNhdGlvblByaW9yaXR5LkhJR0hdOiAzLFxuICAgICAgICAgICAgW05vdGlmaWNhdGlvblByaW9yaXR5LlVSR0VOVF06IDQsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHByaW9yaXR5TWFwW3ByaW9yaXR5XSB8fCAyO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBMaXN0ZW5lcnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEFwcCBzdGF0ZSBsaXN0ZW5lclxuICAgICAgICB0aGlzLmFwcFN0YXRlU3Vic2NyaXB0aW9uID0gQXBwU3RhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYXN5bmMgKG5leHRBcHBTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5leHRBcHBTdGF0ZSA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUFwcEZvcmVncm91bmQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEFwcFN0YXRlID09PSAnYmFja2dyb3VuZCcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUFwcEJhY2tncm91bmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHVzaCB0b2tlbiBsaXN0ZW5lclxuICAgICAgICB0aGlzLnB1c2hUb2tlbkxpc3RlbmVyID0gTm90aWZpY2F0aW9ucy5hZGRQdXNoVG9rZW5MaXN0ZW5lcihhc3luYyAodG9rZW4pID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlUHVzaFRva2VuVXBkYXRlKHRva2VuLmRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBOb3RpZmljYXRpb24gcmVjZWl2ZWQgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyID0gTm90aWZpY2F0aW9ucy5hZGROb3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyKFxuICAgICAgICAgICAgYXN5bmMgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlTm90aWZpY2F0aW9uUmVjZWl2ZWQobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBOb3RpZmljYXRpb24gcmVzcG9uc2UgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25SZXNwb25zZUxpc3RlbmVyID0gTm90aWZpY2F0aW9ucy5hZGROb3RpZmljYXRpb25SZXNwb25zZVJlY2VpdmVkTGlzdGVuZXIoXG4gICAgICAgICAgICBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZU5vdGlmaWNhdGlvblJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZU5vdGlmaWNhdGlvblJlY2VpdmVkKG5vdGlmaWNhdGlvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb24gcmVjZWl2ZWQnLCB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSWQ6IG5vdGlmaWNhdGlvbi5yZXF1ZXN0Py5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBub3RpZmljYXRpb24ucmVxdWVzdD8uY29udGVudD8uY2F0ZWdvcnlJZGVudGlmaWVyLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFRyYWNrIGFuYWx5dGljc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50cmFja05vdGlmaWNhdGlvbkRlbGl2ZXJlZChub3RpZmljYXRpb24pO1xuXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGhhcHRpYyBmZWVkYmFja1xuICAgICAgICAgICAgY29uc3QgaGFwdGljVHlwZSA9IHRoaXMuZ2V0Tm90aWZpY2F0aW9uSGFwdGljVHlwZShub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgYXdhaXQgaGFwdGljTWFuYWdlci50cmlnZ2VyKGhhcHRpY1R5cGUpO1xuXG4gICAgICAgICAgICAvLyBQbGF5IHNvdW5kIGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGNvbnN0IHNvdW5kVHlwZSA9IHRoaXMuZ2V0Tm90aWZpY2F0aW9uU291bmRUeXBlKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICBpZiAoc291bmRUeXBlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc291bmRNYW5hZ2VyLnBsYXlTb3VuZChzb3VuZFR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdG9yZSBpbiBub3RpZmljYXRpb24gaGlzdG9yeVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9yZU5vdGlmaWNhdGlvbkhpc3Rvcnkobm90aWZpY2F0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBoYW5kbGluZyBub3RpZmljYXRpb24gcmVjZWl2ZWQ6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVOb3RpZmljYXRpb25SZXNwb25zZShyZXNwb25zZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdOb3RpZmljYXRpb24gcmVzcG9uc2UgcmVjZWl2ZWQnLCB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSWQ6IHJlc3BvbnNlLm5vdGlmaWNhdGlvbi5yZXF1ZXN0LmlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgYWN0aW9uSWQ6IHJlc3BvbnNlLmFjdGlvbklkZW50aWZpZXIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRXh0cmFjdCBhY3Rpb24gYW5kIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbklkID0gcmVzcG9uc2UuYWN0aW9uSWRlbnRpZmllcjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ub3RpZmljYXRpb24ucmVxdWVzdC5jb250ZW50LmRhdGE7XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgYWN0aW9uIElEIHRvIG91ciBhY3Rpb24gZW51bVxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5tYXBOb3RpZmljYXRpb25BY3Rpb25JZChhY3Rpb25JZCk7XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbkFjdGlvbihhY3Rpb24sIGRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcmFjayBhbmFseXRpY3NcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudHJhY2tOb3RpZmljYXRpb25DbGlja2VkKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBoYW5kbGluZyBub3RpZmljYXRpb24gcmVzcG9uc2U6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVBcHBGb3JlZ3JvdW5kKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdBcHAgY2FtZSB0byBmb3JlZ3JvdW5kJyk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0FuYWx5dGljcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQXBwQmFja2dyb3VuZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQXBwIHdlbnQgdG8gYmFja2dyb3VuZCcpO1xuICAgICAgICAvLyBQcm9jZXNzIGFueSBwZW5kaW5nIG9wZXJhdGlvbnNcbiAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzQW5hbHl0aWNzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVQdXNoVG9rZW5VcGRhdGUodG9rZW46IFB1c2hUb2tlbik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdQdXNoIHRva2VuIHVwZGF0ZWQnKTtcbiAgICAgICAgdGhpcy5zdGF0dXMucHVzaFRva2VuID0gdG9rZW47XG4gICAgICAgIGF3YWl0IHRoaXMucmVnaXN0ZXJQdXNoVG9rZW5XaXRoQmFja2VuZCh0b2tlbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgcmVhZHlOb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uc2NoZWR1bGVkVGltZSA8PSBub3dcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZWFkeU5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NOb3RpZmljYXRpb24oaXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBwcm9jZXNzZWQgbm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25RdWV1ZSA9IHRoaXMubm90aWZpY2F0aW9uUXVldWUuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChpdGVtKSA9PiAhcmVhZHlOb3RpZmljYXRpb25zLmluY2x1ZGVzKGl0ZW0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHByb2Nlc3Npbmcgbm90aWZpY2F0aW9uIHF1ZXVlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc05vdGlmaWNhdGlvbihxdWV1ZUl0ZW06IE5vdGlmaWNhdGlvblF1ZXVlSXRlbSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBub3RpZmljYXRpb24sIGlkIH0gPSBxdWV1ZUl0ZW07XG5cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIHdpdGggRXhwb1xuICAgICAgICAgICAgYXdhaXQgTm90aWZpY2F0aW9ucy5zY2hlZHVsZU5vdGlmaWNhdGlvbkFzeW5jKHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBpZCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBub3RpZmljYXRpb24udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IG5vdGlmaWNhdGlvbi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBub3RpZmljYXRpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc291bmQ6IG5vdGlmaWNhdGlvbi5zb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2U6IG5vdGlmaWNhdGlvbi5iYWRnZSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZGVudGlmaWVyOiBub3RpZmljYXRpb24uY2F0ZWdvcnlJZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICB0aHJlYWRJZGVudGlmaWVyOiBub3RpZmljYXRpb24udGhyZWFkSWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IG51bGwsIC8vIEltbWVkaWF0ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ05vdGlmaWNhdGlvbiBzY2hlZHVsZWQgc3VjY2Vzc2Z1bGx5JywgeyBub3RpZmljYXRpb25JZDogaWQgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBub3RpZmljYXRpb246JywgZXJyb3IpO1xuXG4gICAgICAgICAgICAvLyBSZXRyeSBsb2dpY1xuICAgICAgICAgICAgcXVldWVJdGVtLnJldHJ5Q291bnQrKztcbiAgICAgICAgICAgIGlmIChxdWV1ZUl0ZW0ucmV0cnlDb3VudCA8IHF1ZXVlSXRlbS5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gUmUtcXVldWUgZm9yIHJldHJ5XG4gICAgICAgICAgICAgICAgcXVldWVJdGVtLnNjaGVkdWxlZFRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNjAwMDAgKiBxdWV1ZUl0ZW0ucmV0cnlDb3VudCk7IC8vIEV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlLnB1c2gocXVldWVJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0FuYWx5dGljcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5dGljcyA9IHRoaXMuYW5hbHl0aWNzUXVldWUuc3BsaWNlKDAsIDEwKTsgLy8gUHJvY2VzcyBpbiBiYXRjaGVzXG4gICAgICAgICAgICAvLyBTZW5kIHRvIGJhY2tlbmQgYW5hbHl0aWNzIHNlcnZpY2VcbiAgICAgICAgICAgIC8vIFRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggeW91ciBleGlzdGluZyBhbmFseXRpY3Mgc3lzdGVtXG4gICAgICAgICAgICBpZiAoYW5hbHl0aWNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdQcm9jZXNzaW5nIGFuYWx5dGljcyBiYXRjaCcsIHsgY291bnQ6IGFuYWx5dGljcy5sZW5ndGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBhbmFseXRpY3M6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydEJhY2tncm91bmRQcm9jZXNzaW5nKCk6IHZvaWQge1xuICAgICAgICAvLyBQcm9jZXNzIHF1ZXVlIGV2ZXJ5IDMwIHNlY29uZHNcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQW5hbHl0aWNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDAwKTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXRpY3MgbWV0aG9kc1xuICAgIHByaXZhdGUgYXN5bmMgdHJhY2tOb3RpZmljYXRpb25TY2hlZHVsZWQobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25EYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGFuYWx5dGljczogTm90aWZpY2F0aW9uQW5hbHl0aWNzID0ge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uSWQ6IG5vdGlmaWNhdGlvbi5pZCxcbiAgICAgICAgICAgIHVzZXJJZDogbm90aWZpY2F0aW9uLnVzZXJJZCxcbiAgICAgICAgICAgIHR5cGU6IG5vdGlmaWNhdGlvbi50eXBlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IG5vdGlmaWNhdGlvbi5jYXRlZ29yeSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBQbGF0Zm9ybS5PUyxcbiAgICAgICAgICAgIHNlbnRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFuYWx5dGljc1F1ZXVlLnB1c2goYW5hbHl0aWNzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHRyYWNrTm90aWZpY2F0aW9uRGVsaXZlcmVkKG5vdGlmaWNhdGlvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciB0cmFja2luZyBkZWxpdmVyZWQgbm90aWZpY2F0aW9uc1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdHJhY2tOb3RpZmljYXRpb25DbGlja2VkKHJlc3BvbnNlOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW1wbGVtZW50YXRpb24gZm9yIHRyYWNraW5nIGNsaWNrZWQgbm90aWZpY2F0aW9uc1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdHJhY2tFbWVyZ2VuY3lOb3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25EYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciB0cmFja2luZyBlbWVyZ2VuY3kgbm90aWZpY2F0aW9uc1xuICAgIH1cblxuICAgIC8vIEhlbHBlciBtZXRob2RzXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRVc2VyQWN0aXZpdHkodXNlcklkOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gR2V0IHVzZXIncyBjdXJyZW50IGFjdGl2aXR5IHN0YXRlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNJbk1lZXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgbGFzdEFjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0RGV2aWNlU3RhdGUoKSB7XG4gICAgICAgIC8vIEdldCBkZXZpY2Ugc3RhdGUgaW5mb3JtYXRpb25cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhdHRlcnlMZXZlbDogMC44LFxuICAgICAgICAgICAgaXNDaGFyZ2luZzogdHJ1ZSxcbiAgICAgICAgICAgIGlzTG93UG93ZXJNb2RlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldE5vdGlmaWNhdGlvbkhpc3RvcnkodXNlcklkOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gR2V0IHJlY2VudCBub3RpZmljYXRpb24gaGlzdG9yeVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjYW5jZWxVc2VyTm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDYW5jZWwgYWxsIG5vdGlmaWNhdGlvbnMgZm9yIGEgdXNlclxuICAgICAgICBhd2FpdCBOb3RpZmljYXRpb25zLmNhbmNlbEFsbFNjaGVkdWxlZE5vdGlmaWNhdGlvbnNBc3luYygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVnaXN0ZXJQdXNoVG9rZW5XaXRoQmFja2VuZCh0b2tlbjogUHVzaFRva2VuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIHRva2VuIHdpdGggYmFja2VuZFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhpcyB3b3VsZCBpbnRlZ3JhdGUgd2l0aCB5b3VyIGV4aXN0aW5nIGJhY2tlbmQgQVBJXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdQdXNoIHRva2VuIHJlZ2lzdGVyZWQgd2l0aCBiYWNrZW5kJywgeyB0b2tlbiB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gcmVnaXN0ZXIgcHVzaCB0b2tlbiB3aXRoIGJhY2tlbmQ6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROb3RpZmljYXRpb25IYXB0aWNUeXBlKG5vdGlmaWNhdGlvbjogYW55KTogc3RyaW5nIHtcbiAgICAgICAgLy8gTWFwIG5vdGlmaWNhdGlvbiBwcmlvcml0eSB0byBoYXB0aWMgdHlwZVxuICAgICAgICByZXR1cm4gJ2xpZ2h0JztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE5vdGlmaWNhdGlvblNvdW5kVHlwZShub3RpZmljYXRpb246IGFueSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICAvLyBNYXAgbm90aWZpY2F0aW9uIHRvIHNvdW5kIHR5cGVcbiAgICAgICAgcmV0dXJuICdidXR0b24nO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFwTm90aWZpY2F0aW9uQWN0aW9uSWQoYWN0aW9uSWQ6IHN0cmluZyk6IE5vdGlmaWNhdGlvbkFjdGlvbiB8IG51bGwge1xuICAgICAgICAvLyBNYXAgcGxhdGZvcm0gYWN0aW9uIElEIHRvIG91ciBhY3Rpb24gZW51bVxuICAgICAgICBzd2l0Y2ggKGFjdGlvbklkKSB7XG4gICAgICAgICAgICBjYXNlICdWSUVXX1RJTUVSJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uQWN0aW9uLlZJRVdfVElNRVI7XG4gICAgICAgICAgICBjYXNlICdTVEFSVF9TRVNTSU9OJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uQWN0aW9uLlNUQVJUX1NFU1NJT047XG4gICAgICAgICAgICBjYXNlICdESVNNSVNTJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uQWN0aW9uLkRJU01JU1M7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzdG9yZU5vdGlmaWNhdGlvbkhpc3Rvcnkobm90aWZpY2F0aW9uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gU3RvcmUgbm90aWZpY2F0aW9uIGluIGxvY2FsIGhpc3RvcnlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhpc3RvcnkgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IG5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTdG9yZSBpbiBBc3luY1N0b3JhZ2VcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzdG9yaW5nIG5vdGlmaWNhdGlvbiBoaXN0b3J5OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGVmYXVsdFN0YXR1cygpOiBOb3RpZmljYXRpb25TZXJ2aWNlU3RhdHVzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgICAgIHBlcm1pc3Npb25zOiB7XG4gICAgICAgICAgICAgICAgZ3JhbnRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAndW5kZXRlcm1pbmVkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBQbGF0Zm9ybS5PUyxcbiAgICAgICAgICAgIGNhcGFiaWxpdGllczoge1xuICAgICAgICAgICAgICAgIGNhblNjaGVkdWxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjYW5CYWRnZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2FuU291bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhblZpYnJhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhbkRlZXBMaW5rOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXN0SGVhbHRoQ2hlY2s6IG5ldyBEYXRlKCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0Q29uZmlnKCk6IE5vdGlmaWNhdGlvbkNvbmZpZyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZWJ1ZzogX19ERVZfXyxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IDMsXG4gICAgICAgICAgICBiYXRjaFNpemU6IDEwLFxuICAgICAgICAgICAgYmF0Y2hJbnRlcnZhbDogNjAsIC8vIDEgbWludXRlXG4gICAgICAgICAgICBxdWV1ZVNpemU6IDEwMCxcbiAgICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbDogMzAsIC8vIDMwIHNlY29uZHNcbiAgICAgICAgICAgIGhlYWx0aENoZWNrSW50ZXJ2YWw6IDMwMCwgLy8gNSBtaW51dGVzXG4gICAgICAgICAgICBhaUVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBjb250ZXh0V2luZG93OiAzMCwgLy8gMzAgbWludXRlc1xuICAgICAgICAgICAgcGxhdGZvcm1zOiB7XG4gICAgICAgICAgICAgICAgaW9zOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyaXRpY2FsQWxlcnRzRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkdyb3VwczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkRGVsaXZlcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbmRyb2lkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJbXBvcnRhbmNlOiAyLFxuICAgICAgICAgICAgICAgICAgICB2aWJyYXRpb25QYXR0ZXJuOiBbMCwgMjUwLCAyNTAsIDI1MF0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2tTY3JlZW5WaXNpYmlsaXR5OiAncHJpdmF0ZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3ZWI6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZVdvcmtlclBhdGg6ICcvc2VydmljZS13b3JrZXIuanMnLFxuICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdFBhdGg6ICcvbWFuaWZlc3QuanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplczogWzcyLCA5NiwgMTI4LCAxNDQsIDE1MiwgMTkyLCAzODQsIDUxMl0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnRlZ3JhdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBhbmFseXRpY3M6IHRydWUsXG4gICAgICAgICAgICAgICAgY3Jhc2hSZXBvcnRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlckZlZWRiYWNrOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25TZXJ2aWNlID0gTm90aWZpY2F0aW9uU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuZXhwb3J0IGRlZmF1bHQgbm90aWZpY2F0aW9uU2VydmljZTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFLQSxJQUFBQSxhQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFGLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxZQUFBLEdBQUFGLE9BQUE7QUFFQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFFQSxJQUFBSSxNQUFBLEdBQUFKLE9BQUE7QUF5QkEsSUFBQUss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