541e8b9238c2b8ee6a343a80ccd1dcf6
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.localDatabase = exports.default = exports.LocalDatabase = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _uuid = require("uuid");
var LocalDatabase = exports.LocalDatabase = function () {
  function LocalDatabase(config) {
    (0, _classCallCheck2.default)(this, LocalDatabase);
    this.db = null;
    this.isInitialized = false;
    this.encryptionKey = null;
    this.cache = new Map();
    this.CACHE_PREFIX = 'offline_cache_';
    this.METADATA_KEY = 'offline_db_metadata';
    this.config = config;
  }
  return (0, _createClass2.default)(LocalDatabase, [{
    key: "initialize",
    value: (function () {
      var _initialize = (0, _asyncToGenerator2.default)(function* () {
        if (this.isInitialized) return;
        try {
          yield this.setupEncryption();
          this.db = this.createMockDatabase();
          yield this.createSchema();
          yield this.initializeCache();
          yield this.loadCache();
          this.isInitialized = true;
          console.log('✅ LocalDatabase initialized successfully');
        } catch (error) {
          console.error('❌ Failed to initialize LocalDatabase:', error);
          throw new Error(`Database initialization failed: ${error}`);
        }
      });
      function initialize() {
        return _initialize.apply(this, arguments);
      }
      return initialize;
    }())
  }, {
    key: "executeQuery",
    value: (function () {
      var _executeQuery = (0, _asyncToGenerator2.default)(function* (query) {
        var _this = this;
        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var encryptFields = arguments.length > 2 ? arguments[2] : undefined;
        var decryptFields = arguments.length > 3 ? arguments[3] : undefined;
        if (!this.db || !this.isInitialized) {
          throw new Error('Database not initialized');
        }
        return new Promise(function (resolve, reject) {
          _this.db.transaction(function (tx) {
            var encryptedParams = encryptFields ? _this.encryptParameters(params, encryptFields) : params;
            tx.executeSql(query, encryptedParams, function (_tx, _ref) {
              var rows = _ref.rows;
              var results = [];
              for (var i = 0; i < rows.length; i++) {
                var row = rows.item(i);
                if (decryptFields) {
                  row = _this.decryptRow(row, decryptFields);
                }
                results.push(row);
              }
              resolve(results);
            }, function (_tx, error) {
              console.error('SQL Error:', error);
              reject(new Error(`SQL execution failed: ${error}`));
              return true;
            });
          });
        });
      });
      function executeQuery(_x) {
        return _executeQuery.apply(this, arguments);
      }
      return executeQuery;
    }())
  }, {
    key: "insert",
    value: (function () {
      var _insert = (0, _asyncToGenerator2.default)(function* (table, data, options) {
        var _this2 = this;
        try {
          if (!this.db || !this.isInitialized) {
            throw new Error('Database not initialized');
          }
          var id = (0, _uuid.v4)();
          var timestamp = new Date().toISOString();
          var encryptedData = options != null && options.encryptFields ? this.encryptData(data, options.encryptFields) : data;
          var columns = Object.keys(encryptedData);
          var values = Object.values(encryptedData);
          var placeholders = columns.map(function () {
            return '?';
          }).join(', ');
          var query = `
                INSERT INTO ${table} (id, ${columns.join(', ')}, created_at, updated_at)
                VALUES (?, ${placeholders}, ?, ?)
            `;
          return new Promise(function (resolve, reject) {
            _this2.db.transaction(function (tx) {
              tx.executeSql(query, [id].concat(values, [timestamp, timestamp]), function (_tx, _ref2) {
                var insertId = _ref2.insertId;
                if (options != null && options.cache) {
                  _this2.updateCache(table, id, data, options.cacheExpiry);
                }
                resolve(options != null && options.returnId ? String(insertId) : id);
              }, function (_tx, error) {
                console.error('Insert error:', error);
                reject(new Error(`Insert failed: ${error}`));
                return true;
              });
            });
          });
        } catch (error) {
          console.error('Insert operation failed:', error);
          throw new Error(`Failed to insert into ${table}: ${error}`);
        }
      });
      function insert(_x2, _x3, _x4) {
        return _insert.apply(this, arguments);
      }
      return insert;
    }())
  }, {
    key: "update",
    value: (function () {
      var _update = (0, _asyncToGenerator2.default)(function* (table, id, data, options) {
        var _this3 = this;
        try {
          if (!this.db || !this.isInitialized) {
            throw new Error('Database not initialized');
          }
          var timestamp = new Date().toISOString();
          var encryptedData = options != null && options.encryptFields ? this.encryptData(data, options.encryptFields) : data;
          var columns = Object.keys(encryptedData);
          var values = Object.values(encryptedData);
          var setClause = columns.map(function (col) {
            return `${col} = ?`;
          }).join(', ');
          var query = `
                UPDATE ${table} 
                SET ${setClause}, updated_at = ?
                WHERE id = ?
            `;
          return new Promise(function (resolve, reject) {
            _this3.db.transaction(function (tx) {
              tx.executeSql(query, [].concat(values, [timestamp, id]), function (_tx, _result) {
                if (options != null && options.cache) {
                  _this3.updateCache(table, id, data, options.cacheExpiry);
                }
                resolve();
              }, function (_tx, error) {
                console.error('Update error:', error);
                reject(new Error(`Update failed: ${error}`));
                return true;
              });
            });
          });
        } catch (error) {
          console.error('Update operation failed:', error);
          throw new Error(`Failed to update ${table}:${id}: ${error}`);
        }
      });
      function update(_x5, _x6, _x7, _x8) {
        return _update.apply(this, arguments);
      }
      return update;
    }())
  }, {
    key: "delete",
    value: (function () {
      var _delete2 = (0, _asyncToGenerator2.default)(function* (table, id) {
        var _this4 = this;
        try {
          if (!this.db || !this.isInitialized) {
            throw new Error('Database not initialized');
          }
          var query = `DELETE FROM ${table} WHERE id = ?`;
          return new Promise(function (resolve, reject) {
            _this4.db.transaction(function (tx) {
              tx.executeSql(query, [id], function (_tx, _result) {
                _this4.removeFromCache(table, id);
                resolve();
              }, function (_tx, error) {
                console.error('Delete error:', error);
                reject(new Error(`Delete failed: ${error}`));
                return true;
              });
            });
          });
        } catch (error) {
          console.error('Delete operation failed:', error);
          throw new Error(`Failed to delete from ${table}:${id}: ${error}`);
        }
      });
      function _delete(_x9, _x0) {
        return _delete2.apply(this, arguments);
      }
      return _delete;
    }())
  }, {
    key: "select",
    value: (function () {
      var _select = (0, _asyncToGenerator2.default)(function* (table, options) {
        try {
          var _options$columns;
          if (options != null && options.cache) {
            var cachedData = this.getFromCache(table, options);
            if (cachedData) {
              return cachedData;
            }
          }
          var query = `SELECT ${(options == null || (_options$columns = options.columns) == null ? void 0 : _options$columns.join(', ')) || '*'} FROM ${table}`;
          var params = [];
          if (options != null && options.where) {
            var conditions = Object.keys(options.where).map(function (key) {
              return `${key} = ?`;
            });
            query += ` WHERE ${conditions.join(' AND ')}`;
            params.push.apply(params, (0, _toConsumableArray2.default)(Object.values(options.where)));
          }
          if (options != null && options.orderBy) {
            query += ` ORDER BY ${options.orderBy} ${options.orderDirection || 'ASC'}`;
          }
          if (options != null && options.limit) {
            query += ` LIMIT ${options.limit}`;
            if (options != null && options.offset) {
              query += ` OFFSET ${options.offset}`;
            }
          }
          var results = yield this.executeQuery(query, params, undefined, options == null ? void 0 : options.decryptFields);
          if (options != null && options.cache) {
            this.cacheResults(table, options, results, options.cacheExpiry);
          }
          return results;
        } catch (error) {
          console.error('Select operation failed:', error);
          throw new Error(`Failed to select from ${table}: ${error}`);
        }
      });
      function select(_x1, _x10) {
        return _select.apply(this, arguments);
      }
      return select;
    }())
  }, {
    key: "getTimerSessions",
    value: (function () {
      var _getTimerSessions = (0, _asyncToGenerator2.default)(function* (userId) {
        var sessions = yield this.select('timer_sessions', {
          where: {
            user_id: userId
          },
          orderBy: 'start_time',
          orderDirection: 'DESC',
          cache: true,
          cacheExpiry: 300000
        });
        return sessions.map(function (session) {
          return Object.assign({}, session, {
            synced: true
          });
        });
      });
      function getTimerSessions(_x11) {
        return _getTimerSessions.apply(this, arguments);
      }
      return getTimerSessions;
    }())
  }, {
    key: "saveTimerSession",
    value: (function () {
      var _saveTimerSession = (0, _asyncToGenerator2.default)(function* (session) {
        var sessionData = Object.assign({}, session, {
          id: (0, _uuid.v4)(),
          synced: false
        });
        return yield this.insert('timer_sessions', sessionData, {
          cache: true,
          returnId: true
        });
      });
      function saveTimerSession(_x12) {
        return _saveTimerSession.apply(this, arguments);
      }
      return saveTimerSession;
    }())
  }, {
    key: "getMilestoneProgress",
    value: (function () {
      var _getMilestoneProgress = (0, _asyncToGenerator2.default)(function* (userId) {
        var progress = yield this.select('milestone_progress', {
          where: {
            user_id: userId
          },
          orderBy: 'last_updated',
          orderDirection: 'DESC',
          cache: true,
          cacheExpiry: 600000
        });
        return progress.map(function (p) {
          return Object.assign({}, p, {
            synced: true
          });
        });
      });
      function getMilestoneProgress(_x13) {
        return _getMilestoneProgress.apply(this, arguments);
      }
      return getMilestoneProgress;
    }())
  }, {
    key: "saveMilestoneProgress",
    value: (function () {
      var _saveMilestoneProgress = (0, _asyncToGenerator2.default)(function* (progress) {
        var progressData = Object.assign({}, progress, {
          id: (0, _uuid.v4)(),
          synced: false
        });
        return yield this.insert('milestone_progress', progressData, {
          cache: true,
          returnId: true
        });
      });
      function saveMilestoneProgress(_x14) {
        return _saveMilestoneProgress.apply(this, arguments);
      }
      return saveMilestoneProgress;
    }())
  }, {
    key: "getStats",
    value: (function () {
      var _getStats = (0, _asyncToGenerator2.default)(function* () {
        try {
          var dbSize = yield this.getDatabaseSize();
          var tableCount = yield this.getTableCount();
          var indexCount = yield this.getIndexCount();
          var fragmentation = yield this.getFragmentation();
          return {
            totalSize: dbSize.total,
            usedSize: dbSize.used,
            freeSize: dbSize.free,
            tableCount: tableCount,
            indexCount: indexCount,
            lastVacuum: new Date(),
            fragmentationPercentage: fragmentation
          };
        } catch (error) {
          console.error('Failed to get database stats:', error);
          throw new Error(`Database stats failed: ${error}`);
        }
      });
      function getStats() {
        return _getStats.apply(this, arguments);
      }
      return getStats;
    }())
  }, {
    key: "cleanupCache",
    value: (function () {
      var _cleanupCache = (0, _asyncToGenerator2.default)(function* () {
        var _this5 = this;
        var cleaned = 0;
        var now = Date.now();
        for (var _ref3 of this.cache.entries()) {
          var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);
          var key = _ref4[0];
          var item = _ref4[1];
          if (item.expiresAt && now > item.expiresAt.getTime()) {
            this.cache.delete(key);
            cleaned++;
          }
        }
        try {
          var keys = yield _asyncStorage.default.getAllKeys();
          var cacheKeys = keys.filter(function (key) {
            return key.startsWith(_this5.CACHE_PREFIX);
          });
          for (var _key of cacheKeys) {
            var value = yield _asyncStorage.default.getItem(_key);
            if (value) {
              var _item = JSON.parse(value);
              if (_item.expiresAt && now > new Date(_item.expiresAt).getTime()) {
                yield _asyncStorage.default.removeItem(_key);
                cleaned++;
              }
            }
          }
        } catch (error) {
          console.warn('Failed to clean AsyncStorage cache:', error);
        }
        return cleaned;
      });
      function cleanupCache() {
        return _cleanupCache.apply(this, arguments);
      }
      return cleanupCache;
    }())
  }, {
    key: "vacuum",
    value: (function () {
      var _vacuum = (0, _asyncToGenerator2.default)(function* () {
        try {
          yield this.executeQuery('VACUUM');
          console.log('Database vacuumed successfully');
        } catch (error) {
          console.error('Failed to vacuum database:', error);
          throw error;
        }
      });
      function vacuum() {
        return _vacuum.apply(this, arguments);
      }
      return vacuum;
    }())
  }, {
    key: "getStatus",
    value: function getStatus() {
      return {
        initialized: this.isInitialized,
        connected: this.db !== null,
        encrypted: !!this.encryptionKey,
        stats: {
          totalSize: 0,
          usedSize: 0,
          freeSize: 0,
          tableCount: 0,
          indexCount: 0,
          lastVacuum: new Date(),
          fragmentationPercentage: 0
        }
      };
    }
  }, {
    key: "dispose",
    value: (function () {
      var _dispose = (0, _asyncToGenerator2.default)(function* () {
        if (this.db) {
          this.db.close();
          this.db = null;
        }
        this.cache.clear();
        this.isInitialized = false;
        console.log('LocalDatabase disposed');
      });
      function dispose() {
        return _dispose.apply(this, arguments);
      }
      return dispose;
    }())
  }, {
    key: "createMockDatabase",
    value: function createMockDatabase() {
      return {
        transaction: function transaction(callback) {
          callback({
            executeSql: function executeSql(sql, params, success, error) {
              console.log('Mock SQL:', sql, params);
              if (success) {
                success({}, {
                  insertId: Math.floor(Math.random() * 1000),
                  rowsAffected: 1,
                  rows: {
                    length: 0,
                    item: function item(index) {
                      return {};
                    }
                  }
                });
              }
            }
          });
        },
        close: function close() {
          console.log('Database closed');
        }
      };
    }
  }, {
    key: "setupEncryption",
    value: function () {
      var _setupEncryption = (0, _asyncToGenerator2.default)(function* () {
        try {
          var existingKey = yield _asyncStorage.default.getItem('db_encryption_key');
          if (existingKey) {
            this.encryptionKey = existingKey;
          } else {
            var keyArray = btoa((0, _uuid.v4)() + Date.now().toString());
            this.encryptionKey = keyArray;
            yield _asyncStorage.default.setItem('db_encryption_key', keyArray);
          }
        } catch (error) {
          console.warn('Encryption setup failed, using unencrypted mode:', error);
          this.encryptionKey = null;
        }
      });
      function setupEncryption() {
        return _setupEncryption.apply(this, arguments);
      }
      return setupEncryption;
    }()
  }, {
    key: "createSchema",
    value: function () {
      var _createSchema = (0, _asyncToGenerator2.default)(function* () {
        var schema = `
            -- Users table
            CREATE TABLE IF NOT EXISTS users (
                id TEXT PRIMARY KEY,
                email TEXT UNIQUE,
                name TEXT,
                preferences TEXT,
                created_at TEXT,
                updated_at TEXT
            );

            -- Timer sessions table
            CREATE TABLE IF NOT EXISTS timer_sessions (
                id TEXT PRIMARY KEY,
                timer_id TEXT,
                user_id TEXT,
                start_time TEXT,
                end_time TEXT,
                duration INTEGER,
                type TEXT,
                paused BOOLEAN,
                pause_duration INTEGER,
                completed BOOLEAN,
                milestones TEXT,
                synced BOOLEAN,
                created_at TEXT,
                updated_at TEXT
            );

            -- Milestone progress table
            CREATE TABLE IF NOT EXISTS milestone_progress (
                id TEXT PRIMARY KEY,
                milestone_id TEXT,
                user_id TEXT,
                progress REAL,
                completed BOOLEAN,
                last_updated TEXT,
                unlocked_at TEXT,
                synced BOOLEAN,
                created_at TEXT,
                updated_at TEXT
            );

            -- Notifications table
            CREATE TABLE IF NOT EXISTS notifications (
                id TEXT PRIMARY KEY,
                user_id TEXT,
                type TEXT,
                title TEXT,
                message TEXT,
                data TEXT,
                scheduled_for TEXT,
                sent BOOLEAN,
                created_at TEXT,
                updated_at TEXT
            );

            -- Sync queue table for offline operations
            CREATE TABLE IF NOT EXISTS sync_queue (
                id TEXT PRIMARY KEY,
                operation_type TEXT,
                table_name TEXT,
                record_id TEXT,
                data TEXT,
                priority INTEGER,
                retry_count INTEGER,
                created_at TEXT,
                updated_at TEXT
            );

            -- Settings table
            CREATE TABLE IF NOT EXISTS settings (
                id TEXT PRIMARY KEY,
                user_id TEXT,
                key TEXT,
                value TEXT,
                created_at TEXT,
                updated_at TEXT
            );

            -- Create indexes for performance
            CREATE INDEX IF NOT EXISTS idx_timer_sessions_user_id ON timer_sessions(user_id);
            CREATE INDEX IF NOT EXISTS idx_timer_sessions_start_time ON timer_sessions(start_time);
            CREATE INDEX IF NOT EXISTS idx_milestone_progress_user_id ON milestone_progress(user_id);
            CREATE INDEX IF NOT EXISTS idx_milestone_progress_milestone_id ON milestone_progress(milestone_id);
            CREATE INDEX IF NOT EXISTS idx_notifications_user_id ON notifications(user_id);
            CREATE INDEX IF NOT EXISTS idx_sync_queue_priority ON sync_queue(priority);
            CREATE INDEX IF NOT EXISTS idx_settings_user_key ON settings(user_id, key);
        `;
        var statements = schema.split(';').filter(function (stmt) {
          return stmt.trim();
        });
        for (var statement of statements) {
          yield this.executeQuery(statement);
        }
      });
      function createSchema() {
        return _createSchema.apply(this, arguments);
      }
      return createSchema;
    }()
  }, {
    key: "initializeCache",
    value: function () {
      var _initializeCache = (0, _asyncToGenerator2.default)(function* () {
        this.cache = new Map();
      });
      function initializeCache() {
        return _initializeCache.apply(this, arguments);
      }
      return initializeCache;
    }()
  }, {
    key: "loadCache",
    value: function () {
      var _loadCache = (0, _asyncToGenerator2.default)(function* () {
        var _this6 = this;
        try {
          var keys = yield _asyncStorage.default.getAllKeys();
          var cacheKeys = keys.filter(function (key) {
            return key.startsWith(_this6.CACHE_PREFIX);
          });
          for (var key of cacheKeys) {
            var value = yield _asyncStorage.default.getItem(key);
            if (value) {
              var item = JSON.parse(value);
              if (!item.expiresAt || Date.now() < new Date(item.expiresAt).getTime()) {
                this.cache.set(key, item);
              } else {
                yield _asyncStorage.default.removeItem(key);
              }
            }
          }
        } catch (error) {
          console.warn('Failed to load cache from AsyncStorage:', error);
        }
      });
      function loadCache() {
        return _loadCache.apply(this, arguments);
      }
      return loadCache;
    }()
  }, {
    key: "encryptData",
    value: function encryptData(data, fields) {
      if (!this.encryptionKey) return data;
      var encrypted = Object.assign({}, data);
      for (var field of fields) {
        if (encrypted[field]) {
          encrypted[field] = btoa(JSON.stringify(encrypted[field]));
        }
      }
      return encrypted;
    }
  }, {
    key: "decryptRow",
    value: function decryptRow(row, fields) {
      if (!this.encryptionKey) return row;
      var decrypted = Object.assign({}, row);
      for (var field of fields) {
        if (decrypted[field]) {
          try {
            decrypted[field] = JSON.parse(atob(decrypted[field]));
          } catch (error) {
            console.warn(`Failed to decrypt field ${field}:`, error);
          }
        }
      }
      return decrypted;
    }
  }, {
    key: "encryptParameters",
    value: function encryptParameters(params, encryptFields) {
      return params;
    }
  }, {
    key: "updateCache",
    value: function updateCache(table, id, data, expiry) {
      var key = `${this.CACHE_PREFIX}${table}_${id}`;
      var item = {
        key: key,
        value: data,
        size: JSON.stringify(data).length,
        createdAt: new Date(),
        expiresAt: expiry ? new Date(Date.now() + expiry) : undefined,
        tags: [table]
      };
      this.cache.set(key, item);
      _asyncStorage.default.setItem(key, JSON.stringify(item)).catch(function (error) {
        console.warn('Failed to cache item in AsyncStorage:', error);
      });
      if (this.cache.size > this.config.cacheSize) {
        var firstKey = this.cache.keys().next().value;
        if (firstKey) {
          this.cache.delete(firstKey);
          _asyncStorage.default.removeItem(firstKey).catch(console.warn);
        }
      }
    }
  }, {
    key: "getFromCache",
    value: function getFromCache(table, options) {
      var key = `${this.CACHE_PREFIX}${table}_${JSON.stringify(options.where || {})}`;
      var item = this.cache.get(key);
      if (item && (!item.expiresAt || Date.now() < item.expiresAt.getTime())) {
        return item.value;
      }
      return null;
    }
  }, {
    key: "cacheResults",
    value: function cacheResults(table, options, results, expiry) {
      if (!results.length) return;
      var key = `${this.CACHE_PREFIX}${table}_${JSON.stringify(options.where || {})}`;
      var item = {
        key: key,
        value: results,
        size: JSON.stringify(results).length,
        createdAt: new Date(),
        expiresAt: expiry ? new Date(Date.now() + expiry) : undefined,
        tags: [table]
      };
      this.cache.set(key, item);
      _asyncStorage.default.setItem(key, JSON.stringify(item)).catch(console.warn);
    }
  }, {
    key: "removeFromCache",
    value: function removeFromCache(table, id) {
      var key = `${this.CACHE_PREFIX}${table}_${id}`;
      this.cache.delete(key);
      _asyncStorage.default.removeItem(key).catch(console.warn);
    }
  }, {
    key: "getDatabaseSize",
    value: function () {
      var _getDatabaseSize = (0, _asyncToGenerator2.default)(function* () {
        return {
          total: this.config.size,
          used: 0,
          free: this.config.size
        };
      });
      function getDatabaseSize() {
        return _getDatabaseSize.apply(this, arguments);
      }
      return getDatabaseSize;
    }()
  }, {
    key: "getTableCount",
    value: function () {
      var _getTableCount = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _result$;
          var result = yield this.executeQuery("SELECT COUNT(*) as count FROM sqlite_master WHERE type='table'");
          return ((_result$ = result[0]) == null ? void 0 : _result$.count) || 0;
        } catch (_unused) {
          return 0;
        }
      });
      function getTableCount() {
        return _getTableCount.apply(this, arguments);
      }
      return getTableCount;
    }()
  }, {
    key: "getIndexCount",
    value: function () {
      var _getIndexCount = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _result$2;
          var result = yield this.executeQuery("SELECT COUNT(*) as count FROM sqlite_master WHERE type='index'");
          return ((_result$2 = result[0]) == null ? void 0 : _result$2.count) || 0;
        } catch (_unused2) {
          return 0;
        }
      });
      function getIndexCount() {
        return _getIndexCount.apply(this, arguments);
      }
      return getIndexCount;
    }()
  }, {
    key: "getFragmentation",
    value: function () {
      var _getFragmentation = (0, _asyncToGenerator2.default)(function* () {
        return 0;
      });
      function getFragmentation() {
        return _getFragmentation.apply(this, arguments);
      }
      return getFragmentation;
    }()
  }], [{
    key: "getInstance",
    value: function getInstance(config) {
      if (!LocalDatabase.instance) {
        var defaultConfig = {
          name: 'offscreen_buddy_offline',
          version: 1,
          size: 50 * 1024 * 1024,
          enableWAL: true,
          enableForeignKeys: true,
          tempStore: 'file',
          cacheSize: 1000,
          pageSize: 4096
        };
        LocalDatabase.instance = new LocalDatabase(config || defaultConfig);
      }
      return LocalDatabase.instance;
    }
  }]);
}();
var localDatabase = exports.localDatabase = LocalDatabase.getInstance();
var _default = exports.default = LocalDatabase;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNTdG9yYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdXVpZCIsIkxvY2FsRGF0YWJhc2UiLCJleHBvcnRzIiwiY29uZmlnIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJkYiIsImlzSW5pdGlhbGl6ZWQiLCJlbmNyeXB0aW9uS2V5IiwiY2FjaGUiLCJNYXAiLCJDQUNIRV9QUkVGSVgiLCJNRVRBREFUQV9LRVkiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJfaW5pdGlhbGl6ZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInNldHVwRW5jcnlwdGlvbiIsImNyZWF0ZU1vY2tEYXRhYmFzZSIsImNyZWF0ZVNjaGVtYSIsImluaXRpYWxpemVDYWNoZSIsImxvYWRDYWNoZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIkVycm9yIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2V4ZWN1dGVRdWVyeSIsInF1ZXJ5IiwiX3RoaXMiLCJwYXJhbXMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJlbmNyeXB0RmllbGRzIiwiZGVjcnlwdEZpZWxkcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidHJhbnNhY3Rpb24iLCJ0eCIsImVuY3J5cHRlZFBhcmFtcyIsImVuY3J5cHRQYXJhbWV0ZXJzIiwiZXhlY3V0ZVNxbCIsIl90eCIsIl9yZWYiLCJyb3dzIiwicmVzdWx0cyIsImkiLCJyb3ciLCJpdGVtIiwiZGVjcnlwdFJvdyIsInB1c2giLCJleGVjdXRlUXVlcnkiLCJfeCIsIl9pbnNlcnQiLCJ0YWJsZSIsImRhdGEiLCJvcHRpb25zIiwiX3RoaXMyIiwiaWQiLCJ1dWlkdjQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlbmNyeXB0ZWREYXRhIiwiZW5jcnlwdERhdGEiLCJjb2x1bW5zIiwiT2JqZWN0Iiwia2V5cyIsInZhbHVlcyIsInBsYWNlaG9sZGVycyIsIm1hcCIsImpvaW4iLCJjb25jYXQiLCJfcmVmMiIsImluc2VydElkIiwidXBkYXRlQ2FjaGUiLCJjYWNoZUV4cGlyeSIsInJldHVybklkIiwiU3RyaW5nIiwiaW5zZXJ0IiwiX3gyIiwiX3gzIiwiX3g0IiwiX3VwZGF0ZSIsIl90aGlzMyIsInNldENsYXVzZSIsImNvbCIsIl9yZXN1bHQiLCJ1cGRhdGUiLCJfeDUiLCJfeDYiLCJfeDciLCJfeDgiLCJfZGVsZXRlMiIsIl90aGlzNCIsInJlbW92ZUZyb21DYWNoZSIsImRlbGV0ZSIsIl94OSIsIl94MCIsIl9zZWxlY3QiLCJfb3B0aW9ucyRjb2x1bW5zIiwiY2FjaGVkRGF0YSIsImdldEZyb21DYWNoZSIsIndoZXJlIiwiY29uZGl0aW9ucyIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJvcmRlckJ5Iiwib3JkZXJEaXJlY3Rpb24iLCJsaW1pdCIsIm9mZnNldCIsImNhY2hlUmVzdWx0cyIsInNlbGVjdCIsIl94MSIsIl94MTAiLCJfZ2V0VGltZXJTZXNzaW9ucyIsInVzZXJJZCIsInNlc3Npb25zIiwidXNlcl9pZCIsInNlc3Npb24iLCJhc3NpZ24iLCJzeW5jZWQiLCJnZXRUaW1lclNlc3Npb25zIiwiX3gxMSIsIl9zYXZlVGltZXJTZXNzaW9uIiwic2Vzc2lvbkRhdGEiLCJzYXZlVGltZXJTZXNzaW9uIiwiX3gxMiIsIl9nZXRNaWxlc3RvbmVQcm9ncmVzcyIsInByb2dyZXNzIiwicCIsImdldE1pbGVzdG9uZVByb2dyZXNzIiwiX3gxMyIsIl9zYXZlTWlsZXN0b25lUHJvZ3Jlc3MiLCJwcm9ncmVzc0RhdGEiLCJzYXZlTWlsZXN0b25lUHJvZ3Jlc3MiLCJfeDE0IiwiX2dldFN0YXRzIiwiZGJTaXplIiwiZ2V0RGF0YWJhc2VTaXplIiwidGFibGVDb3VudCIsImdldFRhYmxlQ291bnQiLCJpbmRleENvdW50IiwiZ2V0SW5kZXhDb3VudCIsImZyYWdtZW50YXRpb24iLCJnZXRGcmFnbWVudGF0aW9uIiwidG90YWxTaXplIiwidG90YWwiLCJ1c2VkU2l6ZSIsInVzZWQiLCJmcmVlU2l6ZSIsImZyZWUiLCJsYXN0VmFjdXVtIiwiZnJhZ21lbnRhdGlvblBlcmNlbnRhZ2UiLCJnZXRTdGF0cyIsIl9jbGVhbnVwQ2FjaGUiLCJfdGhpczUiLCJjbGVhbmVkIiwibm93IiwiX3JlZjMiLCJlbnRyaWVzIiwiX3JlZjQiLCJfc2xpY2VkVG9BcnJheTIiLCJleHBpcmVzQXQiLCJnZXRUaW1lIiwiQXN5bmNTdG9yYWdlIiwiZ2V0QWxsS2V5cyIsImNhY2hlS2V5cyIsImZpbHRlciIsInN0YXJ0c1dpdGgiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwicmVtb3ZlSXRlbSIsIndhcm4iLCJjbGVhbnVwQ2FjaGUiLCJfdmFjdXVtIiwidmFjdXVtIiwiZ2V0U3RhdHVzIiwiaW5pdGlhbGl6ZWQiLCJjb25uZWN0ZWQiLCJlbmNyeXB0ZWQiLCJzdGF0cyIsIl9kaXNwb3NlIiwiY2xvc2UiLCJjbGVhciIsImRpc3Bvc2UiLCJjYWxsYmFjayIsInNxbCIsInN1Y2Nlc3MiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyb3dzQWZmZWN0ZWQiLCJpbmRleCIsIl9zZXR1cEVuY3J5cHRpb24iLCJleGlzdGluZ0tleSIsImtleUFycmF5IiwiYnRvYSIsInRvU3RyaW5nIiwic2V0SXRlbSIsIl9jcmVhdGVTY2hlbWEiLCJzY2hlbWEiLCJzdGF0ZW1lbnRzIiwic3BsaXQiLCJzdG10IiwidHJpbSIsInN0YXRlbWVudCIsIl9pbml0aWFsaXplQ2FjaGUiLCJfbG9hZENhY2hlIiwiX3RoaXM2Iiwic2V0IiwiZmllbGRzIiwiZmllbGQiLCJzdHJpbmdpZnkiLCJkZWNyeXB0ZWQiLCJhdG9iIiwiZXhwaXJ5Iiwic2l6ZSIsImNyZWF0ZWRBdCIsInRhZ3MiLCJjYXRjaCIsImNhY2hlU2l6ZSIsImZpcnN0S2V5IiwibmV4dCIsImdldCIsIl9nZXREYXRhYmFzZVNpemUiLCJfZ2V0VGFibGVDb3VudCIsIl9yZXN1bHQkIiwicmVzdWx0IiwiY291bnQiLCJfdW51c2VkIiwiX2dldEluZGV4Q291bnQiLCJfcmVzdWx0JDIiLCJfdW51c2VkMiIsIl9nZXRGcmFnbWVudGF0aW9uIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJuYW1lIiwidmVyc2lvbiIsImVuYWJsZVdBTCIsImVuYWJsZUZvcmVpZ25LZXlzIiwidGVtcFN0b3JlIiwicGFnZVNpemUiLCJsb2NhbERhdGFiYXNlIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJMb2NhbERhdGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTG9jYWwgRGF0YWJhc2UgU2VydmljZSB3aXRoIFNRTGl0ZVxuICogUHJvdmlkZXMgZW5jcnlwdGVkLCBmYXN0IGxvY2FsIHN0b3JhZ2Ugd2l0aCBmdWxsIENSVUQgb3BlcmF0aW9uc1xuICovXG5cbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5cbmltcG9ydCB7XG4gICAgRGF0YWJhc2VDb25maWcsXG4gICAgRGF0YWJhc2VTdGF0cyxcbiAgICBTdG9yYWdlSXRlbSxcbiAgICBPZmZsaW5lT3BlcmF0aW9uLFxuICAgIE9mZmxpbmVUaW1lclNlc3Npb24sXG4gICAgT2ZmbGluZU1pbGVzdG9uZVByb2dyZXNzLFxuICAgIENhY2hlQ29uZmlnLFxuICAgIERhdGFiYXNlU3RhdHVzLFxuICAgIE9mZmxpbmVFcnJvcixcbn0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIE1vY2sgU1FMaXRlIHR5cGVzIGZvciBkZXZlbG9wbWVudFxuaW50ZXJmYWNlIFNRTGl0ZVdlYlNRTERhdGFiYXNlIHtcbiAgICB0cmFuc2FjdGlvbihjYWxsYmFjazogKHR4OiBhbnkpID0+IHZvaWQpOiB2b2lkO1xuICAgIGNsb3NlKCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbiB7XG4gICAgZXhlY3V0ZVNxbChcbiAgICAgICAgc3FsOiBzdHJpbmcsXG4gICAgICAgIGFyZ3M/OiBhbnlbXSxcbiAgICAgICAgc3VjY2Vzcz86ICh0eDogYW55LCByZXN1bHRzOiBhbnkpID0+IHZvaWQsXG4gICAgICAgIGVycm9yPzogKHR4OiBhbnksIGVycm9yOiBhbnkpID0+IGJvb2xlYW5cbiAgICApOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU1FMaXRlV2ViU1FMUmVzdWx0U2V0IHtcbiAgICBpbnNlcnRJZDogbnVtYmVyO1xuICAgIHJvd3NBZmZlY3RlZDogbnVtYmVyO1xuICAgIHJvd3M6IHtcbiAgICAgICAgbGVuZ3RoOiBudW1iZXI7XG4gICAgICAgIGl0ZW0oaW5kZXg6IG51bWJlcik6IGFueTtcbiAgICB9O1xufVxuXG5leHBvcnQgY2xhc3MgTG9jYWxEYXRhYmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IExvY2FsRGF0YWJhc2U7XG4gICAgcHJpdmF0ZSBkYjogU1FMaXRlV2ViU1FMRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGNvbmZpZzogRGF0YWJhc2VDb25maWc7XG4gICAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBlbmNyeXB0aW9uS2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIFN0b3JhZ2VJdGVtPigpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgQ0FDSEVfUFJFRklYID0gJ29mZmxpbmVfY2FjaGVfJztcbiAgICBwcml2YXRlIHJlYWRvbmx5IE1FVEFEQVRBX0tFWSA9ICdvZmZsaW5lX2RiX21ldGFkYXRhJztcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoY29uZmlnOiBEYXRhYmFzZUNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKGNvbmZpZz86IERhdGFiYXNlQ29uZmlnKTogTG9jYWxEYXRhYmFzZSB7XG4gICAgICAgIGlmICghTG9jYWxEYXRhYmFzZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdENvbmZpZzogRGF0YWJhc2VDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ29mZnNjcmVlbl9idWRkeV9vZmZsaW5lJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICAgICAgICAgIHNpemU6IDUwICogMTAyNCAqIDEwMjQsIC8vIDUwTUJcbiAgICAgICAgICAgICAgICBlbmFibGVXQUw6IHRydWUsXG4gICAgICAgICAgICAgICAgZW5hYmxlRm9yZWlnbktleXM6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcFN0b3JlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgY2FjaGVTaXplOiAxMDAwLFxuICAgICAgICAgICAgICAgIHBhZ2VTaXplOiA0MDk2LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIExvY2FsRGF0YWJhc2UuaW5zdGFuY2UgPSBuZXcgTG9jYWxEYXRhYmFzZShjb25maWcgfHwgZGVmYXVsdENvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvY2FsRGF0YWJhc2UuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZGF0YWJhc2Ugd2l0aCBlbmNyeXB0aW9uIGFuZCBzY2hlbWFcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBvciByZXRyaWV2ZSBlbmNyeXB0aW9uIGtleVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cEVuY3J5cHRpb24oKTtcblxuICAgICAgICAgICAgLy8gTW9jayBkYXRhYmFzZSBjb25uZWN0aW9uIGZvciBub3cgLSBpbiByZWFsIGltcGxlbWVudGF0aW9uIHdvdWxkIHVzZSBleHBvLXNxbGl0ZVxuICAgICAgICAgICAgdGhpcy5kYiA9IHRoaXMuY3JlYXRlTW9ja0RhdGFiYXNlKCk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc2NoZW1hXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVNjaGVtYSgpO1xuXG4gICAgICAgICAgICAvLyBTZXR1cCBjYWNoZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplQ2FjaGUoKTtcblxuICAgICAgICAgICAgLy8gTG9hZCBjYWNoZWQgaXRlbXNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZENhY2hlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvY2FsRGF0YWJhc2UgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgTG9jYWxEYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFiYXNlIGluaXRpYWxpemF0aW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBTUUwgcXVlcnkgd2l0aCBvcHRpb25hbCBlbmNyeXB0aW9uL2RlY3J5cHRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZXhlY3V0ZVF1ZXJ5PFQgPSBhbnk+KFxuICAgICAgICBxdWVyeTogc3RyaW5nLFxuICAgICAgICBwYXJhbXM6IGFueVtdID0gW10sXG4gICAgICAgIGVuY3J5cHRGaWVsZHM/OiBzdHJpbmdbXSxcbiAgICAgICAgZGVjcnlwdEZpZWxkcz86IHN0cmluZ1tdXG4gICAgKTogUHJvbWlzZTxUW10+IHtcbiAgICAgICAgaWYgKCF0aGlzLmRiIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYiEudHJhbnNhY3Rpb24oKHR4OiBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEVuY3J5cHQgcGFyYW1ldGVycyBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNyeXB0ZWRQYXJhbXMgPSBlbmNyeXB0RmllbGRzXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmNyeXB0UGFyYW1ldGVycyhwYXJhbXMsIGVuY3J5cHRGaWVsZHMpXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW1zO1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcbiAgICAgICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgICAgIGVuY3J5cHRlZFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgKF90eDogU1FMaXRlV2ViU1FMVHJhbnNhY3Rpb24sIHsgcm93cyB9OiBTUUxpdGVXZWJTUUxSZXN1bHRTZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHM6IFRbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdyA9IHJvd3MuaXRlbShpKSBhcyBUO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVjcnlwdCBmaWVsZHMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY3J5cHRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gdGhpcy5kZWNyeXB0Um93KHJvdywgZGVjcnlwdEZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoX3R4OiBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbiwgZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU1FMIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFNRTCBleGVjdXRpb24gZmFpbGVkOiAke2Vycm9yfWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyByb2xsYmFja1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSByZWNvcmQgaW50byB0aGUgZGF0YWJhc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgaW5zZXJ0KFxuICAgICAgICB0YWJsZTogc3RyaW5nLFxuICAgICAgICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgICAgICBvcHRpb25zPzoge1xuICAgICAgICAgICAgZW5jcnlwdEZpZWxkcz86IHN0cmluZ1tdO1xuICAgICAgICAgICAgcmV0dXJuSWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgY2FjaGU/OiBib29sZWFuO1xuICAgICAgICAgICAgY2FjaGVFeHBpcnk/OiBudW1iZXI7XG4gICAgICAgIH1cbiAgICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRiIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IG9wdGlvbnM/LmVuY3J5cHRGaWVsZHNcbiAgICAgICAgICAgICAgICA/IHRoaXMuZW5jcnlwdERhdGEoZGF0YSwgb3B0aW9ucy5lbmNyeXB0RmllbGRzKVxuICAgICAgICAgICAgICAgIDogZGF0YTtcblxuICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IE9iamVjdC5rZXlzKGVuY3J5cHRlZERhdGEpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhlbmNyeXB0ZWREYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVycyA9IGNvbHVtbnMubWFwKCgpID0+ICc/Jykuam9pbignLCAnKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gJHt0YWJsZX0gKGlkLCAke2NvbHVtbnMuam9pbignLCAnKX0sIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpXG4gICAgICAgICAgICAgICAgVkFMVUVTICg/LCAke3BsYWNlaG9sZGVyc30sID8sID8pXG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGIhLnRyYW5zYWN0aW9uKCh0eDogU1FMaXRlV2ViU1FMVHJhbnNhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgW2lkLCAuLi52YWx1ZXMsIHRpbWVzdGFtcCwgdGltZXN0YW1wXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChfdHg6IFNRTGl0ZVdlYlNRTFRyYW5zYWN0aW9uLCB7IGluc2VydElkIH06IFNRTGl0ZVdlYlNRTFJlc3VsdFNldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjYWNoZSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LmNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGUodGFibGUsIGlkLCBkYXRhLCBvcHRpb25zLmNhY2hlRXhwaXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9wdGlvbnM/LnJldHVybklkID8gU3RyaW5nKGluc2VydElkKSA6IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoX3R4OiBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbiwgZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luc2VydCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSW5zZXJ0IGZhaWxlZDogJHtlcnJvcn1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luc2VydCBvcGVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGluc2VydCBpbnRvICR7dGFibGV9OiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgcmVjb3JkIGluIHRoZSBkYXRhYmFzZVxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyB1cGRhdGUoXG4gICAgICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgICAgIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgICAgIG9wdGlvbnM/OiB7XG4gICAgICAgICAgICBlbmNyeXB0RmllbGRzPzogc3RyaW5nW107XG4gICAgICAgICAgICBjYWNoZT86IGJvb2xlYW47XG4gICAgICAgICAgICBjYWNoZUV4cGlyeT86IG51bWJlcjtcbiAgICAgICAgfVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRiIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBlbmNyeXB0ZWREYXRhID0gb3B0aW9ucz8uZW5jcnlwdEZpZWxkc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbmNyeXB0RGF0YShkYXRhLCBvcHRpb25zLmVuY3J5cHRGaWVsZHMpXG4gICAgICAgICAgICAgICAgOiBkYXRhO1xuXG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LmtleXMoZW5jcnlwdGVkRGF0YSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGVuY3J5cHRlZERhdGEpO1xuICAgICAgICAgICAgY29uc3Qgc2V0Q2xhdXNlID0gY29sdW1ucy5tYXAoY29sID0+IGAke2NvbH0gPSA/YCkuam9pbignLCAnKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICAgICAgVVBEQVRFICR7dGFibGV9IFxuICAgICAgICAgICAgICAgIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSA/XG4gICAgICAgICAgICAgICAgV0hFUkUgaWQgPSA/XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGIhLnRyYW5zYWN0aW9uKCh0eDogU1FMaXRlV2ViU1FMVHJhbnNhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgWy4uLnZhbHVlcywgdGltZXN0YW1wLCBpZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoX3R4OiBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbiwgX3Jlc3VsdDogU1FMaXRlV2ViU1FMUmVzdWx0U2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNhY2hlIGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8uY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYWNoZSh0YWJsZSwgaWQsIGRhdGEsIG9wdGlvbnMuY2FjaGVFeHBpcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoX3R4OiBTUUxpdGVXZWJTUUxUcmFuc2FjdGlvbiwgZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwZGF0ZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgVXBkYXRlIGZhaWxlZDogJHtlcnJvcn1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwZGF0ZSBvcGVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSAke3RhYmxlfToke2lkfTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHJlY29yZCBmcm9tIHRoZSBkYXRhYmFzZVxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBkZWxldGUodGFibGU6IHN0cmluZywgaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRiIHx8ICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBERUxFVEUgRlJPTSAke3RhYmxlfSBXSEVSRSBpZCA9ID9gO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGIhLnRyYW5zYWN0aW9uKCh0eDogU1FMaXRlV2ViU1FMVHJhbnNhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgW2lkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChfdHg6IFNRTGl0ZVdlYlNRTFRyYW5zYWN0aW9uLCBfcmVzdWx0OiBTUUxpdGVXZWJTUUxSZXN1bHRTZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUNhY2hlKHRhYmxlLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChfdHg6IFNRTGl0ZVdlYlNRTFRyYW5zYWN0aW9uLCBlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGVsZXRlIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBEZWxldGUgZmFpbGVkOiAke2Vycm9yfWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGVsZXRlIG9wZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGZyb20gJHt0YWJsZX06JHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgcmVjb3JkcyBmcm9tIHRoZSBkYXRhYmFzZSB3aXRoIGNhY2hpbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2VsZWN0PFQgPSBhbnk+KFxuICAgICAgICB0YWJsZTogc3RyaW5nLFxuICAgICAgICBvcHRpb25zPzoge1xuICAgICAgICAgICAgd2hlcmU/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgICAgICAgY29sdW1ucz86IHN0cmluZ1tdO1xuICAgICAgICAgICAgbGltaXQ/OiBudW1iZXI7XG4gICAgICAgICAgICBvZmZzZXQ/OiBudW1iZXI7XG4gICAgICAgICAgICBvcmRlckJ5Pzogc3RyaW5nO1xuICAgICAgICAgICAgb3JkZXJEaXJlY3Rpb24/OiAnQVNDJyB8ICdERVNDJztcbiAgICAgICAgICAgIGNhY2hlPzogYm9vbGVhbjtcbiAgICAgICAgICAgIGNhY2hlRXhwaXJ5PzogbnVtYmVyO1xuICAgICAgICAgICAgZGVjcnlwdEZpZWxkcz86IHN0cmluZ1tdO1xuICAgICAgICB9XG4gICAgKTogUHJvbWlzZTxUW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0IGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5jYWNoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSB0aGlzLmdldEZyb21DYWNoZSh0YWJsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZERhdGEgYXMgVFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHF1ZXJ5ID0gYFNFTEVDVCAke29wdGlvbnM/LmNvbHVtbnM/LmpvaW4oJywgJykgfHwgJyonfSBGUk9NICR7dGFibGV9YDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtczogYW55W10gPSBbXTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnM/LndoZXJlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9ucyA9IE9iamVjdC5rZXlzKG9wdGlvbnMud2hlcmUpLm1hcChrZXkgPT4gYCR7a2V5fSA9ID9gKTtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uT2JqZWN0LnZhbHVlcyhvcHRpb25zLndoZXJlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5vcmRlckJ5KSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gYCBPUkRFUiBCWSAke29wdGlvbnMub3JkZXJCeX0gJHtvcHRpb25zLm9yZGVyRGlyZWN0aW9uIHx8ICdBU0MnfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5saW1pdCkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IGAgTElNSVQgJHtvcHRpb25zLmxpbWl0fWA7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/Lm9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeSArPSBgIE9GRlNFVCAke29wdGlvbnMub2Zmc2V0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5leGVjdXRlUXVlcnk8VD4ocXVlcnksIHBhcmFtcywgdW5kZWZpbmVkLCBvcHRpb25zPy5kZWNyeXB0RmllbGRzKTtcblxuICAgICAgICAgICAgLy8gQ2FjaGUgcmVzdWx0cyBpZiBlbmFibGVkXG4gICAgICAgICAgICBpZiAob3B0aW9ucz8uY2FjaGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlUmVzdWx0cyh0YWJsZSwgb3B0aW9ucywgcmVzdWx0cywgb3B0aW9ucy5jYWNoZUV4cGlyeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2VsZWN0IG9wZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2VsZWN0IGZyb20gJHt0YWJsZX06ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGltZXIgc2Vzc2lvbnMgd2l0aCBvZmZsaW5lIHN1cHBvcnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0VGltZXJTZXNzaW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8T2ZmbGluZVRpbWVyU2Vzc2lvbltdPiB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgdGhpcy5zZWxlY3Q8T2ZmbGluZVRpbWVyU2Vzc2lvbj4oJ3RpbWVyX3Nlc3Npb25zJywge1xuICAgICAgICAgICAgd2hlcmU6IHsgdXNlcl9pZDogdXNlcklkIH0sXG4gICAgICAgICAgICBvcmRlckJ5OiAnc3RhcnRfdGltZScsXG4gICAgICAgICAgICBvcmRlckRpcmVjdGlvbjogJ0RFU0MnLFxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICBjYWNoZUV4cGlyeTogMzAwMDAwLCAvLyA1IG1pbnV0ZXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlc3Npb25zLm1hcChzZXNzaW9uID0+ICh7XG4gICAgICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICAgICAgc3luY2VkOiB0cnVlLCAvLyBNYXJrIGFzIHN5bmNlZCBzaW5jZSBpdCdzIGZyb20gbG9jYWwgREJcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgdGltZXIgc2Vzc2lvbiBvZmZsaW5lXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHNhdmVUaW1lclNlc3Npb24oc2Vzc2lvbjogT21pdDxPZmZsaW5lVGltZXJTZXNzaW9uLCAnaWQnIHwgJ3N5bmNlZCc+KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB7XG4gICAgICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgc3luY2VkOiBmYWxzZSwgLy8gV2lsbCBiZSBzeW5jZWQgbGF0ZXJcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbnNlcnQoJ3RpbWVyX3Nlc3Npb25zJywgc2Vzc2lvbkRhdGEsIHtcbiAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgcmV0dXJuSWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBtaWxlc3RvbmUgcHJvZ3Jlc3Mgd2l0aCBvZmZsaW5lIHN1cHBvcnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TWlsZXN0b25lUHJvZ3Jlc3ModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPE9mZmxpbmVNaWxlc3RvbmVQcm9ncmVzc1tdPiB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gYXdhaXQgdGhpcy5zZWxlY3Q8T2ZmbGluZU1pbGVzdG9uZVByb2dyZXNzPignbWlsZXN0b25lX3Byb2dyZXNzJywge1xuICAgICAgICAgICAgd2hlcmU6IHsgdXNlcl9pZDogdXNlcklkIH0sXG4gICAgICAgICAgICBvcmRlckJ5OiAnbGFzdF91cGRhdGVkJyxcbiAgICAgICAgICAgIG9yZGVyRGlyZWN0aW9uOiAnREVTQycsXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhY2hlRXhwaXJ5OiA2MDAwMDAsIC8vIDEwIG1pbnV0ZXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb2dyZXNzLm1hcChwID0+ICh7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgc3luY2VkOiB0cnVlLCAvLyBNYXJrIGFzIHN5bmNlZCBzaW5jZSBpdCdzIGZyb20gbG9jYWwgREJcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgbWlsZXN0b25lIHByb2dyZXNzIG9mZmxpbmVcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2F2ZU1pbGVzdG9uZVByb2dyZXNzKHByb2dyZXNzOiBPbWl0PE9mZmxpbmVNaWxlc3RvbmVQcm9ncmVzcywgJ2lkJyB8ICdzeW5jZWQnPik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzRGF0YSA9IHtcbiAgICAgICAgICAgIC4uLnByb2dyZXNzLFxuICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgc3luY2VkOiBmYWxzZSwgLy8gV2lsbCBiZSBzeW5jZWQgbGF0ZXJcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbnNlcnQoJ21pbGVzdG9uZV9wcm9ncmVzcycsIHByb2dyZXNzRGF0YSwge1xuICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICByZXR1cm5JZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGRhdGFiYXNlIHN0YXRpc3RpY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3RhdHMoKTogUHJvbWlzZTxEYXRhYmFzZVN0YXRzPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYlNpemUgPSBhd2FpdCB0aGlzLmdldERhdGFiYXNlU2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgdGFibGVDb3VudCA9IGF3YWl0IHRoaXMuZ2V0VGFibGVDb3VudCgpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhDb3VudCA9IGF3YWl0IHRoaXMuZ2V0SW5kZXhDb3VudCgpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnRhdGlvbiA9IGF3YWl0IHRoaXMuZ2V0RnJhZ21lbnRhdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvdGFsU2l6ZTogZGJTaXplLnRvdGFsLFxuICAgICAgICAgICAgICAgIHVzZWRTaXplOiBkYlNpemUudXNlZCxcbiAgICAgICAgICAgICAgICBmcmVlU2l6ZTogZGJTaXplLmZyZWUsXG4gICAgICAgICAgICAgICAgdGFibGVDb3VudCxcbiAgICAgICAgICAgICAgICBpbmRleENvdW50LFxuICAgICAgICAgICAgICAgIGxhc3RWYWN1dW06IG5ldyBEYXRlKCksIC8vIFNpbXBsaWZpZWRcbiAgICAgICAgICAgICAgICBmcmFnbWVudGF0aW9uUGVyY2VudGFnZTogZnJhZ21lbnRhdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGRhdGFiYXNlIHN0YXRzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGF0YWJhc2Ugc3RhdHMgZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgZXhwaXJlZCBjYWNoZSBlbnRyaWVzXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGNsZWFudXBDYWNoZSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICBsZXQgY2xlYW5lZCA9IDA7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBpdGVtXSBvZiB0aGlzLmNhY2hlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uZXhwaXJlc0F0ICYmIG5vdyA+IGl0ZW0uZXhwaXJlc0F0LmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgY2xlYW5lZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxzbyBjbGVhbiBBc3luY1N0b3JhZ2UgY2FjaGVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0QWxsS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVLZXlzID0ga2V5cy5maWx0ZXIoa2V5ID0+IGtleS5zdGFydHNXaXRoKHRoaXMuQ0FDSEVfUFJFRklYKSk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNhY2hlS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbTogU3RvcmFnZUl0ZW0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXhwaXJlc0F0ICYmIG5vdyA+IG5ldyBEYXRlKGl0ZW0uZXhwaXJlc0F0KS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjbGVhbiBBc3luY1N0b3JhZ2UgY2FjaGU6JywgZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsZWFuZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFjdXVtIHRoZSBkYXRhYmFzZSB0byByZWNsYWltIHNwYWNlXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHZhY3V1bSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVF1ZXJ5KCdWQUNVVU0nKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSB2YWN1dW1lZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB2YWN1dW0gZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2VydmljZSBzdGF0dXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RhdHVzKCk6IERhdGFiYXNlU3RhdHVzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0aGlzLmlzSW5pdGlhbGl6ZWQsXG4gICAgICAgICAgICBjb25uZWN0ZWQ6IHRoaXMuZGIgIT09IG51bGwsXG4gICAgICAgICAgICBlbmNyeXB0ZWQ6ICEhdGhpcy5lbmNyeXB0aW9uS2V5LFxuICAgICAgICAgICAgc3RhdHM6IHtcbiAgICAgICAgICAgICAgICB0b3RhbFNpemU6IDAsXG4gICAgICAgICAgICAgICAgdXNlZFNpemU6IDAsXG4gICAgICAgICAgICAgICAgZnJlZVNpemU6IDAsXG4gICAgICAgICAgICAgICAgdGFibGVDb3VudDogMCxcbiAgICAgICAgICAgICAgICBpbmRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgIGxhc3RWYWN1dW06IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZnJhZ21lbnRhdGlvblBlcmNlbnRhZ2U6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIGRhdGFiYXNlIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgICAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2NhbERhdGFiYXNlIGRpc3Bvc2VkJyk7XG4gICAgfVxuXG4gICAgLy8gUHJpdmF0ZSBoZWxwZXIgbWV0aG9kc1xuXG4gICAgcHJpdmF0ZSBjcmVhdGVNb2NrRGF0YWJhc2UoKTogU1FMaXRlV2ViU1FMRGF0YWJhc2Uge1xuICAgICAgICAvLyBNb2NrIGRhdGFiYXNlIGZvciBkZXZlbG9wbWVudCAtIGluIHByb2R1Y3Rpb24gd291bGQgdXNlIHJlYWwgZXhwby1zcWxpdGVcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uKGNhbGxiYWNrOiAodHg6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNxbDogKHNxbDogc3RyaW5nLCBwYXJhbXM/OiBhbnlbXSwgc3VjY2Vzcz86ICh0eDogYW55LCByZXN1bHQ6IGFueSkgPT4gdm9pZCwgZXJyb3I/OiAodHg6IGFueSwgZXJyb3I6IGFueSkgPT4gYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01vY2sgU1FMOicsIHNxbCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vY2sgc3VjY2VzcyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydElkOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c0FmZmVjdGVkOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiAoaW5kZXg6IG51bWJlcikgPT4gKHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSgpOiB2b2lkIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY2xvc2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXR1cEVuY3J5cHRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZ2V0IGV4aXN0aW5nIGtleSBmcm9tIEFzeW5jU3RvcmFnZVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdLZXkgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnZGJfZW5jcnlwdGlvbl9rZXknKTtcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmNyeXB0aW9uS2V5ID0gZXhpc3RpbmdLZXk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIG5ldyBrZXlcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlBcnJheSA9IGJ0b2EodXVpZHY0KCkgKyBEYXRlLm5vdygpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5jcnlwdGlvbktleSA9IGtleUFycmF5O1xuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgc2VjdXJlbHlcbiAgICAgICAgICAgICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbSgnZGJfZW5jcnlwdGlvbl9rZXknLCBrZXlBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VuY3J5cHRpb24gc2V0dXAgZmFpbGVkLCB1c2luZyB1bmVuY3J5cHRlZCBtb2RlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuZW5jcnlwdGlvbktleSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZVNjaGVtYSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gYFxuICAgICAgICAgICAgLS0gVXNlcnMgdGFibGVcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcbiAgICAgICAgICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICAgICAgICAgIGVtYWlsIFRFWFQgVU5JUVVFLFxuICAgICAgICAgICAgICAgIG5hbWUgVEVYVCxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcyBURVhULFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQgVEVYVCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0IFRFWFRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC0tIFRpbWVyIHNlc3Npb25zIHRhYmxlXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB0aW1lcl9zZXNzaW9ucyAoXG4gICAgICAgICAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICAgICAgICB0aW1lcl9pZCBURVhULFxuICAgICAgICAgICAgICAgIHVzZXJfaWQgVEVYVCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lIFRFWFQsXG4gICAgICAgICAgICAgICAgZW5kX3RpbWUgVEVYVCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiBJTlRFR0VSLFxuICAgICAgICAgICAgICAgIHR5cGUgVEVYVCxcbiAgICAgICAgICAgICAgICBwYXVzZWQgQk9PTEVBTixcbiAgICAgICAgICAgICAgICBwYXVzZV9kdXJhdGlvbiBJTlRFR0VSLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCBCT09MRUFOLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZXMgVEVYVCxcbiAgICAgICAgICAgICAgICBzeW5jZWQgQk9PTEVBTixcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0IFRFWFQsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdCBURVhUXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAtLSBNaWxlc3RvbmUgcHJvZ3Jlc3MgdGFibGVcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG1pbGVzdG9uZV9wcm9ncmVzcyAoXG4gICAgICAgICAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVfaWQgVEVYVCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkIFRFWFQsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MgUkVBTCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgQk9PTEVBTixcbiAgICAgICAgICAgICAgICBsYXN0X3VwZGF0ZWQgVEVYVCxcbiAgICAgICAgICAgICAgICB1bmxvY2tlZF9hdCBURVhULFxuICAgICAgICAgICAgICAgIHN5bmNlZCBCT09MRUFOLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQgVEVYVCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0IFRFWFRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC0tIE5vdGlmaWNhdGlvbnMgdGFibGVcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG5vdGlmaWNhdGlvbnMgKFxuICAgICAgICAgICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgICAgICAgdXNlcl9pZCBURVhULFxuICAgICAgICAgICAgICAgIHR5cGUgVEVYVCxcbiAgICAgICAgICAgICAgICB0aXRsZSBURVhULFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgVEVYVCxcbiAgICAgICAgICAgICAgICBkYXRhIFRFWFQsXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkX2ZvciBURVhULFxuICAgICAgICAgICAgICAgIHNlbnQgQk9PTEVBTixcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0IFRFWFQsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdCBURVhUXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAtLSBTeW5jIHF1ZXVlIHRhYmxlIGZvciBvZmZsaW5lIG9wZXJhdGlvbnNcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN5bmNfcXVldWUgKFxuICAgICAgICAgICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uX3R5cGUgVEVYVCxcbiAgICAgICAgICAgICAgICB0YWJsZV9uYW1lIFRFWFQsXG4gICAgICAgICAgICAgICAgcmVjb3JkX2lkIFRFWFQsXG4gICAgICAgICAgICAgICAgZGF0YSBURVhULFxuICAgICAgICAgICAgICAgIHByaW9yaXR5IElOVEVHRVIsXG4gICAgICAgICAgICAgICAgcmV0cnlfY291bnQgSU5URUdFUixcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0IFRFWFQsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdCBURVhUXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAtLSBTZXR0aW5ncyB0YWJsZVxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2V0dGluZ3MgKFxuICAgICAgICAgICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgICAgICAgdXNlcl9pZCBURVhULFxuICAgICAgICAgICAgICAgIGtleSBURVhULFxuICAgICAgICAgICAgICAgIHZhbHVlIFRFWFQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdCBURVhULFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQgVEVYVFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLS0gQ3JlYXRlIGluZGV4ZXMgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfdGltZXJfc2Vzc2lvbnNfdXNlcl9pZCBPTiB0aW1lcl9zZXNzaW9ucyh1c2VyX2lkKTtcbiAgICAgICAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF90aW1lcl9zZXNzaW9uc19zdGFydF90aW1lIE9OIHRpbWVyX3Nlc3Npb25zKHN0YXJ0X3RpbWUpO1xuICAgICAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X21pbGVzdG9uZV9wcm9ncmVzc191c2VyX2lkIE9OIG1pbGVzdG9uZV9wcm9ncmVzcyh1c2VyX2lkKTtcbiAgICAgICAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9taWxlc3RvbmVfcHJvZ3Jlc3NfbWlsZXN0b25lX2lkIE9OIG1pbGVzdG9uZV9wcm9ncmVzcyhtaWxlc3RvbmVfaWQpO1xuICAgICAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X25vdGlmaWNhdGlvbnNfdXNlcl9pZCBPTiBub3RpZmljYXRpb25zKHVzZXJfaWQpO1xuICAgICAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3N5bmNfcXVldWVfcHJpb3JpdHkgT04gc3luY19xdWV1ZShwcmlvcml0eSk7XG4gICAgICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfc2V0dGluZ3NfdXNlcl9rZXkgT04gc2V0dGluZ3ModXNlcl9pZCwga2V5KTtcbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBzdGF0ZW1lbnRzID0gc2NoZW1hLnNwbGl0KCc7JykuZmlsdGVyKHN0bXQgPT4gc3RtdC50cmltKCkpO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3RhdGVtZW50IG9mIHN0YXRlbWVudHMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVF1ZXJ5KHN0YXRlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVDYWNoZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBpbi1tZW1vcnkgY2FjaGUgd2l0aCBMUlUgZXZpY3Rpb25cbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRDYWNoZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0QWxsS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVLZXlzID0ga2V5cy5maWx0ZXIoa2V5ID0+IGtleS5zdGFydHNXaXRoKHRoaXMuQ0FDSEVfUFJFRklYKSk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNhY2hlS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgQXN5bmNTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbTogU3RvcmFnZUl0ZW0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLmV4cGlyZXNBdCB8fCBEYXRlLm5vdygpIDwgbmV3IERhdGUoaXRlbS5leHBpcmVzQXQpLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGNhY2hlIGZyb20gQXN5bmNTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZW5jcnlwdERhdGEoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiwgZmllbGRzOiBzdHJpbmdbXSk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgICAgICBpZiAoIXRoaXMuZW5jcnlwdGlvbktleSkgcmV0dXJuIGRhdGE7XG5cbiAgICAgICAgY29uc3QgZW5jcnlwdGVkID0geyAuLi5kYXRhIH07XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICBpZiAoZW5jcnlwdGVkW2ZpZWxkXSkge1xuICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBlbmNyeXB0aW9uIC0gaW4gcHJvZHVjdGlvbiwgdXNlIHByb3BlciBlbmNyeXB0aW9uXG4gICAgICAgICAgICAgICAgZW5jcnlwdGVkW2ZpZWxkXSA9IGJ0b2EoSlNPTi5zdHJpbmdpZnkoZW5jcnlwdGVkW2ZpZWxkXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmNyeXB0ZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWNyeXB0Um93PFQgPSBhbnk+KHJvdzogVCwgZmllbGRzOiBzdHJpbmdbXSk6IFQge1xuICAgICAgICBpZiAoIXRoaXMuZW5jcnlwdGlvbktleSkgcmV0dXJuIHJvdztcblxuICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSB7IC4uLnJvdyB9IGFzIGFueTtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChkZWNyeXB0ZWRbZmllbGRdKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGVjcnlwdGVkW2ZpZWxkXSA9IEpTT04ucGFyc2UoYXRvYihkZWNyeXB0ZWRbZmllbGRdKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZGVjcnlwdCBmaWVsZCAke2ZpZWxkfTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNyeXB0ZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmNyeXB0UGFyYW1ldGVycyhwYXJhbXM6IGFueVtdLCBlbmNyeXB0RmllbGRzOiBzdHJpbmdbXSk6IGFueVtdIHtcbiAgICAgICAgLy8gU2ltcGxpZmllZCBwYXJhbWV0ZXIgZW5jcnlwdGlvblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ2FjaGUodGFibGU6IHN0cmluZywgaWQ6IHN0cmluZywgZGF0YTogYW55LCBleHBpcnk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5DQUNIRV9QUkVGSVh9JHt0YWJsZX1fJHtpZH1gO1xuICAgICAgICBjb25zdCBpdGVtOiBTdG9yYWdlSXRlbSA9IHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICAgICAgc2l6ZTogSlNPTi5zdHJpbmdpZnkoZGF0YSkubGVuZ3RoLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiBleHBpcnkgPyBuZXcgRGF0ZShEYXRlLm5vdygpICsgZXhwaXJ5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRhZ3M6IFt0YWJsZV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCBpdGVtKTtcblxuICAgICAgICAvLyBBbHNvIHN0b3JlIGluIEFzeW5jU3RvcmFnZSBmb3IgcGVyc2lzdGVuY2VcbiAgICAgICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShpdGVtKSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2FjaGUgaXRlbSBpbiBBc3luY1N0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMUlUgZXZpY3Rpb24gaWYgY2FjaGUgaXMgZnVsbFxuICAgICAgICBpZiAodGhpcy5jYWNoZS5zaXplID4gdGhpcy5jb25maWcuY2FjaGVTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEtleSA9IHRoaXMuY2FjaGUua2V5cygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChmaXJzdEtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGZpcnN0S2V5KTtcbiAgICAgICAgICAgICAgICBBc3luY1N0b3JhZ2UucmVtb3ZlSXRlbShmaXJzdEtleSkuY2F0Y2goY29uc29sZS53YXJuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RnJvbUNhY2hlKHRhYmxlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSk6IGFueSB8IG51bGwge1xuICAgICAgICAvLyBTaW1wbGlmaWVkIGNhY2hlIGtleSBnZW5lcmF0aW9uXG4gICAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMuQ0FDSEVfUFJFRklYfSR7dGFibGV9XyR7SlNPTi5zdHJpbmdpZnkob3B0aW9ucy53aGVyZSB8fCB7fSl9YDtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY2FjaGUuZ2V0KGtleSk7XG5cbiAgICAgICAgaWYgKGl0ZW0gJiYgKCFpdGVtLmV4cGlyZXNBdCB8fCBEYXRlLm5vdygpIDwgaXRlbS5leHBpcmVzQXQuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNhY2hlUmVzdWx0cyh0YWJsZTogc3RyaW5nLCBvcHRpb25zOiBhbnksIHJlc3VsdHM6IGFueVtdLCBleHBpcnk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMuQ0FDSEVfUFJFRklYfSR7dGFibGV9XyR7SlNPTi5zdHJpbmdpZnkob3B0aW9ucy53aGVyZSB8fCB7fSl9YDtcbiAgICAgICAgY29uc3QgaXRlbTogU3RvcmFnZUl0ZW0gPSB7XG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZTogcmVzdWx0cyxcbiAgICAgICAgICAgIHNpemU6IEpTT04uc3RyaW5naWZ5KHJlc3VsdHMpLmxlbmd0aCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGV4cGlyZXNBdDogZXhwaXJ5ID8gbmV3IERhdGUoRGF0ZS5ub3coKSArIGV4cGlyeSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0YWdzOiBbdGFibGVdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgaXRlbSk7XG4gICAgICAgIEFzeW5jU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpLmNhdGNoKGNvbnNvbGUud2Fybik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVGcm9tQ2FjaGUodGFibGU6IHN0cmluZywgaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLkNBQ0hFX1BSRUZJWH0ke3RhYmxlfV8ke2lkfWA7XG4gICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgIEFzeW5jU3RvcmFnZS5yZW1vdmVJdGVtKGtleSkuY2F0Y2goY29uc29sZS53YXJuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldERhdGFiYXNlU2l6ZSgpOiBQcm9taXNlPHsgdG90YWw6IG51bWJlcjsgdXNlZDogbnVtYmVyOyBmcmVlOiBudW1iZXIgfT4ge1xuICAgICAgICAvLyBTaW1wbGlmaWVkIHNpemUgY2FsY3VsYXRpb25cbiAgICAgICAgcmV0dXJuIHsgdG90YWw6IHRoaXMuY29uZmlnLnNpemUsIHVzZWQ6IDAsIGZyZWU6IHRoaXMuY29uZmlnLnNpemUgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFRhYmxlQ291bnQoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVF1ZXJ5KFwiU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0eXBlPSd0YWJsZSdcIik7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0WzBdPy5jb3VudCB8fCAwO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRJbmRleENvdW50KCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVRdWVyeShcIlNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHNxbGl0ZV9tYXN0ZXIgV0hFUkUgdHlwZT0naW5kZXgnXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFswXT8uY291bnQgfHwgMDtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0RnJhZ21lbnRhdGlvbigpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICAvLyBTaW1wbGlmaWVkIGZyYWdtZW50YXRpb24gY2FsY3VsYXRpb25cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbG9jYWxEYXRhYmFzZSA9IExvY2FsRGF0YWJhc2UuZ2V0SW5zdGFuY2UoKTtcbmV4cG9ydCBkZWZhdWx0IExvY2FsRGF0YWJhc2U7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBS0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBQW9DLElBc0N2QkUsYUFBYSxHQUFBQyxPQUFBLENBQUFELGFBQUE7RUFVdEIsU0FBQUEsY0FBb0JFLE1BQXNCLEVBQUU7SUFBQSxJQUFBQyxnQkFBQSxDQUFBQyxPQUFBLFFBQUFKLGFBQUE7SUFBQSxLQVJw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