3ff1e6e8d3c1668518bb929fe6a42fb3
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fakeCallAuthService = exports.FakeCallAuthenticationService = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _reactNative = require("react-native");
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _SecurityMonitor = require("../security/SecurityMonitor");
var _PrivacyManager = require("../security/PrivacyManager");
var _types = require("./types");
var FakeCallAuthenticationService = exports.FakeCallAuthenticationService = function () {
  function FakeCallAuthenticationService(config) {
    (0, _classCallCheck2.default)(this, FakeCallAuthenticationService);
    this.activeSessions = new Map();
    this.subscriptionMonitors = new Map();
    this.auditLogs = new Map();
    this.config = Object.assign({
      enableProTierValidation: true,
      enableSubscriptionMonitoring: true,
      enableUsageQuotas: true,
      enableAuditLogging: true,
      maxDailyCalls: 100,
      maxMonthlyCalls: 2000,
      proTierGracePeriod: 24,
      subscriptionCheckInterval: 15
    }, config);
  }
  return (0, _createClass2.default)(FakeCallAuthenticationService, [{
    key: "initialize",
    value: (function () {
      var _initialize = (0, _asyncToGenerator2.default)(function* () {
        try {
          yield this.loadActiveSessions();
          this.startSubscriptionMonitoring();
          yield this.initializePrivacyCompliance();
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_auth_initialized', {
            config: this.config,
            activeSessions: this.activeSessions.size
          });
          console.log('üîê FakeCall Authentication Service initialized');
        } catch (error) {
          console.error('Failed to initialize FakeCall Authentication Service:', error);
          throw error;
        }
      });
      function initialize() {
        return _initialize.apply(this, arguments);
      }
      return initialize;
    }())
  }, {
    key: "validateProTierAccess",
    value: (function () {
      var _validateProTierAccess = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var session = yield this.getOrCreateAuthSession(userId);
          var isValid = yield this.validateSubscriptionStatus(session.subscriptionStatus);
          if (!isValid) {
            yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_pro_tier_validation_failed', {
              userId: userId,
              reason: 'invalid_subscription',
              subscriptionStatus: session.subscriptionStatus
            });
            return false;
          }
          if (this.config.enableUsageQuotas) {
            var quotaExceeded = yield this.checkUsageQuotas(session);
            if (quotaExceeded) {
              yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_quota_exceeded', {
                userId: userId,
                dailyUsage: session.usageQuota.daily.used,
                monthlyUsage: session.usageQuota.monthly.used
              });
              return false;
            }
          }
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_pro_tier_validated', {
            userId: userId,
            subscriptionStatus: session.subscriptionStatus
          });
          return true;
        } catch (error) {
          console.error('Pro tier validation error:', error);
          return false;
        }
      });
      function validateProTierAccess(_x) {
        return _validateProTierAccess.apply(this, arguments);
      }
      return validateProTierAccess;
    }())
  }, {
    key: "getSubscriptionStatus",
    value: (function () {
      var _getSubscriptionStatus = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var session = yield this.getOrCreateAuthSession(userId);
          if (this.config.enableSubscriptionMonitoring) {
            yield this.updateSubscriptionStatus(session);
          }
          return session.subscriptionStatus;
        } catch (error) {
          console.error('Failed to get subscription status:', error);
          return {
            isActive: false,
            tier: 'free',
            autoRenew: false,
            paymentMethod: 'unknown',
            trialUsed: false
          };
        }
      });
      function getSubscriptionStatus(_x2) {
        return _getSubscriptionStatus.apply(this, arguments);
      }
      return getSubscriptionStatus;
    }())
  }, {
    key: "logFeatureUsage",
    value: (function () {
      var _logFeatureUsage = (0, _asyncToGenerator2.default)(function* (userId, feature, metadata) {
        try {
          if (!this.config.enableAuditLogging) return;
          var session = yield this.getOrCreateAuthSession(userId);
          var auditEntry = {
            timestamp: new Date(),
            feature: feature,
            action: 'usage',
            metadata: metadata || {},
            subscriptionStatus: session.subscriptionStatus,
            usageAfter: {
              daily: session.usageQuota.daily.used + 1,
              monthly: session.usageQuota.monthly.used + 1
            }
          };
          this.addToAuditLog(userId, auditEntry);
          if (this.config.enableUsageQuotas && this.shouldCountTowardsQuota(feature)) {
            yield this.incrementUsageCount(session, feature);
          }
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_feature_used', {
            userId: userId,
            feature: feature,
            metadata: metadata,
            subscriptionTier: session.subscriptionStatus.tier
          });
        } catch (error) {
          console.error('Failed to log feature usage:', error);
        }
      });
      function logFeatureUsage(_x3, _x4, _x5) {
        return _logFeatureUsage.apply(this, arguments);
      }
      return logFeatureUsage;
    }())
  }, {
    key: "checkFeatureLimit",
    value: (function () {
      var _checkFeatureLimit = (0, _asyncToGenerator2.default)(function* (userId, feature) {
        var _this = this;
        try {
          var session = yield this.getOrCreateAuthSession(userId);
          var limits = this.getFeatureLimits(session.subscriptionStatus.tier);
          var currentUsage = 0;
          var limit = limits[feature] || 0;
          var auditLog = this.getAuditLog(userId);
          var featureUsage = auditLog.filter(function (entry) {
            return entry.feature === feature && entry.action === 'usage' && _this.isWithinCurrentPeriod(entry.timestamp, 'daily');
          });
          currentUsage = featureUsage.length;
          return {
            allowed: currentUsage < limit,
            currentUsage: currentUsage,
            limit: limit,
            resetAt: this.getNextResetTime('daily'),
            overageAllowed: session.subscriptionStatus.tier === 'enterprise'
          };
        } catch (error) {
          console.error('Failed to check feature limit:', error);
          return {
            allowed: false,
            currentUsage: 0,
            limit: 0,
            resetAt: new Date(),
            overageAllowed: false
          };
        }
      });
      function checkFeatureLimit(_x6, _x7) {
        return _checkFeatureLimit.apply(this, arguments);
      }
      return checkFeatureLimit;
    }())
  }, {
    key: "validateCallConfiguration",
    value: (function () {
      var _validateCallConfiguration = (0, _asyncToGenerator2.default)(function* (request) {
        try {
          var startTime = Date.now();
          var session = yield this.getOrCreateAuthSession(request.userId);
          var hasProAccess = yield this.validateProTierAccess(request.userId);
          if (!hasProAccess) {
            return {
              success: false,
              error: this.createCallError(_types.CallErrorType.PRO_TIER_REQUIRED, 'Pro tier subscription required for this feature'),
              metadata: {
                timestamp: new Date(),
                requestId: this.generateRequestId(),
                duration: Date.now() - startTime,
                platform: request.platform
              }
            };
          }
          var callerValidation = yield this.validateCallerIDSafety(request.callConfig.callerInfo);
          var proFeatures = this.getAvailableProFeatures(session.subscriptionStatus);
          var riskLevel = this.assessCallRisk(request.callConfig, session);
          var warnings = [];
          if (callerValidation.needsReview) {
            warnings.push('Caller ID requires manual review');
          }
          if (riskLevel === 'high') {
            warnings.push('High risk call configuration detected');
          }
          var result = {
            isValid: callerValidation.isSafe && riskLevel !== 'high',
            riskLevel: riskLevel,
            warnings: warnings,
            proFeatures: proFeatures
          };
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_config_validated', {
            userId: request.userId,
            callId: request.callConfig.callerInfo.id,
            riskLevel: riskLevel,
            proFeatures: proFeatures.length,
            warnings: warnings.length
          });
          return {
            success: true,
            data: result,
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: Date.now() - startTime,
              platform: request.platform
            }
          };
        } catch (error) {
          console.error('Call configuration validation error:', error);
          return {
            success: false,
            error: this.createCallError(_types.CallErrorType.UNKNOWN_ERROR, 'Configuration validation failed'),
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: Date.now() - Date.now(),
              platform: request.platform
            }
          };
        }
      });
      function validateCallConfiguration(_x8) {
        return _validateCallConfiguration.apply(this, arguments);
      }
      return validateCallConfiguration;
    }())
  }, {
    key: "getUsageStatistics",
    value: (function () {
      var _getUsageStatistics = (0, _asyncToGenerator2.default)(function* (userId) {
        var _this2 = this;
        try {
          var session = yield this.getOrCreateAuthSession(userId);
          var auditLog = this.getAuditLog(userId);
          var now = new Date();
          var startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
          var startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
          var dailyUsage = auditLog.filter(function (entry) {
            return entry.timestamp >= startOfDay && _this2.shouldCountTowardsQuota(entry.feature);
          }).length;
          var monthlyUsage = auditLog.filter(function (entry) {
            return entry.timestamp >= startOfMonth && _this2.shouldCountTowardsQuota(entry.feature);
          }).length;
          var totalUsage = auditLog.filter(function (entry) {
            return _this2.shouldCountTowardsQuota(entry.feature);
          }).length;
          var featureUsage = {};
          var usageEntries = auditLog.filter(function (entry) {
            return _this2.shouldCountTowardsQuota(entry.feature) && entry.timestamp >= startOfDay;
          });
          for (var entry of usageEntries) {
            featureUsage[entry.feature] = (featureUsage[entry.feature] || 0) + 1;
          }
          return {
            success: true,
            data: {
              dailyUsage: dailyUsage,
              monthlyUsage: monthlyUsage,
              totalUsage: totalUsage,
              featureUsage: featureUsage,
              remainingQuota: {
                daily: Math.max(0, session.usageQuota.daily.limit - dailyUsage),
                monthly: Math.max(0, session.usageQuota.monthly.limit - monthlyUsage)
              }
            },
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: 0,
              platform: _reactNative.Platform.OS
            }
          };
        } catch (error) {
          console.error('Failed to get usage statistics:', error);
          return {
            success: false,
            error: this.createCallError(_types.CallErrorType.UNKNOWN_ERROR, 'Failed to get usage statistics'),
            metadata: {
              timestamp: new Date(),
              requestId: this.generateRequestId(),
              duration: 0,
              platform: _reactNative.Platform.OS
            }
          };
        }
      });
      function getUsageStatistics(_x9) {
        return _getUsageStatistics.apply(this, arguments);
      }
      return getUsageStatistics;
    }())
  }, {
    key: "dispose",
    value: (function () {
      var _dispose = (0, _asyncToGenerator2.default)(function* () {
        try {
          this.subscriptionMonitors.forEach(function (interval) {
            return clearInterval(interval);
          });
          this.subscriptionMonitors.clear();
          yield this.saveActiveSessions();
          this.activeSessions.clear();
          this.auditLogs.clear();
          yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_auth_disposed', {
            sessionsClosed: this.activeSessions.size,
            auditLogsCleared: this.auditLogs.size
          });
          console.log('üîê FakeCall Authentication Service disposed');
        } catch (error) {
          console.error('Error disposing FakeCall Authentication Service:', error);
        }
      });
      function dispose() {
        return _dispose.apply(this, arguments);
      }
      return dispose;
    }())
  }, {
    key: "getOrCreateAuthSession",
    value: (function () {
      var _getOrCreateAuthSession = (0, _asyncToGenerator2.default)(function* (userId) {
        var session = this.activeSessions.get(userId);
        if (!session) {
          var subscriptionStatus = yield this.getSubscriptionFromStorage(userId);
          session = yield this.createAuthSession(userId, subscriptionStatus);
          this.activeSessions.set(userId, session);
          yield this.saveSessionToStorage(session);
        }
        session.lastValidated = new Date();
        return session;
      });
      function getOrCreateAuthSession(_x0) {
        return _getOrCreateAuthSession.apply(this, arguments);
      }
      return getOrCreateAuthSession;
    }())
  }, {
    key: "createAuthSession",
    value: function () {
      var _createAuthSession = (0, _asyncToGenerator2.default)(function* (userId, subscriptionStatus) {
        var usageLimits = this.getUsageLimits(subscriptionStatus.tier);
        return {
          sessionId: this.generateSessionId(),
          userId: userId,
          isProTier: subscriptionStatus.tier !== 'free',
          subscriptionStatus: subscriptionStatus,
          usageQuota: {
            daily: {
              used: 0,
              limit: usageLimits.daily,
              resetAt: this.getNextResetTime('daily')
            },
            monthly: {
              used: 0,
              limit: usageLimits.monthly,
              resetAt: this.getNextResetTime('monthly')
            }
          },
          featureAccess: {
            customCallerId: subscriptionStatus.tier !== 'free',
            advancedVoices: subscriptionStatus.tier === 'pro' || subscriptionStatus.tier === 'enterprise',
            extendedScheduling: subscriptionStatus.tier === 'pro' || subscriptionStatus.tier === 'enterprise',
            prioritySupport: subscriptionStatus.tier === 'pro' || subscriptionStatus.tier === 'enterprise',
            analytics: subscriptionStatus.tier === 'enterprise',
            teamCollaboration: subscriptionStatus.tier === 'enterprise'
          },
          permissions: {
            microphone: true,
            notifications: true,
            calls: true,
            background: true,
            accessibility: true
          },
          lastValidated: new Date(),
          auditEnabled: this.config.enableAuditLogging
        };
      });
      function createAuthSession(_x1, _x10) {
        return _createAuthSession.apply(this, arguments);
      }
      return createAuthSession;
    }()
  }, {
    key: "validateSubscriptionStatus",
    value: function () {
      var _validateSubscriptionStatus = (0, _asyncToGenerator2.default)(function* (status) {
        if (!status.isActive) {
          return false;
        }
        if (status.expiresAt && new Date() > status.expiresAt) {
          var now = new Date();
          var graceEnd = new Date(status.gracePeriod || now);
          return now <= graceEnd;
        }
        return true;
      });
      function validateSubscriptionStatus(_x11) {
        return _validateSubscriptionStatus.apply(this, arguments);
      }
      return validateSubscriptionStatus;
    }()
  }, {
    key: "getUsageLimits",
    value: function getUsageLimits(tier) {
      switch (tier) {
        case 'pro':
          return {
            daily: 50,
            monthly: 1000
          };
        case 'enterprise':
          return {
            daily: 200,
            monthly: 5000
          };
        default:
          return {
            daily: 5,
            monthly: 50
          };
      }
    }
  }, {
    key: "getFeatureLimits",
    value: function getFeatureLimits(tier) {
      var base = {
        daily_calls: this.getUsageLimits(tier).daily,
        custom_voice_profiles: tier === 'free' ? 1 : tier === 'pro' ? 5 : -1,
        scheduled_calls: this.getUsageLimits(tier).daily,
        caller_id_customization: tier === 'free' ? 0 : 1
      };
      return base;
    }
  }, {
    key: "getAvailableProFeatures",
    value: function getAvailableProFeatures(status) {
      var features = [];
      if (status.tier !== 'free') {
        features.push('custom_caller_id');
        features.push('voice_profiles');
        features.push('advanced_scheduling');
      }
      if (status.tier === 'pro' || status.tier === 'enterprise') {
        features.push('extended_limits');
        features.push('priority_support');
        features.push('analytics');
      }
      if (status.tier === 'enterprise') {
        features.push('team_collaboration');
        features.push('custom_integrations');
        features.push('white_label');
      }
      return features;
    }
  }, {
    key: "validateCallerIDSafety",
    value: function () {
      var _validateCallerIDSafety = (0, _asyncToGenerator2.default)(function* (callerInfo) {
        var isFromSafeDatabase = yield this.checkSafeDatabase(callerInfo.name, callerInfo.phoneNumber);
        var suspiciousPatterns = yield this.checkSuspiciousPatterns(callerInfo);
        var phoneValidation = yield this.validatePhoneNumber(callerInfo.phoneNumber);
        var reasons = [];
        var riskLevel = 'low';
        var needsReview = false;
        if (!isFromSafeDatabase) {
          reasons.push('Caller ID not in verified database');
          riskLevel = 'medium';
        }
        if (suspiciousPatterns.length > 0) {
          reasons.push(`Suspicious patterns detected: ${suspiciousPatterns.join(', ')}`);
          riskLevel = 'high';
          needsReview = true;
        }
        if (!phoneValidation.isValid) {
          reasons.push('Invalid phone number format');
          riskLevel = 'high';
        }
        return {
          isSafe: riskLevel !== 'high' && phoneValidation.isValid,
          needsReview: needsReview,
          riskLevel: riskLevel,
          reasons: reasons
        };
      });
      function validateCallerIDSafety(_x12) {
        return _validateCallerIDSafety.apply(this, arguments);
      }
      return validateCallerIDSafety;
    }()
  }, {
    key: "assessCallRisk",
    value: function assessCallRisk(config, session) {
      var riskScore = 0;
      if (config.callerInfo.callerType === 'emergency') {
        riskScore += 30;
      }
      if (config.autoAnswer) {
        riskScore += 20;
      }
      if (config.callDuration > 300) {
        riskScore += 15;
      }
      if (!session.featureAccess.customCallerId) {
        riskScore += 25;
      }
      if (riskScore >= 50) return 'high';
      if (riskScore >= 25) return 'medium';
      return 'low';
    }
  }, {
    key: "shouldCountTowardsQuota",
    value: function shouldCountTowardsQuota(feature) {
      var quotaFeatures = ['schedule_call', 'answer_call', 'custom_caller_id', 'voice_synthesis', 'advanced_scheduling'];
      return quotaFeatures.includes(feature);
    }
  }, {
    key: "incrementUsageCount",
    value: function () {
      var _incrementUsageCount = (0, _asyncToGenerator2.default)(function* (session, feature) {
        if (!this.shouldCountTowardsQuota(feature)) return;
        session.usageQuota.daily.used++;
        session.usageQuota.monthly.used++;
      });
      function incrementUsageCount(_x13, _x14) {
        return _incrementUsageCount.apply(this, arguments);
      }
      return incrementUsageCount;
    }()
  }, {
    key: "checkUsageQuotas",
    value: function () {
      var _checkUsageQuotas = (0, _asyncToGenerator2.default)(function* (session) {
        return session.usageQuota.daily.used >= session.usageQuota.daily.limit || session.usageQuota.monthly.used >= session.usageQuota.monthly.limit;
      });
      function checkUsageQuotas(_x15) {
        return _checkUsageQuotas.apply(this, arguments);
      }
      return checkUsageQuotas;
    }()
  }, {
    key: "getNextResetTime",
    value: function getNextResetTime(period) {
      var now = new Date();
      if (period === 'daily') {
        var tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        tomorrow.setHours(0, 0, 0, 0);
        return tomorrow;
      } else {
        var nextMonth = new Date(now);
        nextMonth.setMonth(nextMonth.getMonth() + 1);
        nextMonth.setDate(1);
        nextMonth.setHours(0, 0, 0, 0);
        return nextMonth;
      }
    }
  }, {
    key: "isWithinCurrentPeriod",
    value: function isWithinCurrentPeriod(timestamp, period) {
      var now = new Date();
      if (period === 'daily') {
        var startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
        return timestamp >= startOfDay;
      } else {
        var startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
        return timestamp >= startOfMonth;
      }
    }
  }, {
    key: "addToAuditLog",
    value: function addToAuditLog(userId, entry) {
      var userLog = this.auditLogs.get(userId) || [];
      userLog.push(entry);
      if (userLog.length > 1000) {
        userLog.splice(0, userLog.length - 1000);
      }
      this.auditLogs.set(userId, userLog);
    }
  }, {
    key: "getAuditLog",
    value: function getAuditLog(userId) {
      return this.auditLogs.get(userId) || [];
    }
  }, {
    key: "checkSafeDatabase",
    value: function () {
      var _checkSafeDatabase = (0, _asyncToGenerator2.default)(function* (name, phoneNumber) {
        return name.length > 0 && phoneNumber.length > 0;
      });
      function checkSafeDatabase(_x16, _x17) {
        return _checkSafeDatabase.apply(this, arguments);
      }
      return checkSafeDatabase;
    }()
  }, {
    key: "checkSuspiciousPatterns",
    value: function () {
      var _checkSuspiciousPatterns = (0, _asyncToGenerator2.default)(function* (callerInfo) {
        var patterns = [];
        if (callerInfo.name.match(/\d/)) {
          patterns.push('name_contains_numbers');
        }
        if (callerInfo.phoneNumber.match(/(\d)\1{6,}/)) {
          patterns.push('repeated_digits');
        }
        return patterns;
      });
      function checkSuspiciousPatterns(_x18) {
        return _checkSuspiciousPatterns.apply(this, arguments);
      }
      return checkSuspiciousPatterns;
    }()
  }, {
    key: "validatePhoneNumber",
    value: function () {
      var _validatePhoneNumber = (0, _asyncToGenerator2.default)(function* (phoneNumber) {
        var phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
        var cleaned = phoneNumber.replace(/[\s\-\(\)]/g, '');
        return {
          isValid: phoneRegex.test(cleaned) && cleaned.length >= 7
        };
      });
      function validatePhoneNumber(_x19) {
        return _validatePhoneNumber.apply(this, arguments);
      }
      return validatePhoneNumber;
    }()
  }, {
    key: "getSubscriptionFromStorage",
    value: function () {
      var _getSubscriptionFromStorage = (0, _asyncToGenerator2.default)(function* (userId) {
        try {
          var stored = yield _asyncStorage.default.getItem(`subscription_${userId}`);
          if (stored) {
            var parsed = JSON.parse(stored);
            if (parsed.expiresAt) parsed.expiresAt = new Date(parsed.expiresAt);
            if (parsed.gracePeriod) parsed.gracePeriod = new Date(parsed.gracePeriod);
            return parsed;
          }
        } catch (error) {
          console.error('Failed to load subscription from storage:', error);
        }
        return {
          isActive: false,
          tier: 'free',
          autoRenew: false,
          paymentMethod: 'unknown',
          trialUsed: false
        };
      });
      function getSubscriptionFromStorage(_x20) {
        return _getSubscriptionFromStorage.apply(this, arguments);
      }
      return getSubscriptionFromStorage;
    }()
  }, {
    key: "updateSubscriptionStatus",
    value: function () {
      var _updateSubscriptionStatus = (0, _asyncToGenerator2.default)(function* (session) {
        session.isProTier = yield this.validateSubscriptionStatus(session.subscriptionStatus);
      });
      function updateSubscriptionStatus(_x21) {
        return _updateSubscriptionStatus.apply(this, arguments);
      }
      return updateSubscriptionStatus;
    }()
  }, {
    key: "startSubscriptionMonitoring",
    value: function startSubscriptionMonitoring() {
      var _this3 = this;
      this.activeSessions.forEach(function (session, userId) {
        if (session.subscriptionStatus.isActive && session.subscriptionStatus.tier !== 'free') {
          var monitor = setInterval((0, _asyncToGenerator2.default)(function* () {
            yield _this3.updateSubscriptionStatus(session);
            if (!session.isProTier) {
              yield _SecurityMonitor.securityMonitor.logSecurityEvent('fake_call_subscription_expired', {
                userId: userId,
                subscriptionStatus: session.subscriptionStatus
              });
            }
          }), _this3.config.subscriptionCheckInterval * 60 * 1000);
          _this3.subscriptionMonitors.set(userId, monitor);
        }
      });
    }
  }, {
    key: "initializePrivacyCompliance",
    value: function () {
      var _initializePrivacyCompliance = (0, _asyncToGenerator2.default)(function* () {
        try {
          var privacySettings = _PrivacyManager.privacyManager.getPrivacySettings();
          console.log('üîí Privacy settings loaded:', privacySettings);
        } catch (error) {
          console.error('Failed to initialize privacy compliance:', error);
        }
      });
      function initializePrivacyCompliance() {
        return _initializePrivacyCompliance.apply(this, arguments);
      }
      return initializePrivacyCompliance;
    }()
  }, {
    key: "generateRequestId",
    value: function generateRequestId() {
      return `req_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;
    }
  }, {
    key: "generateSessionId",
    value: function generateSessionId() {
      return `session_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;
    }
  }, {
    key: "createCallError",
    value: function createCallError(type, message) {
      return {
        type: type,
        code: type,
        message: message,
        recoverable: false,
        suggestedAction: 'Contact support if issue persists',
        timestamp: new Date(),
        callId: '',
        userId: ''
      };
    }
  }, {
    key: "loadActiveSessions",
    value: function () {
      var _loadActiveSessions = (0, _asyncToGenerator2.default)(function* () {
        try {
          var stored = yield _asyncStorage.default.getItem('fake_call_active_sessions');
          if (stored) {
            var parsed = JSON.parse(stored);
            this.activeSessions = new Map(parsed.map(function (_ref2) {
              var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
                userId = _ref3[0],
                session = _ref3[1];
              return [userId, Object.assign({}, session, {
                lastValidated: new Date(session.lastValidated),
                usageQuota: {
                  daily: Object.assign({}, session.usageQuota.daily, {
                    resetAt: new Date(session.usageQuota.daily.resetAt)
                  }),
                  monthly: Object.assign({}, session.usageQuota.monthly, {
                    resetAt: new Date(session.usageQuota.monthly.resetAt)
                  })
                }
              })];
            }));
          }
        } catch (error) {
          console.error('Failed to load active sessions:', error);
        }
      });
      function loadActiveSessions() {
        return _loadActiveSessions.apply(this, arguments);
      }
      return loadActiveSessions;
    }()
  }, {
    key: "saveActiveSessions",
    value: function () {
      var _saveActiveSessions = (0, _asyncToGenerator2.default)(function* () {
        try {
          var sessionsArray = Array.from(this.activeSessions.entries());
          var serializable = sessionsArray.map(function (_ref4) {
            var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),
              userId = _ref5[0],
              session = _ref5[1];
            return [userId, Object.assign({}, session, {
              lastValidated: session.lastValidated.toISOString(),
              usageQuota: {
                daily: Object.assign({}, session.usageQuota.daily, {
                  resetAt: session.usageQuota.daily.resetAt.toISOString()
                }),
                monthly: Object.assign({}, session.usageQuota.monthly, {
                  resetAt: session.usageQuota.monthly.resetAt.toISOString()
                })
              }
            })];
          });
          yield _asyncStorage.default.setItem('fake_call_active_sessions', JSON.stringify(serializable));
        } catch (error) {
          console.error('Failed to save active sessions:', error);
        }
      });
      function saveActiveSessions() {
        return _saveActiveSessions.apply(this, arguments);
      }
      return saveActiveSessions;
    }()
  }, {
    key: "saveSessionToStorage",
    value: function () {
      var _saveSessionToStorage = (0, _asyncToGenerator2.default)(function* (session) {
        try {
          var key = `fake_call_session_${session.userId}`;
          var serializable = Object.assign({}, session, {
            lastValidated: session.lastValidated.toISOString(),
            usageQuota: {
              daily: Object.assign({}, session.usageQuota.daily, {
                resetAt: session.usageQuota.daily.resetAt.toISOString()
              }),
              monthly: Object.assign({}, session.usageQuota.monthly, {
                resetAt: session.usageQuota.monthly.resetAt.toISOString()
              })
            }
          });
          yield _asyncStorage.default.setItem(key, JSON.stringify(serializable));
        } catch (error) {
          console.error('Failed to save session to storage:', error);
        }
      });
      function saveSessionToStorage(_x22) {
        return _saveSessionToStorage.apply(this, arguments);
      }
      return saveSessionToStorage;
    }()
  }]);
}();
var fakeCallAuthService = exports.fakeCallAuthService = new FakeCallAuthenticationService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2FzeW5jU3RvcmFnZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfU2VjdXJpdHlNb25pdG9yIiwiX1ByaXZhY3lNYW5hZ2VyIiwiX3R5cGVzIiwiRmFrZUNhbGxBdXRoZW50aWNhdGlvblNlcnZpY2UiLCJleHBvcnRzIiwiY29uZmlnIiwiX2NsYXNzQ2FsbENoZWNrMiIsImRlZmF1bHQiLCJhY3RpdmVTZXNzaW9ucyIsIk1hcCIsInN1YnNjcmlwdGlvbk1vbml0b3JzIiwiYXVkaXRMb2dzIiwiT2JqZWN0IiwiYXNzaWduIiwiZW5hYmxlUHJvVGllclZhbGlkYXRpb24iLCJlbmFibGVTdWJzY3JpcHRpb25Nb25pdG9yaW5nIiwiZW5hYmxlVXNhZ2VRdW90YXMiLCJlbmFibGVBdWRpdExvZ2dpbmciLCJtYXhEYWlseUNhbGxzIiwibWF4TW9udGhseUNhbGxzIiwicHJvVGllckdyYWNlUGVyaW9kIiwic3Vic2NyaXB0aW9uQ2hlY2tJbnRlcnZhbCIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsIl9pbml0aWFsaXplIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwibG9hZEFjdGl2ZVNlc3Npb25zIiwic3RhcnRTdWJzY3JpcHRpb25Nb25pdG9yaW5nIiwiaW5pdGlhbGl6ZVByaXZhY3lDb21wbGlhbmNlIiwic2VjdXJpdHlNb25pdG9yIiwibG9nU2VjdXJpdHlFdmVudCIsInNpemUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJpbml0aWFsaXplIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdmFsaWRhdGVQcm9UaWVyQWNjZXNzIiwidXNlcklkIiwic2Vzc2lvbiIsImdldE9yQ3JlYXRlQXV0aFNlc3Npb24iLCJpc1ZhbGlkIiwidmFsaWRhdGVTdWJzY3JpcHRpb25TdGF0dXMiLCJzdWJzY3JpcHRpb25TdGF0dXMiLCJyZWFzb24iLCJxdW90YUV4Y2VlZGVkIiwiY2hlY2tVc2FnZVF1b3RhcyIsImRhaWx5VXNhZ2UiLCJ1c2FnZVF1b3RhIiwiZGFpbHkiLCJ1c2VkIiwibW9udGhseVVzYWdlIiwibW9udGhseSIsInZhbGlkYXRlUHJvVGllckFjY2VzcyIsIl94IiwiX2dldFN1YnNjcmlwdGlvblN0YXR1cyIsInVwZGF0ZVN1YnNjcmlwdGlvblN0YXR1cyIsImlzQWN0aXZlIiwidGllciIsImF1dG9SZW5ldyIsInBheW1lbnRNZXRob2QiLCJ0cmlhbFVzZWQiLCJnZXRTdWJzY3JpcHRpb25TdGF0dXMiLCJfeDIiLCJfbG9nRmVhdHVyZVVzYWdlIiwiZmVhdHVyZSIsIm1ldGFkYXRhIiwiYXVkaXRFbnRyeSIsInRpbWVzdGFtcCIsIkRhdGUiLCJhY3Rpb24iLCJ1c2FnZUFmdGVyIiwiYWRkVG9BdWRpdExvZyIsInNob3VsZENvdW50VG93YXJkc1F1b3RhIiwiaW5jcmVtZW50VXNhZ2VDb3VudCIsInN1YnNjcmlwdGlvblRpZXIiLCJsb2dGZWF0dXJlVXNhZ2UiLCJfeDMiLCJfeDQiLCJfeDUiLCJfY2hlY2tGZWF0dXJlTGltaXQiLCJfdGhpcyIsImxpbWl0cyIsImdldEZlYXR1cmVMaW1pdHMiLCJjdXJyZW50VXNhZ2UiLCJsaW1pdCIsImF1ZGl0TG9nIiwiZ2V0QXVkaXRMb2ciLCJmZWF0dXJlVXNhZ2UiLCJmaWx0ZXIiLCJlbnRyeSIsImlzV2l0aGluQ3VycmVudFBlcmlvZCIsImxlbmd0aCIsImFsbG93ZWQiLCJyZXNldEF0IiwiZ2V0TmV4dFJlc2V0VGltZSIsIm92ZXJhZ2VBbGxvd2VkIiwiY2hlY2tGZWF0dXJlTGltaXQiLCJfeDYiLCJfeDciLCJfdmFsaWRhdGVDYWxsQ29uZmlndXJhdGlvbiIsInJlcXVlc3QiLCJzdGFydFRpbWUiLCJub3ciLCJoYXNQcm9BY2Nlc3MiLCJzdWNjZXNzIiwiY3JlYXRlQ2FsbEVycm9yIiwiQ2FsbEVycm9yVHlwZSIsIlBST19USUVSX1JFUVVJUkVEIiwicmVxdWVzdElkIiwiZ2VuZXJhdGVSZXF1ZXN0SWQiLCJkdXJhdGlvbiIsInBsYXRmb3JtIiwiY2FsbGVyVmFsaWRhdGlvbiIsInZhbGlkYXRlQ2FsbGVySURTYWZldHkiLCJjYWxsQ29uZmlnIiwiY2FsbGVySW5mbyIsInByb0ZlYXR1cmVzIiwiZ2V0QXZhaWxhYmxlUHJvRmVhdHVyZXMiLCJyaXNrTGV2ZWwiLCJhc3Nlc3NDYWxsUmlzayIsIndhcm5pbmdzIiwibmVlZHNSZXZpZXciLCJwdXNoIiwicmVzdWx0IiwiaXNTYWZlIiwiY2FsbElkIiwiaWQiLCJkYXRhIiwiVU5LTk9XTl9FUlJPUiIsInZhbGlkYXRlQ2FsbENvbmZpZ3VyYXRpb24iLCJfeDgiLCJfZ2V0VXNhZ2VTdGF0aXN0aWNzIiwiX3RoaXMyIiwic3RhcnRPZkRheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwic3RhcnRPZk1vbnRoIiwidG90YWxVc2FnZSIsInVzYWdlRW50cmllcyIsInJlbWFpbmluZ1F1b3RhIiwiTWF0aCIsIm1heCIsIlBsYXRmb3JtIiwiT1MiLCJnZXRVc2FnZVN0YXRpc3RpY3MiLCJfeDkiLCJfZGlzcG9zZSIsImZvckVhY2giLCJpbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhciIsInNhdmVBY3RpdmVTZXNzaW9ucyIsInNlc3Npb25zQ2xvc2VkIiwiYXVkaXRMb2dzQ2xlYXJlZCIsImRpc3Bvc2UiLCJfZ2V0T3JDcmVhdGVBdXRoU2Vzc2lvbiIsImdldCIsImdldFN1YnNjcmlwdGlvbkZyb21TdG9yYWdlIiwiY3JlYXRlQXV0aFNlc3Npb24iLCJzZXQiLCJzYXZlU2Vzc2lvblRvU3RvcmFnZSIsImxhc3RWYWxpZGF0ZWQiLCJfeDAiLCJfY3JlYXRlQXV0aFNlc3Npb24iLCJ1c2FnZUxpbWl0cyIsImdldFVzYWdlTGltaXRzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpc1Byb1RpZXIiLCJmZWF0dXJlQWNjZXNzIiwiY3VzdG9tQ2FsbGVySWQiLCJhZHZhbmNlZFZvaWNlcyIsImV4dGVuZGVkU2NoZWR1bGluZyIsInByaW9yaXR5U3VwcG9ydCIsImFuYWx5dGljcyIsInRlYW1Db2xsYWJvcmF0aW9uIiwicGVybWlzc2lvbnMiLCJtaWNyb3Bob25lIiwibm90aWZpY2F0aW9ucyIsImNhbGxzIiwiYmFja2dyb3VuZCIsImFjY2Vzc2liaWxpdHkiLCJhdWRpdEVuYWJsZWQiLCJfeDEiLCJfeDEwIiwiX3ZhbGlkYXRlU3Vic2NyaXB0aW9uU3RhdHVzIiwic3RhdHVzIiwiZXhwaXJlc0F0IiwiZ3JhY2VFbmQiLCJncmFjZVBlcmlvZCIsIl94MTEiLCJiYXNlIiwiZGFpbHlfY2FsbHMiLCJjdXN0b21fdm9pY2VfcHJvZmlsZXMiLCJzY2hlZHVsZWRfY2FsbHMiLCJjYWxsZXJfaWRfY3VzdG9taXphdGlvbiIsImZlYXR1cmVzIiwiX3ZhbGlkYXRlQ2FsbGVySURTYWZldHkiLCJpc0Zyb21TYWZlRGF0YWJhc2UiLCJjaGVja1NhZmVEYXRhYmFzZSIsIm5hbWUiLCJwaG9uZU51bWJlciIsInN1c3BpY2lvdXNQYXR0ZXJucyIsImNoZWNrU3VzcGljaW91c1BhdHRlcm5zIiwicGhvbmVWYWxpZGF0aW9uIiwidmFsaWRhdGVQaG9uZU51bWJlciIsInJlYXNvbnMiLCJqb2luIiwiX3gxMiIsInJpc2tTY29yZSIsImNhbGxlclR5cGUiLCJhdXRvQW5zd2VyIiwiY2FsbER1cmF0aW9uIiwicXVvdGFGZWF0dXJlcyIsImluY2x1ZGVzIiwiX2luY3JlbWVudFVzYWdlQ291bnQiLCJfeDEzIiwiX3gxNCIsIl9jaGVja1VzYWdlUXVvdGFzIiwiX3gxNSIsInBlcmlvZCIsInRvbW9ycm93Iiwic2V0RGF0ZSIsInNldEhvdXJzIiwibmV4dE1vbnRoIiwic2V0TW9udGgiLCJ1c2VyTG9nIiwic3BsaWNlIiwiX2NoZWNrU2FmZURhdGFiYXNlIiwiX3gxNiIsIl94MTciLCJfY2hlY2tTdXNwaWNpb3VzUGF0dGVybnMiLCJwYXR0ZXJucyIsIm1hdGNoIiwiX3gxOCIsIl92YWxpZGF0ZVBob25lTnVtYmVyIiwicGhvbmVSZWdleCIsImNsZWFuZWQiLCJyZXBsYWNlIiwidGVzdCIsIl94MTkiLCJfZ2V0U3Vic2NyaXB0aW9uRnJvbVN0b3JhZ2UiLCJzdG9yZWQiLCJBc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiX3gyMCIsIl91cGRhdGVTdWJzY3JpcHRpb25TdGF0dXMiLCJfeDIxIiwiX3RoaXMzIiwibW9uaXRvciIsInNldEludGVydmFsIiwiX2luaXRpYWxpemVQcml2YWN5Q29tcGxpYW5jZSIsInByaXZhY3lTZXR0aW5ncyIsInByaXZhY3lNYW5hZ2VyIiwiZ2V0UHJpdmFjeVNldHRpbmdzIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0eXBlIiwibWVzc2FnZSIsImNvZGUiLCJyZWNvdmVyYWJsZSIsInN1Z2dlc3RlZEFjdGlvbiIsIl9sb2FkQWN0aXZlU2Vzc2lvbnMiLCJtYXAiLCJfcmVmMiIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkyIiwiX3NhdmVBY3RpdmVTZXNzaW9ucyIsInNlc3Npb25zQXJyYXkiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwic2VyaWFsaXphYmxlIiwiX3JlZjQiLCJfcmVmNSIsInRvSVNPU3RyaW5nIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIl9zYXZlU2Vzc2lvblRvU3RvcmFnZSIsIl94MjIiLCJmYWtlQ2FsbEF1dGhTZXJ2aWNlIl0sInNvdXJjZXMiOlsiRmFrZUNhbGxBdXRoU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZha2UgQ2FsbCBBdXRoZW50aWNhdGlvbiBTZXJ2aWNlXG4gKiBQcm8gdGllciBhdXRoZW50aWNhdGlvbiBhbmQgc2VjdXJpdHkgaW50ZWdyYXRpb24gZm9yIGZha2UgY2FsbCBub3RpZmljYXRpb24gc3lzdGVtXG4gKiBcbiAqIEV4dGVuZHMgZXhpc3RpbmcgQXV0aGVudGljYXRpb25TZXJ2aWNlIGFuZCBpbnRlZ3JhdGVzIHdpdGggQXV0aENvbnRleHQgZm9yIFBybyB0aWVyIHZhbGlkYXRpb25cbiAqIFByb3ZpZGVzIGZlYXR1cmUgZ2F0aW5nLCBzdWJzY3JpcHRpb24gbW9uaXRvcmluZywgYW5kIGF1ZGl0IGxvZ2dpbmcgZm9yIGZha2UgY2FsbCB1c2FnZVxuICovXG5cbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSAnQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2UnO1xuaW1wb3J0IHsgYXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VjdXJpdHkvQXV0aGVudGljYXRpb25TZXJ2aWNlJztcbmltcG9ydCB7IHNlY3VyaXR5TW9uaXRvciB9IGZyb20gJy4uL3NlY3VyaXR5L1NlY3VyaXR5TW9uaXRvcic7XG5pbXBvcnQgeyBwcml2YWN5TWFuYWdlciB9IGZyb20gJy4uL3NlY3VyaXR5L1ByaXZhY3lNYW5hZ2VyJztcbmltcG9ydCB7IENhbGxFcnJvciwgQ2FsbEVycm9yVHlwZSwgRmFrZUNhbGxSZXN1bHQsIFByb1RpZXJTZWN1cml0eSwgU3Vic2NyaXB0aW9uU3RhdHVzLCBGZWF0dXJlTGltaXRTdGF0dXMsIEZha2VDYWxsQ29uZmlnLCBDYWxsZXJJbmZvIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZUNhbGxBdXRoQ29uZmlnIHtcbiAgICBlbmFibGVQcm9UaWVyVmFsaWRhdGlvbjogYm9vbGVhbjtcbiAgICBlbmFibGVTdWJzY3JpcHRpb25Nb25pdG9yaW5nOiBib29sZWFuO1xuICAgIGVuYWJsZVVzYWdlUXVvdGFzOiBib29sZWFuO1xuICAgIGVuYWJsZUF1ZGl0TG9nZ2luZzogYm9vbGVhbjtcbiAgICBtYXhEYWlseUNhbGxzOiBudW1iZXI7XG4gICAgbWF4TW9udGhseUNhbGxzOiBudW1iZXI7XG4gICAgcHJvVGllckdyYWNlUGVyaW9kOiBudW1iZXI7IC8vIGhvdXJzXG4gICAgc3Vic2NyaXB0aW9uQ2hlY2tJbnRlcnZhbDogbnVtYmVyOyAvLyBtaW51dGVzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZUNhbGxBdXRoU2Vzc2lvbiB7XG4gICAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gICAgdXNlcklkOiBzdHJpbmc7XG4gICAgaXNQcm9UaWVyOiBib29sZWFuO1xuICAgIHN1YnNjcmlwdGlvblN0YXR1czogU3Vic2NyaXB0aW9uU3RhdHVzO1xuICAgIHVzYWdlUXVvdGE6IHtcbiAgICAgICAgZGFpbHk6IHsgdXNlZDogbnVtYmVyOyBsaW1pdDogbnVtYmVyOyByZXNldEF0OiBEYXRlIH07XG4gICAgICAgIG1vbnRobHk6IHsgdXNlZDogbnVtYmVyOyBsaW1pdDogbnVtYmVyOyByZXNldEF0OiBEYXRlIH07XG4gICAgfTtcbiAgICBmZWF0dXJlQWNjZXNzOiB7XG4gICAgICAgIGN1c3RvbUNhbGxlcklkOiBib29sZWFuO1xuICAgICAgICBhZHZhbmNlZFZvaWNlczogYm9vbGVhbjtcbiAgICAgICAgZXh0ZW5kZWRTY2hlZHVsaW5nOiBib29sZWFuO1xuICAgICAgICBwcmlvcml0eVN1cHBvcnQ6IGJvb2xlYW47XG4gICAgICAgIGFuYWx5dGljczogYm9vbGVhbjtcbiAgICAgICAgdGVhbUNvbGxhYm9yYXRpb246IGJvb2xlYW47XG4gICAgfTtcbiAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICBtaWNyb3Bob25lOiBib29sZWFuO1xuICAgICAgICBub3RpZmljYXRpb25zOiBib29sZWFuO1xuICAgICAgICBjYWxsczogYm9vbGVhbjtcbiAgICAgICAgYmFja2dyb3VuZDogYm9vbGVhbjtcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogYm9vbGVhbjtcbiAgICB9O1xuICAgIGxhc3RWYWxpZGF0ZWQ6IERhdGU7XG4gICAgYXVkaXRFbmFibGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZha2VDYWxsQXV0aFJlc3VsdCBleHRlbmRzIEZha2VDYWxsUmVzdWx0PEZha2VDYWxsQXV0aFNlc3Npb24+IHtcbiAgICBkYXRhPzogRmFrZUNhbGxBdXRoU2Vzc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9UaWVyVmFsaWRhdGlvblJlcXVlc3Qge1xuICAgIHVzZXJJZDogc3RyaW5nO1xuICAgIGZlYXR1cmVzUmVxdWVzdGVkOiBzdHJpbmdbXTtcbiAgICBjYWxsQ29uZmlnOiBGYWtlQ2FsbENvbmZpZztcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNhZ2VMaW1pdENoZWNrIHtcbiAgICB1c2VySWQ6IHN0cmluZztcbiAgICBhY3Rpb246ICdzY2hlZHVsZScgfCAnc3RhcnQnIHwgJ21vZGlmeSc7XG4gICAgZmVhdHVyZTogc3RyaW5nO1xuICAgIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGNsYXNzIEZha2VDYWxsQXV0aGVudGljYXRpb25TZXJ2aWNlIGltcGxlbWVudHMgUHJvVGllclNlY3VyaXR5IHtcbiAgICBwcml2YXRlIGNvbmZpZzogRmFrZUNhbGxBdXRoQ29uZmlnO1xuICAgIHByaXZhdGUgYWN0aXZlU2Vzc2lvbnM6IE1hcDxzdHJpbmcsIEZha2VDYWxsQXV0aFNlc3Npb24+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgc3Vic2NyaXB0aW9uTW9uaXRvcnM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBhdWRpdExvZ3M6IE1hcDxzdHJpbmcsIGFueVtdPiA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IFBhcnRpYWw8RmFrZUNhbGxBdXRoQ29uZmlnPikge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGVuYWJsZVByb1RpZXJWYWxpZGF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlU3Vic2NyaXB0aW9uTW9uaXRvcmluZzogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZVVzYWdlUXVvdGFzOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlQXVkaXRMb2dnaW5nOiB0cnVlLFxuICAgICAgICAgICAgbWF4RGFpbHlDYWxsczogMTAwLFxuICAgICAgICAgICAgbWF4TW9udGhseUNhbGxzOiAyMDAwLFxuICAgICAgICAgICAgcHJvVGllckdyYWNlUGVyaW9kOiAyNCxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkNoZWNrSW50ZXJ2YWw6IDE1LFxuICAgICAgICAgICAgLi4uY29uZmlnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmYWtlIGNhbGwgYXV0aGVudGljYXRpb24gc2VydmljZVxuICAgICAqL1xuICAgIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIGV4aXN0aW5nIHNlc3Npb25zIGZyb20gc3RvcmFnZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkQWN0aXZlU2Vzc2lvbnMoKTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgc3Vic2NyaXB0aW9uIG1vbml0b3JpbmcgZm9yIGFjdGl2ZSBQcm8gdXNlcnNcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTdWJzY3JpcHRpb25Nb25pdG9yaW5nKCk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgcHJpdmFjeSBjb21wbGlhbmNlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcml2YWN5Q29tcGxpYW5jZSgpO1xuXG4gICAgICAgICAgICAvLyBMb2cgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgIGF3YWl0IHNlY3VyaXR5TW9uaXRvci5sb2dTZWN1cml0eUV2ZW50KCdmYWtlX2NhbGxfYXV0aF9pbml0aWFsaXplZCcsIHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVNlc3Npb25zOiB0aGlzLmFjdGl2ZVNlc3Npb25zLnNpemVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkCBGYWtlQ2FsbCBBdXRoZW50aWNhdGlvbiBTZXJ2aWNlIGluaXRpYWxpemVkJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBGYWtlQ2FsbCBBdXRoZW50aWNhdGlvbiBTZXJ2aWNlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgUHJvIHRpZXIgYWNjZXNzIGZvciBmYWtlIGNhbGwgZmVhdHVyZXNcbiAgICAgKi9cbiAgICBhc3luYyB2YWxpZGF0ZVByb1RpZXJBY2Nlc3ModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmdldE9yQ3JlYXRlQXV0aFNlc3Npb24odXNlcklkKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgc3Vic2NyaXB0aW9uIHN0YXR1c1xuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHRoaXMudmFsaWRhdGVTdWJzY3JpcHRpb25TdGF0dXMoc2Vzc2lvbi5zdWJzY3JpcHRpb25TdGF0dXMpO1xuXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZWN1cml0eU1vbml0b3IubG9nU2VjdXJpdHlFdmVudCgnZmFrZV9jYWxsX3Byb190aWVyX3ZhbGlkYXRpb25fZmFpbGVkJywge1xuICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ2ludmFsaWRfc3Vic2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uU3RhdHVzOiBzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgdXNhZ2UgcXVvdGFzXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlVXNhZ2VRdW90YXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBxdW90YUV4Y2VlZGVkID0gYXdhaXQgdGhpcy5jaGVja1VzYWdlUXVvdGFzKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChxdW90YUV4Y2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlY3VyaXR5TW9uaXRvci5sb2dTZWN1cml0eUV2ZW50KCdmYWtlX2NhbGxfcXVvdGFfZXhjZWVkZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYWlseVVzYWdlOiBzZXNzaW9uLnVzYWdlUXVvdGEuZGFpbHkudXNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlVc2FnZTogc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkudXNlZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9wcm9fdGllcl92YWxpZGF0ZWQnLCB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXR1czogc2Vzc2lvbi5zdWJzY3JpcHRpb25TdGF0dXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUHJvIHRpZXIgdmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3Vic2NyaXB0aW9uIHN0YXR1cyBmb3IgdXNlclxuICAgICAqL1xuICAgIGFzeW5jIGdldFN1YnNjcmlwdGlvblN0YXR1cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3Vic2NyaXB0aW9uU3RhdHVzPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUF1dGhTZXNzaW9uKHVzZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb24gc3RhdHVzIGlmIG1vbml0b3JpbmcgaXMgZW5hYmxlZFxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVN1YnNjcmlwdGlvbk1vbml0b3JpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvblN0YXR1cyhzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uc3Vic2NyaXB0aW9uU3RhdHVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBzdWJzY3JpcHRpb24gc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpZXI6ICdmcmVlJyxcbiAgICAgICAgICAgICAgICBhdXRvUmVuZXc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6ICd1bmtub3duJyxcbiAgICAgICAgICAgICAgICB0cmlhbFVzZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIGZlYXR1cmUgdXNhZ2UgZm9yIGFuYWx5dGljcyBhbmQgcXVvdGEgbWFuYWdlbWVudFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ0ZlYXR1cmVVc2FnZSh1c2VySWQ6IHN0cmluZywgZmVhdHVyZTogc3RyaW5nLCBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlQXVkaXRMb2dnaW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmdldE9yQ3JlYXRlQXV0aFNlc3Npb24odXNlcklkKTtcblxuICAgICAgICAgICAgLy8gQWRkIHRvIGF1ZGl0IGxvZ1xuICAgICAgICAgICAgY29uc3QgYXVkaXRFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICd1c2FnZScsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhIHx8IHt9LFxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXR1czogc2Vzc2lvbi5zdWJzY3JpcHRpb25TdGF0dXMsXG4gICAgICAgICAgICAgICAgdXNhZ2VBZnRlcjoge1xuICAgICAgICAgICAgICAgICAgICBkYWlseTogc2Vzc2lvbi51c2FnZVF1b3RhLmRhaWx5LnVzZWQgKyAxLFxuICAgICAgICAgICAgICAgICAgICBtb250aGx5OiBzZXNzaW9uLnVzYWdlUXVvdGEubW9udGhseS51c2VkICsgMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVG9BdWRpdExvZyh1c2VySWQsIGF1ZGl0RW50cnkpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdXNhZ2UgcXVvdGFzIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVVc2FnZVF1b3RhcyAmJiB0aGlzLnNob3VsZENvdW50VG93YXJkc1F1b3RhKGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRVc2FnZUNvdW50KHNlc3Npb24sIGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb2cgdG8gc2VjdXJpdHkgbW9uaXRvclxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9mZWF0dXJlX3VzZWQnLCB7XG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uVGllcjogc2Vzc2lvbi5zdWJzY3JpcHRpb25TdGF0dXMudGllclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgZmVhdHVyZSB1c2FnZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmZWF0dXJlIGxpbWl0cyBhbmQgcXVvdGFzXG4gICAgICovXG4gICAgYXN5bmMgY2hlY2tGZWF0dXJlTGltaXQodXNlcklkOiBzdHJpbmcsIGZlYXR1cmU6IHN0cmluZyk6IFByb21pc2U8RmVhdHVyZUxpbWl0U3RhdHVzPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUF1dGhTZXNzaW9uKHVzZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBsaW1pdHMgYmFzZWQgb24gc3Vic2NyaXB0aW9uIHRpZXJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0cyA9IHRoaXMuZ2V0RmVhdHVyZUxpbWl0cyhzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1cy50aWVyKTtcblxuICAgICAgICAgICAgbGV0IGN1cnJlbnRVc2FnZSA9IDA7XG4gICAgICAgICAgICBsZXQgbGltaXQgPSBsaW1pdHNbZmVhdHVyZV0gfHwgMDtcblxuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgdXNhZ2UgZnJvbSBhdWRpdCBsb2dzXG4gICAgICAgICAgICBjb25zdCBhdWRpdExvZyA9IHRoaXMuZ2V0QXVkaXRMb2codXNlcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVVc2FnZSA9IGF1ZGl0TG9nLmZpbHRlcihlbnRyeSA9PlxuICAgICAgICAgICAgICAgIGVudHJ5LmZlYXR1cmUgPT09IGZlYXR1cmUgJiZcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb24gPT09ICd1c2FnZScgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzV2l0aGluQ3VycmVudFBlcmlvZChlbnRyeS50aW1lc3RhbXAsICdkYWlseScpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudFVzYWdlID0gZmVhdHVyZVVzYWdlLmxlbmd0aDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhbGxvd2VkOiBjdXJyZW50VXNhZ2UgPCBsaW1pdCxcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNhZ2UsXG4gICAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICAgICAgcmVzZXRBdDogdGhpcy5nZXROZXh0UmVzZXRUaW1lKCdkYWlseScpLFxuICAgICAgICAgICAgICAgIG92ZXJhZ2VBbGxvd2VkOiBzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1cy50aWVyID09PSAnZW50ZXJwcmlzZSdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBmZWF0dXJlIGxpbWl0OicsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWxsb3dlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY3VycmVudFVzYWdlOiAwLFxuICAgICAgICAgICAgICAgIGxpbWl0OiAwLFxuICAgICAgICAgICAgICAgIHJlc2V0QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgb3ZlcmFnZUFsbG93ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgY2FsbCBjb25maWd1cmF0aW9uIGFuZCBjYWxsZXIgSUQgZm9yIFBybyB0aWVyXG4gICAgICovXG4gICAgYXN5bmMgdmFsaWRhdGVDYWxsQ29uZmlndXJhdGlvbihyZXF1ZXN0OiBQcm9UaWVyVmFsaWRhdGlvblJlcXVlc3QpOiBQcm9taXNlPEZha2VDYWxsUmVzdWx0PHtcbiAgICAgICAgaXNWYWxpZDogYm9vbGVhbjtcbiAgICAgICAgcmlza0xldmVsOiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICAgICAgICB3YXJuaW5nczogc3RyaW5nW107XG4gICAgICAgIHByb0ZlYXR1cmVzOiBzdHJpbmdbXTtcbiAgICB9Pj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmdldE9yQ3JlYXRlQXV0aFNlc3Npb24ocmVxdWVzdC51c2VySWQpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBQcm8gdGllciBhY2Nlc3NcbiAgICAgICAgICAgIGNvbnN0IGhhc1Byb0FjY2VzcyA9IGF3YWl0IHRoaXMudmFsaWRhdGVQcm9UaWVyQWNjZXNzKHJlcXVlc3QudXNlcklkKTtcbiAgICAgICAgICAgIGlmICghaGFzUHJvQWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmNyZWF0ZUNhbGxFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbGxFcnJvclR5cGUuUFJPX1RJRVJfUkVRVUlSRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvIHRpZXIgc3Vic2NyaXB0aW9uIHJlcXVpcmVkIGZvciB0aGlzIGZlYXR1cmUnXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IHJlcXVlc3QucGxhdGZvcm1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGNhbGxlciBJRCBzYWZldHlcbiAgICAgICAgICAgIGNvbnN0IGNhbGxlclZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlQ2FsbGVySURTYWZldHkocmVxdWVzdC5jYWxsQ29uZmlnLmNhbGxlckluZm8pO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBQcm8gdGllciBmZWF0dXJlcyBhdmFpbGFiaWxpdHlcbiAgICAgICAgICAgIGNvbnN0IHByb0ZlYXR1cmVzID0gdGhpcy5nZXRBdmFpbGFibGVQcm9GZWF0dXJlcyhzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1cyk7XG5cbiAgICAgICAgICAgIC8vIFJpc2sgYXNzZXNzbWVudFxuICAgICAgICAgICAgY29uc3Qgcmlza0xldmVsID0gdGhpcy5hc3Nlc3NDYWxsUmlzayhyZXF1ZXN0LmNhbGxDb25maWcsIHNlc3Npb24pO1xuXG4gICAgICAgICAgICBjb25zdCB3YXJuaW5nczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGlmIChjYWxsZXJWYWxpZGF0aW9uLm5lZWRzUmV2aWV3KSB7XG4gICAgICAgICAgICAgICAgd2FybmluZ3MucHVzaCgnQ2FsbGVyIElEIHJlcXVpcmVzIG1hbnVhbCByZXZpZXcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyaXNrTGV2ZWwgPT09ICdoaWdoJykge1xuICAgICAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goJ0hpZ2ggcmlzayBjYWxsIGNvbmZpZ3VyYXRpb24gZGV0ZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGNhbGxlclZhbGlkYXRpb24uaXNTYWZlICYmIHJpc2tMZXZlbCAhPT0gJ2hpZ2gnLFxuICAgICAgICAgICAgICAgIHJpc2tMZXZlbCxcbiAgICAgICAgICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgICAgICAgICBwcm9GZWF0dXJlc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gTG9nIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGF3YWl0IHNlY3VyaXR5TW9uaXRvci5sb2dTZWN1cml0eUV2ZW50KCdmYWtlX2NhbGxfY29uZmlnX3ZhbGlkYXRlZCcsIHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHJlcXVlc3QudXNlcklkLFxuICAgICAgICAgICAgICAgIGNhbGxJZDogcmVxdWVzdC5jYWxsQ29uZmlnLmNhbGxlckluZm8uaWQsXG4gICAgICAgICAgICAgICAgcmlza0xldmVsLFxuICAgICAgICAgICAgICAgIHByb0ZlYXR1cmVzOiBwcm9GZWF0dXJlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzLmxlbmd0aFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiByZXF1ZXN0LnBsYXRmb3JtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FsbCBjb25maWd1cmF0aW9uIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogdGhpcy5jcmVhdGVDYWxsRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIENhbGxFcnJvclR5cGUuVU5LTk9XTl9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZ3VyYXRpb24gdmFsaWRhdGlvbiBmYWlsZWQnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogdGhpcy5nZW5lcmF0ZVJlcXVlc3RJZCgpLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiByZXF1ZXN0LnBsYXRmb3JtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IHVzYWdlIHN0YXRpc3RpY3MgZm9yIHVzZXJcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2FnZVN0YXRpc3RpY3ModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEZha2VDYWxsUmVzdWx0PHtcbiAgICAgICAgZGFpbHlVc2FnZTogbnVtYmVyO1xuICAgICAgICBtb250aGx5VXNhZ2U6IG51bWJlcjtcbiAgICAgICAgdG90YWxVc2FnZTogbnVtYmVyO1xuICAgICAgICBmZWF0dXJlVXNhZ2U6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgICAgIHJlbWFpbmluZ1F1b3RhOiB7XG4gICAgICAgICAgICBkYWlseTogbnVtYmVyO1xuICAgICAgICAgICAgbW9udGhseTogbnVtYmVyO1xuICAgICAgICB9O1xuICAgIH0+PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUF1dGhTZXNzaW9uKHVzZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBhdWRpdExvZyA9IHRoaXMuZ2V0QXVkaXRMb2codXNlcklkKTtcblxuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZEYXkgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCkpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcblxuICAgICAgICAgICAgY29uc3QgZGFpbHlVc2FnZSA9IGF1ZGl0TG9nLmZpbHRlcihlbnRyeSA9PlxuICAgICAgICAgICAgICAgIGVudHJ5LnRpbWVzdGFtcCA+PSBzdGFydE9mRGF5ICYmIHRoaXMuc2hvdWxkQ291bnRUb3dhcmRzUXVvdGEoZW50cnkuZmVhdHVyZSlcbiAgICAgICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb25zdCBtb250aGx5VXNhZ2UgPSBhdWRpdExvZy5maWx0ZXIoZW50cnkgPT5cbiAgICAgICAgICAgICAgICBlbnRyeS50aW1lc3RhbXAgPj0gc3RhcnRPZk1vbnRoICYmIHRoaXMuc2hvdWxkQ291bnRUb3dhcmRzUXVvdGEoZW50cnkuZmVhdHVyZSlcbiAgICAgICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb25zdCB0b3RhbFVzYWdlID0gYXVkaXRMb2cuZmlsdGVyKGVudHJ5ID0+XG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRDb3VudFRvd2FyZHNRdW90YShlbnRyeS5mZWF0dXJlKVxuICAgICAgICAgICAgKS5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBmZWF0dXJlIHVzYWdlIGJyZWFrZG93blxuICAgICAgICAgICAgY29uc3QgZmVhdHVyZVVzYWdlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICAgICAgICBjb25zdCB1c2FnZUVudHJpZXMgPSBhdWRpdExvZy5maWx0ZXIoZW50cnkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZENvdW50VG93YXJkc1F1b3RhKGVudHJ5LmZlYXR1cmUpICYmXG4gICAgICAgICAgICAgICAgZW50cnkudGltZXN0YW1wID49IHN0YXJ0T2ZEYXlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdXNhZ2VFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZVVzYWdlW2VudHJ5LmZlYXR1cmVdID0gKGZlYXR1cmVVc2FnZVtlbnRyeS5mZWF0dXJlXSB8fCAwKSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGRhaWx5VXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRobHlVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVVzYWdlLFxuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdRdW90YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFpbHk6IE1hdGgubWF4KDAsIHNlc3Npb24udXNhZ2VRdW90YS5kYWlseS5saW1pdCAtIGRhaWx5VXNhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhseTogTWF0aC5tYXgoMCwgc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkubGltaXQgLSBtb250aGx5VXNhZ2UpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLmdlbmVyYXRlUmVxdWVzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogUGxhdGZvcm0uT1NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHVzYWdlIHN0YXRpc3RpY3M6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogdGhpcy5jcmVhdGVDYWxsRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIENhbGxFcnJvclR5cGUuVU5LTk9XTl9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBnZXQgdXNhZ2Ugc3RhdGlzdGljcydcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLmdlbmVyYXRlUmVxdWVzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogUGxhdGZvcm0uT1NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlXG4gICAgICovXG4gICAgYXN5bmMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENsZWFyIHN1YnNjcmlwdGlvbiBtb25pdG9yc1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25Nb25pdG9ycy5mb3JFYWNoKGludGVydmFsID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uTW9uaXRvcnMuY2xlYXIoKTtcblxuICAgICAgICAgICAgLy8gU2F2ZSBhY3RpdmUgc2Vzc2lvbnNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFjdGl2ZVNlc3Npb25zKCk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIG1lbW9yeVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTZXNzaW9ucy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5hdWRpdExvZ3MuY2xlYXIoKTtcblxuICAgICAgICAgICAgYXdhaXQgc2VjdXJpdHlNb25pdG9yLmxvZ1NlY3VyaXR5RXZlbnQoJ2Zha2VfY2FsbF9hdXRoX2Rpc3Bvc2VkJywge1xuICAgICAgICAgICAgICAgIHNlc3Npb25zQ2xvc2VkOiB0aGlzLmFjdGl2ZVNlc3Npb25zLnNpemUsXG4gICAgICAgICAgICAgICAgYXVkaXRMb2dzQ2xlYXJlZDogdGhpcy5hdWRpdExvZ3Muc2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SQIEZha2VDYWxsIEF1dGhlbnRpY2F0aW9uIFNlcnZpY2UgZGlzcG9zZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRpc3Bvc2luZyBGYWtlQ2FsbCBBdXRoZW50aWNhdGlvbiBTZXJ2aWNlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaXZhdGUgaGVscGVyIG1ldGhvZHNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGdldE9yQ3JlYXRlQXV0aFNlc3Npb24odXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEZha2VDYWxsQXV0aFNlc3Npb24+IHtcbiAgICAgICAgbGV0IHNlc3Npb24gPSB0aGlzLmFjdGl2ZVNlc3Npb25zLmdldCh1c2VySWQpO1xuXG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzZXNzaW9uXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25TdGF0dXMgPSBhd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbkZyb21TdG9yYWdlKHVzZXJJZCk7XG4gICAgICAgICAgICBzZXNzaW9uID0gYXdhaXQgdGhpcy5jcmVhdGVBdXRoU2Vzc2lvbih1c2VySWQsIHN1YnNjcmlwdGlvblN0YXR1cyk7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU2Vzc2lvbnMuc2V0KHVzZXJJZCwgc2Vzc2lvbik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXNzaW9uVG9TdG9yYWdlKHNlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGxhc3QgdmFsaWRhdGVkIHRpbWVcbiAgICAgICAgc2Vzc2lvbi5sYXN0VmFsaWRhdGVkID0gbmV3IERhdGUoKTtcblxuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUF1dGhTZXNzaW9uKHVzZXJJZDogc3RyaW5nLCBzdWJzY3JpcHRpb25TdGF0dXM6IFN1YnNjcmlwdGlvblN0YXR1cyk6IFByb21pc2U8RmFrZUNhbGxBdXRoU2Vzc2lvbj4ge1xuICAgICAgICBjb25zdCB1c2FnZUxpbWl0cyA9IHRoaXMuZ2V0VXNhZ2VMaW1pdHMoc3Vic2NyaXB0aW9uU3RhdHVzLnRpZXIpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKSxcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgIGlzUHJvVGllcjogc3Vic2NyaXB0aW9uU3RhdHVzLnRpZXIgIT09ICdmcmVlJyxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXR1cyxcbiAgICAgICAgICAgIHVzYWdlUXVvdGE6IHtcbiAgICAgICAgICAgICAgICBkYWlseToge1xuICAgICAgICAgICAgICAgICAgICB1c2VkOiAwLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogdXNhZ2VMaW1pdHMuZGFpbHksXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0QXQ6IHRoaXMuZ2V0TmV4dFJlc2V0VGltZSgnZGFpbHknKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9udGhseToge1xuICAgICAgICAgICAgICAgICAgICB1c2VkOiAwLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogdXNhZ2VMaW1pdHMubW9udGhseSxcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRBdDogdGhpcy5nZXROZXh0UmVzZXRUaW1lKCdtb250aGx5JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmVhdHVyZUFjY2Vzczoge1xuICAgICAgICAgICAgICAgIGN1c3RvbUNhbGxlcklkOiBzdWJzY3JpcHRpb25TdGF0dXMudGllciAhPT0gJ2ZyZWUnLFxuICAgICAgICAgICAgICAgIGFkdmFuY2VkVm9pY2VzOiBzdWJzY3JpcHRpb25TdGF0dXMudGllciA9PT0gJ3BybycgfHwgc3Vic2NyaXB0aW9uU3RhdHVzLnRpZXIgPT09ICdlbnRlcnByaXNlJyxcbiAgICAgICAgICAgICAgICBleHRlbmRlZFNjaGVkdWxpbmc6IHN1YnNjcmlwdGlvblN0YXR1cy50aWVyID09PSAncHJvJyB8fCBzdWJzY3JpcHRpb25TdGF0dXMudGllciA9PT0gJ2VudGVycHJpc2UnLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5U3VwcG9ydDogc3Vic2NyaXB0aW9uU3RhdHVzLnRpZXIgPT09ICdwcm8nIHx8IHN1YnNjcmlwdGlvblN0YXR1cy50aWVyID09PSAnZW50ZXJwcmlzZScsXG4gICAgICAgICAgICAgICAgYW5hbHl0aWNzOiBzdWJzY3JpcHRpb25TdGF0dXMudGllciA9PT0gJ2VudGVycHJpc2UnLFxuICAgICAgICAgICAgICAgIHRlYW1Db2xsYWJvcmF0aW9uOiBzdWJzY3JpcHRpb25TdGF0dXMudGllciA9PT0gJ2VudGVycHJpc2UnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICAgICAgICBtaWNyb3Bob25lOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFzdFZhbGlkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGF1ZGl0RW5hYmxlZDogdGhpcy5jb25maWcuZW5hYmxlQXVkaXRMb2dnaW5nXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB2YWxpZGF0ZVN1YnNjcmlwdGlvblN0YXR1cyhzdGF0dXM6IFN1YnNjcmlwdGlvblN0YXR1cyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICAvLyBDaGVjayBpZiBzdWJzY3JpcHRpb24gaXMgYWN0aXZlXG4gICAgICAgIGlmICghc3RhdHVzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBleHBpcmF0aW9uXG4gICAgICAgIGlmIChzdGF0dXMuZXhwaXJlc0F0ICYmIG5ldyBEYXRlKCkgPiBzdGF0dXMuZXhwaXJlc0F0KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBncmFjZSBwZXJpb2RcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBncmFjZUVuZCA9IG5ldyBEYXRlKHN0YXR1cy5ncmFjZVBlcmlvZCB8fCBub3cpO1xuICAgICAgICAgICAgcmV0dXJuIG5vdyA8PSBncmFjZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VXNhZ2VMaW1pdHModGllcjogJ2ZyZWUnIHwgJ3BybycgfCAnZW50ZXJwcmlzZScpOiB7IGRhaWx5OiBudW1iZXI7IG1vbnRobHk6IG51bWJlciB9IHtcbiAgICAgICAgc3dpdGNoICh0aWVyKSB7XG4gICAgICAgICAgICBjYXNlICdwcm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRhaWx5OiA1MCxcbiAgICAgICAgICAgICAgICAgICAgbW9udGhseTogMTAwMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdlbnRlcnByaXNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYWlseTogMjAwLFxuICAgICAgICAgICAgICAgICAgICBtb250aGx5OiA1MDAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGFpbHk6IDUsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRobHk6IDUwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RmVhdHVyZUxpbWl0cyh0aWVyOiAnZnJlZScgfCAncHJvJyB8ICdlbnRlcnByaXNlJyk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xuICAgICAgICBjb25zdCBiYXNlID0ge1xuICAgICAgICAgICAgZGFpbHlfY2FsbHM6IHRoaXMuZ2V0VXNhZ2VMaW1pdHModGllcikuZGFpbHksXG4gICAgICAgICAgICBjdXN0b21fdm9pY2VfcHJvZmlsZXM6IHRpZXIgPT09ICdmcmVlJyA/IDEgOiB0aWVyID09PSAncHJvJyA/IDUgOiAtMSwgLy8gdW5saW1pdGVkXG4gICAgICAgICAgICBzY2hlZHVsZWRfY2FsbHM6IHRoaXMuZ2V0VXNhZ2VMaW1pdHModGllcikuZGFpbHksXG4gICAgICAgICAgICBjYWxsZXJfaWRfY3VzdG9taXphdGlvbjogdGllciA9PT0gJ2ZyZWUnID8gMCA6IDFcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEF2YWlsYWJsZVByb0ZlYXR1cmVzKHN0YXR1czogU3Vic2NyaXB0aW9uU3RhdHVzKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBmZWF0dXJlczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBpZiAoc3RhdHVzLnRpZXIgIT09ICdmcmVlJykge1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaCgnY3VzdG9tX2NhbGxlcl9pZCcpO1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaCgndm9pY2VfcHJvZmlsZXMnKTtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goJ2FkdmFuY2VkX3NjaGVkdWxpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMudGllciA9PT0gJ3BybycgfHwgc3RhdHVzLnRpZXIgPT09ICdlbnRlcnByaXNlJykge1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaCgnZXh0ZW5kZWRfbGltaXRzJyk7XG4gICAgICAgICAgICBmZWF0dXJlcy5wdXNoKCdwcmlvcml0eV9zdXBwb3J0Jyk7XG4gICAgICAgICAgICBmZWF0dXJlcy5wdXNoKCdhbmFseXRpY3MnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMudGllciA9PT0gJ2VudGVycHJpc2UnKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5wdXNoKCd0ZWFtX2NvbGxhYm9yYXRpb24nKTtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goJ2N1c3RvbV9pbnRlZ3JhdGlvbnMnKTtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goJ3doaXRlX2xhYmVsJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB2YWxpZGF0ZUNhbGxlcklEU2FmZXR5KGNhbGxlckluZm86IENhbGxlckluZm8pOiBQcm9taXNlPHtcbiAgICAgICAgaXNTYWZlOiBib29sZWFuO1xuICAgICAgICBuZWVkc1JldmlldzogYm9vbGVhbjtcbiAgICAgICAgcmlza0xldmVsOiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICAgICAgICByZWFzb25zOiBzdHJpbmdbXTtcbiAgICB9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGNhbGxlciBJRCBpcyBmcm9tIHNhZmUgZGF0YWJhc2VcbiAgICAgICAgY29uc3QgaXNGcm9tU2FmZURhdGFiYXNlID0gYXdhaXQgdGhpcy5jaGVja1NhZmVEYXRhYmFzZShjYWxsZXJJbmZvLm5hbWUsIGNhbGxlckluZm8ucGhvbmVOdW1iZXIpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgICAgIGNvbnN0IHN1c3BpY2lvdXNQYXR0ZXJucyA9IGF3YWl0IHRoaXMuY2hlY2tTdXNwaWNpb3VzUGF0dGVybnMoY2FsbGVySW5mbyk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgcGhvbmUgbnVtYmVyIGZvcm1hdFxuICAgICAgICBjb25zdCBwaG9uZVZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnZhbGlkYXRlUGhvbmVOdW1iZXIoY2FsbGVySW5mby5waG9uZU51bWJlcik7XG5cbiAgICAgICAgY29uc3QgcmVhc29uczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgbGV0IHJpc2tMZXZlbDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyA9ICdsb3cnO1xuICAgICAgICBsZXQgbmVlZHNSZXZpZXcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWlzRnJvbVNhZmVEYXRhYmFzZSkge1xuICAgICAgICAgICAgcmVhc29ucy5wdXNoKCdDYWxsZXIgSUQgbm90IGluIHZlcmlmaWVkIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICByaXNrTGV2ZWwgPSAnbWVkaXVtJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdXNwaWNpb3VzUGF0dGVybnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVhc29ucy5wdXNoKGBTdXNwaWNpb3VzIHBhdHRlcm5zIGRldGVjdGVkOiAke3N1c3BpY2lvdXNQYXR0ZXJucy5qb2luKCcsICcpfWApO1xuICAgICAgICAgICAgcmlza0xldmVsID0gJ2hpZ2gnO1xuICAgICAgICAgICAgbmVlZHNSZXZpZXcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwaG9uZVZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgICAgICAgcmVhc29ucy5wdXNoKCdJbnZhbGlkIHBob25lIG51bWJlciBmb3JtYXQnKTtcbiAgICAgICAgICAgIHJpc2tMZXZlbCA9ICdoaWdoJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1NhZmU6IHJpc2tMZXZlbCAhPT0gJ2hpZ2gnICYmIHBob25lVmFsaWRhdGlvbi5pc1ZhbGlkLFxuICAgICAgICAgICAgbmVlZHNSZXZpZXcsXG4gICAgICAgICAgICByaXNrTGV2ZWwsXG4gICAgICAgICAgICByZWFzb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3Nlc3NDYWxsUmlzayhjb25maWc6IEZha2VDYWxsQ29uZmlnLCBzZXNzaW9uOiBGYWtlQ2FsbEF1dGhTZXNzaW9uKTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB7XG4gICAgICAgIGxldCByaXNrU2NvcmUgPSAwO1xuXG4gICAgICAgIC8vIENoZWNrIGNhbGxlciB0eXBlXG4gICAgICAgIGlmIChjb25maWcuY2FsbGVySW5mby5jYWxsZXJUeXBlID09PSAnZW1lcmdlbmN5Jykge1xuICAgICAgICAgICAgcmlza1Njb3JlICs9IDMwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgYXV0by1hbnN3ZXIgc2V0dGluZ1xuICAgICAgICBpZiAoY29uZmlnLmF1dG9BbnN3ZXIpIHtcbiAgICAgICAgICAgIHJpc2tTY29yZSArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGR1cmF0aW9uXG4gICAgICAgIGlmIChjb25maWcuY2FsbER1cmF0aW9uID4gMzAwKSB7IC8vIDUgbWludXRlc1xuICAgICAgICAgICAgcmlza1Njb3JlICs9IDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjYWxsZXIgSURcbiAgICAgICAgaWYgKCFzZXNzaW9uLmZlYXR1cmVBY2Nlc3MuY3VzdG9tQ2FsbGVySWQpIHtcbiAgICAgICAgICAgIHJpc2tTY29yZSArPSAyNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgc2NvcmUgdG8gcmlzayBsZXZlbFxuICAgICAgICBpZiAocmlza1Njb3JlID49IDUwKSByZXR1cm4gJ2hpZ2gnO1xuICAgICAgICBpZiAocmlza1Njb3JlID49IDI1KSByZXR1cm4gJ21lZGl1bSc7XG4gICAgICAgIHJldHVybiAnbG93JztcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3VsZENvdW50VG93YXJkc1F1b3RhKGZlYXR1cmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBxdW90YUZlYXR1cmVzID0gW1xuICAgICAgICAgICAgJ3NjaGVkdWxlX2NhbGwnLFxuICAgICAgICAgICAgJ2Fuc3dlcl9jYWxsJyxcbiAgICAgICAgICAgICdjdXN0b21fY2FsbGVyX2lkJyxcbiAgICAgICAgICAgICd2b2ljZV9zeW50aGVzaXMnLFxuICAgICAgICAgICAgJ2FkdmFuY2VkX3NjaGVkdWxpbmcnXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBxdW90YUZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5jcmVtZW50VXNhZ2VDb3VudChzZXNzaW9uOiBGYWtlQ2FsbEF1dGhTZXNzaW9uLCBmZWF0dXJlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZENvdW50VG93YXJkc1F1b3RhKGZlYXR1cmUpKSByZXR1cm47XG5cbiAgICAgICAgc2Vzc2lvbi51c2FnZVF1b3RhLmRhaWx5LnVzZWQrKztcbiAgICAgICAgc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkudXNlZCsrO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tVc2FnZVF1b3RhcyhzZXNzaW9uOiBGYWtlQ2FsbEF1dGhTZXNzaW9uKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBzZXNzaW9uLnVzYWdlUXVvdGEuZGFpbHkudXNlZCA+PSBzZXNzaW9uLnVzYWdlUXVvdGEuZGFpbHkubGltaXQgfHxcbiAgICAgICAgICAgIHNlc3Npb24udXNhZ2VRdW90YS5tb250aGx5LnVzZWQgPj0gc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkubGltaXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROZXh0UmVzZXRUaW1lKHBlcmlvZDogJ2RhaWx5JyB8ICdtb250aGx5Jyk6IERhdGUge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGlmIChwZXJpb2QgPT09ICdkYWlseScpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUobm93KTtcbiAgICAgICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgICAgICB0b21vcnJvdy5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIHJldHVybiB0b21vcnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNb250aCA9IG5ldyBEYXRlKG5vdyk7XG4gICAgICAgICAgICBuZXh0TW9udGguc2V0TW9udGgobmV4dE1vbnRoLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgICAgIG5leHRNb250aC5zZXREYXRlKDEpO1xuICAgICAgICAgICAgbmV4dE1vbnRoLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRNb250aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaXNXaXRoaW5DdXJyZW50UGVyaW9kKHRpbWVzdGFtcDogRGF0ZSwgcGVyaW9kOiAnZGFpbHknIHwgJ21vbnRobHknKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKHBlcmlvZCA9PT0gJ2RhaWx5Jykge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZkRheSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGltZXN0YW1wID49IHN0YXJ0T2ZEYXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydE9mTW9udGggPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVzdGFtcCA+PSBzdGFydE9mTW9udGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFRvQXVkaXRMb2codXNlcklkOiBzdHJpbmcsIGVudHJ5OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdXNlckxvZyA9IHRoaXMuYXVkaXRMb2dzLmdldCh1c2VySWQpIHx8IFtdO1xuICAgICAgICB1c2VyTG9nLnB1c2goZW50cnkpO1xuXG4gICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDEwMDAgZW50cmllcyBwZXIgdXNlclxuICAgICAgICBpZiAodXNlckxvZy5sZW5ndGggPiAxMDAwKSB7XG4gICAgICAgICAgICB1c2VyTG9nLnNwbGljZSgwLCB1c2VyTG9nLmxlbmd0aCAtIDEwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdWRpdExvZ3Muc2V0KHVzZXJJZCwgdXNlckxvZyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBdWRpdExvZyh1c2VySWQ6IHN0cmluZyk6IGFueVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaXRMb2dzLmdldCh1c2VySWQpIHx8IFtdO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tTYWZlRGF0YWJhc2UobmFtZTogc3RyaW5nLCBwaG9uZU51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHdvdWxkIGNoZWNrIGFnYWluc3QgY29tcHJlaGVuc2l2ZSBzYWZlIGRhdGFiYXNlXG4gICAgICAgIC8vIEZvciBub3csIGJhc2ljIHZhbGlkYXRpb25cbiAgICAgICAgcmV0dXJuIG5hbWUubGVuZ3RoID4gMCAmJiBwaG9uZU51bWJlci5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tTdXNwaWNpb3VzUGF0dGVybnMoY2FsbGVySW5mbzogQ2FsbGVySW5mbyk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG9idmlvdXNseSBmYWtlIHBhdHRlcm5zXG4gICAgICAgIGlmIChjYWxsZXJJbmZvLm5hbWUubWF0Y2goL1xcZC8pKSB7XG4gICAgICAgICAgICBwYXR0ZXJucy5wdXNoKCduYW1lX2NvbnRhaW5zX251bWJlcnMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWxsZXJJbmZvLnBob25lTnVtYmVyLm1hdGNoKC8oXFxkKVxcMXs2LH0vKSkge1xuICAgICAgICAgICAgcGF0dGVybnMucHVzaCgncmVwZWF0ZWRfZGlnaXRzJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0dGVybnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB2YWxpZGF0ZVBob25lTnVtYmVyKHBob25lTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPHsgaXNWYWxpZDogYm9vbGVhbiB9PiB7XG4gICAgICAgIC8vIEJhc2ljIHBob25lIG51bWJlciB2YWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IHBob25lUmVnZXggPSAvXltcXCtdP1sxLTldW1xcZF17MCwxNX0kLztcbiAgICAgICAgY29uc3QgY2xlYW5lZCA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1tcXHNcXC1cXChcXCldL2csICcnKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNWYWxpZDogcGhvbmVSZWdleC50ZXN0KGNsZWFuZWQpICYmIGNsZWFuZWQubGVuZ3RoID49IDdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdldFN1YnNjcmlwdGlvbkZyb21TdG9yYWdlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTdWJzY3JpcHRpb25TdGF0dXM+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IEFzeW5jU3RvcmFnZS5nZXRJdGVtKGBzdWJzY3JpcHRpb25fJHt1c2VySWR9YCk7XG4gICAgICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0ZSBzdHJpbmdzIGJhY2sgdG8gRGF0ZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5leHBpcmVzQXQpIHBhcnNlZC5leHBpcmVzQXQgPSBuZXcgRGF0ZShwYXJzZWQuZXhwaXJlc0F0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkLmdyYWNlUGVyaW9kKSBwYXJzZWQuZ3JhY2VQZXJpb2QgPSBuZXcgRGF0ZShwYXJzZWQuZ3JhY2VQZXJpb2QpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBzdWJzY3JpcHRpb24gZnJvbSBzdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgc3Vic2NyaXB0aW9uIChmcmVlIHRpZXIpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICB0aWVyOiAnZnJlZScsXG4gICAgICAgICAgICBhdXRvUmVuZXc6IGZhbHNlLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZDogJ3Vua25vd24nLFxuICAgICAgICAgICAgdHJpYWxVc2VkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlU3Vic2NyaXB0aW9uU3RhdHVzKHNlc3Npb246IEZha2VDYWxsQXV0aFNlc3Npb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW4gcHJvZHVjdGlvbiwgd291bGQgZmV0Y2ggZnJlc2ggc3RhdHVzIGZyb20gc3Vic2NyaXB0aW9uIHNlcnZpY2VcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCB2YWxpZGF0ZSBleGlzdGluZyBzdGF0dXNcbiAgICAgICAgc2Vzc2lvbi5pc1Byb1RpZXIgPSBhd2FpdCB0aGlzLnZhbGlkYXRlU3Vic2NyaXB0aW9uU3RhdHVzKHNlc3Npb24uc3Vic2NyaXB0aW9uU3RhdHVzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0U3Vic2NyaXB0aW9uTW9uaXRvcmluZygpOiB2b2lkIHtcbiAgICAgICAgLy8gTW9uaXRvciBhbGwgYWN0aXZlIFBybyB1c2VycyBmb3Igc3Vic2NyaXB0aW9uIGNoYW5nZXNcbiAgICAgICAgdGhpcy5hY3RpdmVTZXNzaW9ucy5mb3JFYWNoKChzZXNzaW9uLCB1c2VySWQpID0+IHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1cy5pc0FjdGl2ZSAmJiBzZXNzaW9uLnN1YnNjcmlwdGlvblN0YXR1cy50aWVyICE9PSAnZnJlZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb25pdG9yID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVN1YnNjcmlwdGlvblN0YXR1cyhzZXNzaW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24uaXNQcm9UaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWN1cml0eU1vbml0b3IubG9nU2VjdXJpdHlFdmVudCgnZmFrZV9jYWxsX3N1YnNjcmlwdGlvbl9leHBpcmVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25TdGF0dXM6IHNlc3Npb24uc3Vic2NyaXB0aW9uU3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRoaXMuY29uZmlnLnN1YnNjcmlwdGlvbkNoZWNrSW50ZXJ2YWwgKiA2MCAqIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25Nb25pdG9ycy5zZXQodXNlcklkLCBtb25pdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplUHJpdmFjeUNvbXBsaWFuY2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgcHJpdmFjeSBtYW5hZ2VyIGZvciBHRFBSL0NDUEEgY29tcGxpYW5jZVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcHJpdmFjeVNldHRpbmdzID0gcHJpdmFjeU1hbmFnZXIuZ2V0UHJpdmFjeVNldHRpbmdzKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBQcml2YWN5IHNldHRpbmdzIGxvYWRlZDonLCBwcml2YWN5U2V0dGluZ3MpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgcHJpdmFjeSBjb21wbGlhbmNlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVSZXF1ZXN0SWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGByZXFfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNhbGxFcnJvcih0eXBlOiBDYWxsRXJyb3JUeXBlLCBtZXNzYWdlOiBzdHJpbmcpOiBDYWxsRXJyb3Ige1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGNvZGU6IHR5cGUsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgcmVjb3ZlcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uOiAnQ29udGFjdCBzdXBwb3J0IGlmIGlzc3VlIHBlcnNpc3RzJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGNhbGxJZDogJycsXG4gICAgICAgICAgICB1c2VySWQ6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQWN0aXZlU2Vzc2lvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnZmFrZV9jYWxsX2FjdGl2ZV9zZXNzaW9ucycpO1xuICAgICAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RvcmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNlc3Npb25zID0gbmV3IE1hcChwYXJzZWQubWFwKChbdXNlcklkLCBzZXNzaW9uXTogW3N0cmluZywgYW55XSkgPT4gW1xuICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VmFsaWRhdGVkOiBuZXcgRGF0ZShzZXNzaW9uLmxhc3RWYWxpZGF0ZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNhZ2VRdW90YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhaWx5OiB7IC4uLnNlc3Npb24udXNhZ2VRdW90YS5kYWlseSwgcmVzZXRBdDogbmV3IERhdGUoc2Vzc2lvbi51c2FnZVF1b3RhLmRhaWx5LnJlc2V0QXQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhseTogeyAuLi5zZXNzaW9uLnVzYWdlUXVvdGEubW9udGhseSwgcmVzZXRBdDogbmV3IERhdGUoc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkucmVzZXRBdCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWN0aXZlIHNlc3Npb25zOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2F2ZUFjdGl2ZVNlc3Npb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnNBcnJheSA9IEFycmF5LmZyb20odGhpcy5hY3RpdmVTZXNzaW9ucy5lbnRyaWVzKCkpO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXphYmxlID0gc2Vzc2lvbnNBcnJheS5tYXAoKFt1c2VySWQsIHNlc3Npb25dKSA9PiBbXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbGFzdFZhbGlkYXRlZDogc2Vzc2lvbi5sYXN0VmFsaWRhdGVkLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlUXVvdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhaWx5OiB7IC4uLnNlc3Npb24udXNhZ2VRdW90YS5kYWlseSwgcmVzZXRBdDogc2Vzc2lvbi51c2FnZVF1b3RhLmRhaWx5LnJlc2V0QXQudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhseTogeyAuLi5zZXNzaW9uLnVzYWdlUXVvdGEubW9udGhseSwgcmVzZXRBdDogc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHkucmVzZXRBdC50b0lTT1N0cmluZygpIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBhd2FpdCBBc3luY1N0b3JhZ2Uuc2V0SXRlbSgnZmFrZV9jYWxsX2FjdGl2ZV9zZXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6YWJsZSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgYWN0aXZlIHNlc3Npb25zOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2F2ZVNlc3Npb25Ub1N0b3JhZ2Uoc2Vzc2lvbjogRmFrZUNhbGxBdXRoU2Vzc2lvbik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYGZha2VfY2FsbF9zZXNzaW9uXyR7c2Vzc2lvbi51c2VySWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6YWJsZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICAgICAgICAgIGxhc3RWYWxpZGF0ZWQ6IHNlc3Npb24ubGFzdFZhbGlkYXRlZC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHVzYWdlUXVvdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZGFpbHk6IHsgLi4uc2Vzc2lvbi51c2FnZVF1b3RhLmRhaWx5LCByZXNldEF0OiBzZXNzaW9uLnVzYWdlUXVvdGEuZGFpbHkucmVzZXRBdC50b0lTT1N0cmluZygpIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vbnRobHk6IHsgLi4uc2Vzc2lvbi51c2FnZVF1b3RhLm1vbnRobHksIHJlc2V0QXQ6IHNlc3Npb24udXNhZ2VRdW90YS5tb250aGx5LnJlc2V0QXQudG9JU09TdHJpbmcoKSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShzZXJpYWxpemFibGUpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHNlc3Npb24gdG8gc3RvcmFnZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBmYWtlQ2FsbEF1dGhTZXJ2aWNlID0gbmV3IEZha2VDYWxsQXV0aGVudGljYXRpb25TZXJ2aWNlKCk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFRQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFFQSxJQUFBRyxnQkFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksZUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBTCxPQUFBO0FBQXdKLElBMkQzSU0sNkJBQTZCLEdBQUFDLE9BQUEsQ0FBQUQsNkJBQUE7RUFNdEMsU0FBQUEsOEJBQVlFLE1BQW9DLEVBQUU7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