{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_reactNative","_LocalDatabase","_SyncEngine","_NetworkConnectivityService","_OfflineStateManager","SyncManager","exports","_classCallCheck2","default","isInitialized","isRunning","syncInterval","backgroundInterval","listeners","Map","statusListeners","lastSyncAttempt","consecutiveFailures","MAX_CONSECUTIVE_FAILURES","MIN_SYNC_INTERVAL","config","getDefaultConfig","preferences","getDefaultPreferences","backgroundConfig","getDefaultBackgroundConfig","_createClass2","key","value","_initialize","_asyncToGenerator2","console","log","localDatabase","initialize","offlineSyncEngine","networkConnectivityService","offlineStateManager","loadConfiguration","setupEventListeners","startBackgroundProcessing","error","Error","apply","arguments","_triggerSync","now","Date","getProgress","progress","triggerSync","warn","pauseAutoSync","_queueData","table","operation","data","options","operationData","type","priority","maxRetries","retryCount","requiresAuth","metadata","operationId","queueOperation","addToSyncQueue","isOffline","backgroundSync","scheduleImmediateSync","queueData","_x","_x2","_x3","_x4","shouldRunAutoSync","isQualityGoodForSync","startAutoSync","_this","interval","getRecommendedSyncInterval","setInterval","clearInterval","scheduleSyncOnConnect","_this2","syncOnConnect","networkState","getCurrentState","isConnected","setTimeout","getServiceStatus","database","getStatus","sync","initialized","active","queueSize","getQueueSize","conflictsCount","getConflicts","length","lastSync","getLastSyncTime","network","storage","background","enabled","scheduled","running","lastRun","_resolveConflict","conflictId","resolution","resolveConflictManually","resolveConflict","_x5","_x6","_updateConfig","Object","assign","updateConfig","saveConfiguration","_x7","_updatePreferences","updatePreferences","_x8","_updateBackgroundConfig","updateBackgroundConfig","_x9","isManagerRunning","addProgressListener","id","listener","_this3","set","delete","addStatusListener","_this4","_getCachedData","fetcher","cached","getCachedData","cacheData","_x0","_x1","_clearAllOfflineData","clearCache","AsyncStorage","removeItem","clearAllOfflineData","_performMaintenance","results","cache","operations","cleanupCache","vacuum","cacheResult","performMaintenance","cleaned","processed","_dispose","dispose","clear","_this5","forEach","addListener","onConnectivityGained","onConnectivityLost","AppState","addEventListener","nextAppState","onAppForeground","onAppBackground","_this6","_loadConfiguration","stored","getItem","JSON","parse","_saveConfiguration","setItem","stringify","_this7","syncOnForeground","_this8","delay","undefined","batchSize","retryDelay","timeoutMs","enableCompression","enableEncryption","conflictResolutionStrategy","mergeRules","backgroundSyncEnabled","priorityWeights","enableOfflineMode","syncOnWifiOnly","dataCompression","storageLimit","conflictResolution","notificationSettings","syncStatus","conflicts","storageWarning","completion","errors","batteryLevelThreshold","requireCharging","requireWifi","maxSyncTime","retryAttempts","exponentialBackoff","getInstance","instance","syncManager","_default"],"sources":["SyncManager.ts"],"sourcesContent":["/**\n * Sync Manager - Central Orchestrator for Offline System\n * Coordinates all offline services and manages the complete sync lifecycle\n */\n\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AppState } from 'react-native';\n\nimport {\n    SyncConfig,\n    OfflinePreferences,\n    BackgroundSyncConfig,\n    SyncProgress,\n    SyncConflict,\n    OfflineServiceStatus,\n    BackgroundTaskStatus,\n    Listener,\n} from './types';\n\nimport { localDatabase } from './LocalDatabase';\nimport { offlineSyncEngine } from './SyncEngine';\nimport { networkConnectivityService } from './NetworkConnectivityService';\nimport { offlineStateManager } from './OfflineStateManager';\n\nexport class SyncManager {\n    private static instance: SyncManager;\n    private config: SyncConfig;\n    private preferences: OfflinePreferences;\n    private backgroundConfig: BackgroundSyncConfig;\n    private isInitialized = false;\n    private isRunning = false;\n    private syncInterval: number | null = null;\n    private backgroundInterval: number | null = null;\n    private listeners = new Map<string, Listener<SyncProgress>>();\n    private statusListeners = new Map<string, Listener<OfflineServiceStatus>>();\n    private lastSyncAttempt = 0;\n    private consecutiveFailures = 0;\n    private readonly MAX_CONSECUTIVE_FAILURES = 3;\n    private readonly MIN_SYNC_INTERVAL = 60000; // 1 minute\n\n    private constructor() {\n        this.config = this.getDefaultConfig();\n        this.preferences = this.getDefaultPreferences();\n        this.backgroundConfig = this.getDefaultBackgroundConfig();\n    }\n\n    public static getInstance(): SyncManager {\n        if (!SyncManager.instance) {\n            SyncManager.instance = new SyncManager();\n        }\n        return SyncManager.instance;\n    }\n\n    /**\n     * Initialize the sync manager and all dependent services\n     */\n    public async initialize(): Promise<void> {\n        if (this.isInitialized) return;\n\n        try {\n            console.log('üöÄ Initializing Offline Sync System...');\n\n            // Initialize all services in order\n            await localDatabase.initialize();\n            await offlineSyncEngine.initialize();\n            await networkConnectivityService.initialize();\n            await offlineStateManager.initialize();\n\n            // Load configuration\n            await this.loadConfiguration();\n\n            // Setup event listeners\n            this.setupEventListeners();\n\n            // Start background processes\n            this.startBackgroundProcessing();\n\n            this.isInitialized = true;\n            this.isRunning = true;\n\n            console.log('‚úÖ SyncManager and offline system initialized successfully');\n        } catch (error) {\n            console.error('‚ùå Failed to initialize SyncManager:', error);\n            throw new Error(`SyncManager initialization failed: ${error}`);\n        }\n    }\n\n    /**\n     * Trigger a manual sync operation\n     */\n    public async triggerSync(): Promise<SyncProgress> {\n        if (!this.isInitialized) {\n            throw new Error('SyncManager not initialized');\n        }\n\n        // Check if we should sync based on rate limiting\n        const now = Date.now();\n        if (now - this.lastSyncAttempt < this.MIN_SYNC_INTERVAL) {\n            console.log('‚è≥ Sync rate limited - too soon since last attempt');\n            return offlineSyncEngine.getProgress();\n        }\n\n        this.lastSyncAttempt = now;\n\n        try {\n            console.log('üîÑ Triggering manual sync...');\n            const progress = await offlineSyncEngine.triggerSync();\n\n            // Reset failure counter on success\n            this.consecutiveFailures = 0;\n\n            return progress;\n        } catch (error) {\n            this.consecutiveFailures++;\n            console.error('‚ùå Manual sync failed:', error);\n\n            if (this.consecutiveFailures >= this.MAX_CONSECUTIVE_FAILURES) {\n                console.warn('üö® Max consecutive failures reached - pausing auto-sync');\n                this.pauseAutoSync();\n            }\n\n            throw error;\n        }\n    }\n\n    /**\n     * Add data to sync queue\n     */\n    public async queueData(\n        table: string,\n        operation: 'create' | 'update' | 'delete',\n        data: any,\n        options?: {\n            priority?: number;\n            requiresAuth?: boolean;\n            metadata?: Record<string, any>;\n        }\n    ): Promise<string> {\n        const operationData = {\n            type: operation,\n            table,\n            data,\n            priority: options?.priority || 50,\n            maxRetries: 3,\n            retryCount: 0,\n            requiresAuth: options?.requiresAuth || true,\n            metadata: options?.metadata,\n        };\n\n        const operationId = await offlineStateManager.queueOperation(operationData);\n        await offlineSyncEngine.addToSyncQueue(operationData);\n\n        console.log(`üì§ Data queued for sync: ${operation} on ${table}`);\n\n        // Trigger immediate sync if we're online and preferences allow\n        if (!offlineStateManager.isOffline() && this.preferences.backgroundSync) {\n            this.scheduleImmediateSync();\n        }\n\n        return operationId;\n    }\n\n    /**\n     * Check if auto-sync is enabled and should run\n     */\n    public shouldRunAutoSync(): boolean {\n        if (!this.preferences.backgroundSync) return false;\n        if (offlineStateManager.isOffline()) return false;\n        if (this.consecutiveFailures >= this.MAX_CONSECUTIVE_FAILURES) return false;\n\n        // Check network quality\n        return networkConnectivityService.isQualityGoodForSync();\n    }\n\n    /**\n     * Start automatic sync scheduling\n     */\n    public startAutoSync(): void {\n        if (this.syncInterval) return;\n\n        console.log('üîÑ Starting auto-sync');\n\n        const interval = networkConnectivityService.getRecommendedSyncInterval();\n\n        this.syncInterval = setInterval(async () => {\n            if (this.shouldRunAutoSync()) {\n                try {\n                    await this.triggerSync();\n                } catch (error) {\n                    console.warn('Auto-sync failed:', error);\n                }\n            }\n        }, interval);\n    }\n\n    /**\n     * Stop automatic sync scheduling\n     */\n    public pauseAutoSync(): void {\n        if (this.syncInterval) {\n            clearInterval(this.syncInterval);\n            this.syncInterval = null;\n            console.log('‚è∏Ô∏è Auto-sync paused');\n        }\n    }\n\n    /**\n     * Schedule sync when connectivity is restored\n     */\n    public scheduleSyncOnConnect(): void {\n        if (!this.config.syncOnConnect) return;\n\n        const networkState = networkConnectivityService.getCurrentState();\n        if (networkState?.isConnected) {\n            setTimeout(() => this.triggerSync(), 2000); // Wait 2 seconds for stability\n        }\n    }\n\n    /**\n     * Get comprehensive service status\n     */\n    public getServiceStatus(): OfflineServiceStatus {\n        return {\n            database: localDatabase.getStatus(),\n            sync: {\n                initialized: offlineSyncEngine.getStatus() !== null,\n                active: this.isRunning,\n                queueSize: offlineStateManager.getQueueSize(),\n                conflictsCount: offlineSyncEngine.getConflicts().length,\n                lastSync: offlineSyncEngine.getLastSyncTime(),\n            },\n            network: networkConnectivityService.getStatus(),\n            storage: offlineStateManager.getStatus(),\n            background: {\n                enabled: this.preferences.backgroundSync,\n                scheduled: this.syncInterval !== null,\n                running: this.isRunning,\n                lastRun: offlineSyncEngine.getLastSyncTime(),\n            },\n        };\n    }\n\n    /**\n     * Get active conflicts\n     */\n    public getConflicts(): SyncConflict[] {\n        return offlineSyncEngine.getConflicts();\n    }\n\n    /**\n     * Resolve a sync conflict\n     */\n    public async resolveConflict(conflictId: string, resolution: any): Promise<void> {\n        await offlineSyncEngine.resolveConflictManually(conflictId, resolution);\n    }\n\n    /**\n     * Update sync configuration\n     */\n    public async updateConfig(config: Partial<SyncConfig>): Promise<void> {\n        this.config = { ...this.config, ...config };\n        await offlineSyncEngine.updateConfig(this.config);\n        await this.saveConfiguration();\n\n        console.log('‚öôÔ∏è SyncManager configuration updated');\n    }\n\n    /**\n     * Update user preferences\n     */\n    public async updatePreferences(preferences: Partial<OfflinePreferences>): Promise<void> {\n        this.preferences = { ...this.preferences, ...preferences };\n        await this.saveConfiguration();\n\n        // Apply preference changes\n        if (this.preferences.backgroundSync) {\n            this.startAutoSync();\n        } else {\n            this.pauseAutoSync();\n        }\n\n        console.log('‚öôÔ∏è SyncManager preferences updated');\n    }\n\n    /**\n     * Update background sync configuration\n     */\n    public async updateBackgroundConfig(config: Partial<BackgroundSyncConfig>): Promise<void> {\n        this.backgroundConfig = { ...this.backgroundConfig, ...config };\n        await this.saveConfiguration();\n        console.log('‚öôÔ∏è Background sync configuration updated');\n    }\n\n    /**\n     * Get sync progress\n     */\n    public getProgress(): SyncProgress {\n        return offlineSyncEngine.getProgress();\n    }\n\n    /**\n     * Check if manager is running\n     */\n    public isManagerRunning(): boolean {\n        return this.isRunning;\n    }\n\n    /**\n     * Add progress listener\n     */\n    public addProgressListener(id: string, listener: Listener<SyncProgress>): () => void {\n        this.listeners.set(id, listener);\n        return () => this.listeners.delete(id);\n    }\n\n    /**\n     * Add status listener\n     */\n    public addStatusListener(id: string, listener: Listener<OfflineServiceStatus>): () => void {\n        this.statusListeners.set(id, listener);\n        return () => this.statusListeners.delete(id);\n    }\n\n    /**\n     * Get cached data with offline support\n     */\n    public async getCachedData<T>(key: string, fetcher?: () => Promise<T>): Promise<T | null> {\n        // Try cache first\n        const cached = offlineStateManager.getCachedData<T>(key);\n        if (cached) return cached;\n\n        // If no cache and we have a fetcher, fetch and cache\n        if (fetcher && !offlineStateManager.isOffline()) {\n            try {\n                const data = await fetcher();\n                await offlineStateManager.cacheData(key, data);\n                return data;\n            } catch (error) {\n                console.warn(`Failed to fetch data for key ${key}:`, error);\n                return null;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Clear all offline data (for logout/reset)\n     */\n    public async clearAllOfflineData(): Promise<void> {\n        console.log('üóëÔ∏è Clearing all offline data...');\n\n        try {\n            // Clear operation queue\n            await offlineStateManager.clearCache();\n\n            // Clear sync conflicts and queue\n            await AsyncStorage.removeItem('sync_conflicts');\n            await AsyncStorage.removeItem('sync_queue');\n\n            // Clear analytics\n            await AsyncStorage.removeItem('sync_analytics');\n\n            // Reset failure counter\n            this.consecutiveFailures = 0;\n\n            console.log('‚úÖ All offline data cleared');\n        } catch (error) {\n            console.error('‚ùå Failed to clear offline data:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Perform system maintenance\n     */\n    public async performMaintenance(): Promise<{\n        database: number;\n        cache: number;\n        operations: number;\n    }> {\n        console.log('üîß Performing offline system maintenance...');\n\n        const results = {\n            database: 0,\n            cache: 0,\n            operations: 0,\n        };\n\n        try {\n            // Database maintenance\n            if (this.isInitialized && localDatabase) {\n                await localDatabase.cleanupCache();\n                await localDatabase.vacuum();\n                results.database = 1;\n            }\n\n            // Cache maintenance\n            const cacheResult = await offlineStateManager.performMaintenance();\n            results.cache = cacheResult.cleaned;\n            results.operations = cacheResult.processed;\n\n            console.log('‚úÖ System maintenance completed:', results);\n            return results;\n        } catch (error) {\n            console.error('‚ùå System maintenance failed:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Dispose of all resources\n     */\n    public async dispose(): Promise<void> {\n        console.log('üßπ Disposing SyncManager...');\n\n        // Stop intervals\n        if (this.syncInterval) {\n            clearInterval(this.syncInterval);\n            this.syncInterval = null;\n        }\n\n        if (this.backgroundInterval) {\n            clearInterval(this.backgroundInterval);\n            this.backgroundInterval = null;\n        }\n\n        // Dispose services\n        await offlineSyncEngine.dispose();\n        await networkConnectivityService.dispose();\n        await offlineStateManager.dispose();\n\n        // Clear listeners\n        this.listeners.clear();\n        this.statusListeners.clear();\n\n        this.isInitialized = false;\n        this.isRunning = false;\n\n        console.log('‚úÖ SyncManager disposed');\n    }\n\n    // Private methods\n\n    private setupEventListeners(): void {\n        // Sync progress listener\n        offlineSyncEngine.addProgressListener('sync_manager', (progress) => {\n            this.listeners.forEach(listener => listener(progress));\n        });\n\n        // Network connectivity listener\n        networkConnectivityService.addListener('sync_manager', (networkState) => {\n            if (networkState.isConnected) {\n                this.onConnectivityGained();\n            } else {\n                this.onConnectivityLost();\n            }\n        });\n\n        // App state listener\n        AppState.addEventListener('change', (nextAppState) => {\n            if (nextAppState === 'active') {\n                this.onAppForeground();\n            } else if (nextAppState === 'background') {\n                this.onAppBackground();\n            }\n        });\n    }\n\n    private startBackgroundProcessing(): void {\n        // Start auto-sync if enabled\n        if (this.preferences.backgroundSync) {\n            this.startAutoSync();\n        }\n\n        // Periodic maintenance\n        this.backgroundInterval = setInterval(async () => {\n            if (this.isInitialized) {\n                try {\n                    await this.performMaintenance();\n                } catch (error) {\n                    console.warn('Background maintenance failed:', error);\n                }\n            }\n        }, 30 * 60 * 1000); // Every 30 minutes\n    }\n\n    private async loadConfiguration(): Promise<void> {\n        try {\n            const stored = await AsyncStorage.getItem('sync_manager_config');\n            if (stored) {\n                const config = JSON.parse(stored);\n                this.config = { ...this.config, ...config.config };\n                this.preferences = { ...this.preferences, ...config.preferences };\n                this.backgroundConfig = { ...this.backgroundConfig, ...config.backgroundConfig };\n            }\n        } catch (error) {\n            console.warn('Failed to load sync manager configuration:', error);\n        }\n    }\n\n    private async saveConfiguration(): Promise<void> {\n        try {\n            const config = {\n                config: this.config,\n                preferences: this.preferences,\n                backgroundConfig: this.backgroundConfig,\n            };\n            await AsyncStorage.setItem('sync_manager_config', JSON.stringify(config));\n        } catch (error) {\n            console.warn('Failed to save sync manager configuration:', error);\n        }\n    }\n\n    private onConnectivityGained(): void {\n        console.log('üîå Connectivity gained');\n\n        // Resume auto-sync if it was paused due to failures\n        if (this.consecutiveFailures < this.MAX_CONSECUTIVE_FAILURES) {\n            this.startAutoSync();\n        }\n\n        // Schedule sync if enabled\n        this.scheduleSyncOnConnect();\n    }\n\n    private onConnectivityLost(): void {\n        console.log('üì¥ Connectivity lost');\n\n        // Pause auto-sync\n        this.pauseAutoSync();\n    }\n\n    private onAppForeground(): void {\n        console.log('üì± App came to foreground');\n\n        // Trigger sync if enabled and conditions are met\n        if (this.shouldRunAutoSync()) {\n            this.scheduleImmediateSync(5000); // Wait 5 seconds for stability\n        }\n    }\n\n    private onAppBackground(): void {\n        console.log('üì± App went to background');\n\n        // Optional: trigger final sync\n        if (this.config.syncOnForeground && !offlineStateManager.isOffline()) {\n            setTimeout(() => this.triggerSync(), 1000);\n        }\n    }\n\n    private scheduleImmediateSync(delay: number = 1000): void {\n        setTimeout(async () => {\n            if (this.shouldRunAutoSync()) {\n                try {\n                    await this.triggerSync();\n                } catch (error) {\n                    console.warn('Immediate sync failed:', error);\n                }\n            }\n        }, delay);\n    }\n\n    private getDefaultConfig(): SyncConfig {\n        return {\n            batchSize: 50,\n            maxRetries: 3,\n            retryDelay: 1000,\n            timeoutMs: 30000,\n            enableCompression: true,\n            enableEncryption: false,\n            conflictResolutionStrategy: {\n                type: 'last_write_wins',\n                mergeRules: {},\n            },\n            backgroundSyncEnabled: true,\n            syncOnConnect: true,\n            syncOnForeground: false,\n            priorityWeights: {\n                1: 4, // CRITICAL\n                2: 3, // HIGH\n                3: 2, // NORMAL\n                4: 1, // LOW\n            },\n        };\n    }\n\n    private getDefaultPreferences(): OfflinePreferences {\n        return {\n            enableOfflineMode: true,\n            backgroundSync: true,\n            syncOnWifiOnly: false,\n            dataCompression: true,\n            storageLimit: 50, // MB\n            conflictResolution: {\n                type: 'last_write_wins',\n                mergeRules: {},\n            },\n            notificationSettings: {\n                syncStatus: true,\n                conflicts: true,\n                storageWarning: true,\n                completion: false,\n                errors: true,\n            },\n        };\n    }\n\n    private getDefaultBackgroundConfig(): BackgroundSyncConfig {\n        return {\n            enabled: true,\n            interval: 300, // 5 minutes\n            batteryLevelThreshold: 0.2, // 20%\n            requireCharging: false,\n            requireWifi: false,\n            maxSyncTime: 60, // 1 minute\n            retryAttempts: 3,\n            exponentialBackoff: true,\n        };\n    }\n}\n\n// Export singleton instance\nexport const syncManager = SyncManager.getInstance();\nexport default SyncManager;"],"mappings":"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","ignoreList":[]}