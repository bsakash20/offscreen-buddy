{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_asyncStorage","_interopRequireDefault","_theme","_jsxRuntime","ThemeContext","createContext","undefined","THEME_STORAGE_KEY","SYSTEM_THEME_LISTENER_KEY","useTheme","exports","context","useContext","Error","ThemeProvider","_ref","children","_ref$defaultMode","defaultMode","_ref$enableSystemThem","enableSystemTheme","_ref$enablePersistenc","enablePersistence","_ref$enableAnimations","enableAnimations","_useState","useState","_useState2","_slicedToArray2","default","mode","setMode","_useState3","_useState4","systemTheme","setSystemTheme","_useState5","_useState6","isLoading","setIsLoading","_useState7","createTheme","_useState8","currentTheme","setCurrentTheme","useEffect","initializeTheme","subscription","Appearance","addChangeListener","_ref2","colorScheme","newSystemTheme","effectiveTheme","themeUtils","getEffectiveTheme","remove","updateTheme","_ref3","_asyncToGenerator2","currentSystemTheme","getSystemTheme","storedMode","stored","AsyncStorage","getItem","includes","initialTheme","error","console","apply","arguments","_ref4","newTheme","setItem","toggleTheme","newMode","setTheme","getResponsiveTheme","width","height","createResponsiveTheme","contextValue","theme","isDark","isSystemThemeDark","jsx","Provider","value","useThemeMode","_useTheme","useThemeColors","_useTheme2","colors","useThemeSpacing","_useTheme3","spacing","useThemeTypography","_useTheme4","typography","useResponsiveTheme","_useTheme5","themeAnimations","getThemeTransitionAnimation","duration","length","easing","getBackgroundTransition","backgroundColor","transition","getTextTransition","color","useThemeValidation","_useTheme6","validateCurrentTheme","_require","validateTheme","useDarkMode","_useTheme7","isSystemMode","effectiveMode","themePersistence","clearStoredPreference","_clearStoredPreference","removeItem","getStoredPreference","_getStoredPreference","setStoredPreference","_setStoredPreference","_x","_default"],"sources":["ThemeProvider.tsx"],"sourcesContent":["/**\n * Mobile-First Design System - Theme Provider\n * Context provider for theme management with system theme detection and persistence\n */\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Appearance, ColorSchemeName } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { createTheme, ThemeConfig, ThemeMode, themeUtils } from '../tokens/theme';\n\ninterface ThemeContextType {\n    // Current theme state\n    mode: ThemeMode;\n    theme: ThemeConfig;\n    isDark: boolean;\n    isSystemThemeDark: boolean;\n\n    // Theme actions\n    toggleTheme: () => void;\n    setTheme: (mode: ThemeMode) => void;\n\n    // Responsive theme utilities\n    getResponsiveTheme: (width: number, height: number) => ThemeConfig;\n\n    // Loading state\n    isLoading: boolean;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\ninterface ThemeProviderProps {\n    children: ReactNode;\n    defaultMode?: ThemeMode;\n    enableSystemTheme?: boolean;\n    enablePersistence?: boolean;\n    enableAnimations?: boolean;\n}\n\nconst THEME_STORAGE_KEY = '@offscreen_buddy_theme_preference';\nconst SYSTEM_THEME_LISTENER_KEY = 'system_theme_listener';\n\n// Hook to access theme context\nexport const useTheme = () => {\n    const context = useContext(ThemeContext);\n    if (context === undefined) {\n        throw new Error('useTheme must be used within a ThemeProvider');\n    }\n    return context;\n};\n\n// Theme provider component\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\n    children,\n    defaultMode = 'system',\n    enableSystemTheme = true,\n    enablePersistence = true,\n    enableAnimations = true,\n}) => {\n    // State management\n    const [mode, setMode] = useState<ThemeMode>(defaultMode);\n    const [systemTheme, setSystemTheme] = useState<boolean>(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [currentTheme, setCurrentTheme] = useState<ThemeConfig>(() => createTheme('light'));\n\n    // Initialize theme system\n    useEffect(() => {\n        initializeTheme();\n    }, []);\n\n    // Listen for system theme changes\n    useEffect(() => {\n        if (!enableSystemTheme) return;\n\n        const subscription = Appearance.addChangeListener(({ colorScheme }) => {\n            const newSystemTheme = colorScheme === 'dark';\n            setSystemTheme(newSystemTheme);\n\n            // If using system theme, update current theme\n            if (mode === 'system') {\n                const effectiveTheme = themeUtils.getEffectiveTheme('system', newSystemTheme);\n                setCurrentTheme(createTheme(effectiveTheme));\n            }\n        });\n\n        return () => {\n            subscription?.remove();\n        };\n    }, [mode, enableSystemTheme]);\n\n    // Update theme when mode changes\n    useEffect(() => {\n        if (!isLoading) {\n            updateTheme();\n        }\n    }, [mode, systemTheme, isLoading]);\n\n    // Initialize theme from storage and system preference\n    const initializeTheme = async () => {\n        try {\n            setIsLoading(true);\n\n            // Get system theme\n            const currentSystemTheme = themeUtils.getSystemTheme();\n            setSystemTheme(currentSystemTheme);\n\n            // Get stored preference or use default\n            let storedMode: ThemeMode = defaultMode;\n\n            if (enablePersistence) {\n                const stored = await AsyncStorage.getItem(THEME_STORAGE_KEY);\n                if (stored && ['light', 'dark', 'system'].includes(stored)) {\n                    storedMode = stored as ThemeMode;\n                    setMode(storedMode);\n                }\n            }\n\n            // Create initial theme\n            const effectiveTheme = themeUtils.getEffectiveTheme(storedMode, currentSystemTheme);\n            const initialTheme = createTheme(effectiveTheme);\n            setCurrentTheme(initialTheme);\n\n        } catch (error) {\n            console.error('Failed to initialize theme:', error);\n            // Fallback to default theme\n            setCurrentTheme(createTheme('light'));\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // Update current theme based on mode\n    const updateTheme = async () => {\n        try {\n            const effectiveTheme = themeUtils.getEffectiveTheme(mode, systemTheme);\n            const newTheme = createTheme(effectiveTheme);\n            setCurrentTheme(newTheme);\n\n            // Persist preference\n            if (enablePersistence) {\n                await AsyncStorage.setItem(THEME_STORAGE_KEY, mode);\n            }\n\n        } catch (error) {\n            console.error('Failed to update theme:', error);\n        }\n    };\n\n    // Toggle between light and dark themes\n    const toggleTheme = () => {\n        if (mode === 'system') {\n            // If using system theme, switch to the opposite of current system theme\n            const newMode = systemTheme ? 'light' : 'dark';\n            setMode(newMode);\n        } else {\n            // Toggle between light and dark\n            setMode(mode === 'light' ? 'dark' : 'light');\n        }\n    };\n\n    // Set specific theme mode\n    const setTheme = (newMode: ThemeMode) => {\n        setMode(newMode);\n    };\n\n    // Get responsive theme variant\n    const getResponsiveTheme = (width: number, height: number): ThemeConfig => {\n        return themeUtils.createResponsiveTheme(currentTheme, width, height);\n    };\n\n    // Context value\n    const contextValue: ThemeContextType = {\n        mode,\n        theme: currentTheme,\n        isDark: mode === 'dark' || (mode === 'system' && systemTheme),\n        isSystemThemeDark: systemTheme,\n        toggleTheme,\n        setTheme,\n        getResponsiveTheme,\n        isLoading,\n    };\n\n    return (\n        <ThemeContext.Provider value={contextValue}>\n            {children}\n        </ThemeContext.Provider>\n    );\n};\n\n// Theme hook for components\nexport const useThemeMode = () => {\n    const { mode, toggleTheme, setTheme, isDark } = useTheme();\n    return { mode, toggleTheme, setTheme, isDark };\n};\n\n// Theme colors hook for convenience\nexport const useThemeColors = () => {\n    const { theme } = useTheme();\n    return theme.colors;\n};\n\n// Theme spacing hook\nexport const useThemeSpacing = () => {\n    const { theme } = useTheme();\n    return theme.spacing;\n};\n\n// Theme typography hook\nexport const useThemeTypography = () => {\n    const { theme } = useTheme();\n    return theme.typography;\n};\n\n// Responsive theme hook\nexport const useResponsiveTheme = () => {\n    const { getResponsiveTheme } = useTheme();\n    return { getResponsiveTheme };\n};\n\n// Theme animation utilities\nexport const themeAnimations = {\n    // Smooth theme transition animation\n    getThemeTransitionAnimation: (duration: number = 300) => ({\n        duration,\n        easing: 'easeInOut',\n    }),\n\n    // Background color transition\n    getBackgroundTransition: (isDark: boolean, duration: number = 300) => ({\n        backgroundColor: isDark ? '#000000' : '#FFFFFF',\n        transition: {\n            duration,\n            easing: 'easeInOut',\n        },\n    }),\n\n    // Text color transition\n    getTextTransition: (isDark: boolean, duration: number = 300) => ({\n        color: isDark ? '#FFFFFF' : '#000000',\n        transition: {\n            duration,\n            easing: 'easeInOut',\n        },\n    }),\n};\n\n// Theme validation hook\nexport const useThemeValidation = () => {\n    const { theme } = useTheme();\n\n    const validateCurrentTheme = () => {\n        const { validateTheme } = require('../tokens/theme');\n        return validateTheme(theme);\n    };\n\n    return { validateCurrentTheme };\n};\n\n// Dark mode hook\nexport const useDarkMode = () => {\n    const { isDark, mode, isSystemThemeDark } = useTheme();\n\n    return {\n        isDark,\n        mode,\n        isSystemThemeDark,\n        isSystemMode: mode === 'system',\n        effectiveMode: isDark ? 'dark' as const : 'light' as const,\n    };\n};\n\n// Theme persistence utilities\nexport const themePersistence = {\n    // Clear stored theme preference\n    clearStoredPreference: async (): Promise<void> => {\n        try {\n            await AsyncStorage.removeItem(THEME_STORAGE_KEY);\n        } catch (error) {\n            console.error('Failed to clear theme preference:', error);\n        }\n    },\n\n    // Get stored theme preference\n    getStoredPreference: async (): Promise<ThemeMode | null> => {\n        try {\n            const stored = await AsyncStorage.getItem(THEME_STORAGE_KEY);\n            return stored ? (stored as ThemeMode) : null;\n        } catch (error) {\n            console.error('Failed to get stored theme preference:', error);\n            return null;\n        }\n    },\n\n    // Set theme preference\n    setStoredPreference: async (mode: ThemeMode): Promise<void> => {\n        try {\n            await AsyncStorage.setItem(THEME_STORAGE_KEY, mode);\n        } catch (error) {\n            console.error('Failed to set theme preference:', error);\n        }\n    },\n};\n\n// Export provider and hooks\nexport default ThemeProvider;"],"mappings":"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","ignoreList":[]}